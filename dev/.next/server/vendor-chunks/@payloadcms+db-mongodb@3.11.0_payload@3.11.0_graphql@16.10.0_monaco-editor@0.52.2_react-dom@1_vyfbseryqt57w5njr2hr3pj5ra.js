"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra";
exports.ids = ["vendor-chunks/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra"];
exports.modules = {

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connect: () => (/* binding */ connect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n\nconst connect = async function connect(options = {\n    hotReload: false\n}) {\n    const { hotReload } = options;\n    if (this.url === false) {\n        return;\n    }\n    if (typeof this.url !== 'string') {\n        throw new Error('Error: missing MongoDB connection URL.');\n    }\n    const urlToConnect = this.url;\n    const connectionOptions = {\n        autoIndex: true,\n        ...this.connectOptions,\n        useFacet: undefined\n    };\n    if (hotReload) {\n        connectionOptions.autoIndex = false;\n    }\n    try {\n        this.connection = (await mongoose__WEBPACK_IMPORTED_MODULE_0__.connect(urlToConnect, connectionOptions)).connection;\n        // If we are running a replica set with MongoDB Memory Server,\n        // wait until the replica set elects a primary before proceeding\n        if (this.mongoMemoryServer) {\n            await new Promise((resolve)=>setTimeout(resolve, 2000));\n        }\n        const client = this.connection.getClient();\n        if (!client.options.replicaSet) {\n            this.transactionOptions = false;\n            this.beginTransaction = undefined;\n        }\n        if (!this.mongoMemoryServer && !hotReload) {\n            if (process.env.PAYLOAD_DROP_DATABASE === 'true') {\n                this.payload.logger.info('---- DROPPING DATABASE ----');\n                await mongoose__WEBPACK_IMPORTED_MODULE_0__.connection.dropDatabase();\n                this.payload.logger.info('---- DROPPED DATABASE ----');\n            }\n        }\n        if (this.ensureIndexes) {\n            await Promise.all(this.payload.config.collections.map(async (coll)=>{\n                await this.collections[coll.slug]?.ensureIndexes();\n            }));\n        }\n        if (false) {}\n    } catch (err) {\n        this.payload.logger.error({\n            err,\n            msg: `Error: cannot connect to MongoDB. Details: ${err.message}`\n        });\n        process.exit(1);\n    }\n};\n\n//# sourceMappingURL=connect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2Nvbm5lY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFDekI7QUFDUDtBQUNBLENBQUM7QUFDRCxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkNBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxZQUFZLEtBQTRELEVBQUUsRUFJakU7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBLCtEQUErRCxZQUFZO0FBQzNFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuZXhwb3J0IGNvbnN0IGNvbm5lY3QgPSBhc3luYyBmdW5jdGlvbiBjb25uZWN0KG9wdGlvbnMgPSB7XG4gICAgaG90UmVsb2FkOiBmYWxzZVxufSkge1xuICAgIGNvbnN0IHsgaG90UmVsb2FkIH0gPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLnVybCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMudXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yOiBtaXNzaW5nIE1vbmdvREIgY29ubmVjdGlvbiBVUkwuJyk7XG4gICAgfVxuICAgIGNvbnN0IHVybFRvQ29ubmVjdCA9IHRoaXMudXJsO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0ge1xuICAgICAgICBhdXRvSW5kZXg6IHRydWUsXG4gICAgICAgIC4uLnRoaXMuY29ubmVjdE9wdGlvbnMsXG4gICAgICAgIHVzZUZhY2V0OiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGlmIChob3RSZWxvYWQpIHtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuYXV0b0luZGV4ID0gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IChhd2FpdCBtb25nb29zZS5jb25uZWN0KHVybFRvQ29ubmVjdCwgY29ubmVjdGlvbk9wdGlvbnMpKS5jb25uZWN0aW9uO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgcnVubmluZyBhIHJlcGxpY2Egc2V0IHdpdGggTW9uZ29EQiBNZW1vcnkgU2VydmVyLFxuICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSByZXBsaWNhIHNldCBlbGVjdHMgYSBwcmltYXJ5IGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgICAgIGlmICh0aGlzLm1vbmdvTWVtb3J5U2VydmVyKSB7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PnNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuY29ubmVjdGlvbi5nZXRDbGllbnQoKTtcbiAgICAgICAgaWYgKCFjbGllbnQub3B0aW9ucy5yZXBsaWNhU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uT3B0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5iZWdpblRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tb25nb01lbW9yeVNlcnZlciAmJiAhaG90UmVsb2FkKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuUEFZTE9BRF9EUk9QX0RBVEFCQVNFID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBheWxvYWQubG9nZ2VyLmluZm8oJy0tLS0gRFJPUFBJTkcgREFUQUJBU0UgLS0tLScpO1xuICAgICAgICAgICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcERhdGFiYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXlsb2FkLmxvZ2dlci5pbmZvKCctLS0tIERST1BQRUQgREFUQUJBU0UgLS0tLScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVuc3VyZUluZGV4ZXMpIHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMucGF5bG9hZC5jb25maWcuY29sbGVjdGlvbnMubWFwKGFzeW5jIChjb2xsKT0+e1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29sbGVjdGlvbnNbY29sbC5zbHVnXT8uZW5zdXJlSW5kZXhlcygpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIHRoaXMucHJvZE1pZ3JhdGlvbnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubWlncmF0ZSh7XG4gICAgICAgICAgICAgICAgbWlncmF0aW9uczogdGhpcy5wcm9kTWlncmF0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBtc2c6IGBFcnJvcjogY2Fubm90IGNvbm5lY3QgdG8gTW9uZ29EQi4gRGV0YWlsczogJHtlcnIubWVzc2FnZX1gXG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfVxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ubmVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst count = async function count({ collection, locale, req, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=count.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRDtBQUNLO0FBQ2hELHFDQUFxQyxnQ0FBZ0M7QUFDNUU7QUFDQTtBQUNBLHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9jb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuZXhwb3J0IGNvbnN0IGNvdW50ID0gYXN5bmMgZnVuY3Rpb24gY291bnQoeyBjb2xsZWN0aW9uLCBsb2NhbGUsIHJlcSwgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGxldCBoYXNOZWFyQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgLy8gdXNlRXN0aW1hdGVkQ291bnQgaXMgZmFzdGVyLCBidXQgbm90IGFjY3VyYXRlLCBhcyBpdCBpZ25vcmVzIGFueSBmaWx0ZXJzLiBJdCBpcyB0aHVzIHNldCB0byB0cnVlIGlmIHRoZXJlIGFyZSBubyBmaWx0ZXJzLlxuICAgIGNvbnN0IHVzZUVzdGltYXRlZENvdW50ID0gaGFzTmVhckNvbnN0cmFpbnQgfHwgIXF1ZXJ5IHx8IE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDA7XG4gICAgaWYgKCF1c2VFc3RpbWF0ZWRDb3VudCAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwICYmIHRoaXMuZGlzYWJsZUluZGV4SGludHMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gSW1wcm92ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvdW50RG9jdW1lbnRzIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgaWYgdXNlRXN0aW1hdGVkQ291bnQgaXMgc2V0IHRvIGZhbHNlIGJ5IGFkZGluZ1xuICAgICAgICAvLyBhIGhpbnQuIEJ5IGRlZmF1bHQsIGlmIG5vIGhpbnQgaXMgcHJvdmlkZWQsIE1vbmdvREIgZG9lcyBub3QgdXNlIGFuIGluZGV4ZWQgZmllbGQgdG8gY291bnQgdGhlIHJldHVybmVkIGRvY3VtZW50cyxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgcXVlcmllcyB2ZXJ5IHNsb3cuIFRoaXMgb25seSBoYXBwZW5zIHdoZW4gbm8gcXVlcnkgKGZpbHRlcikgaXMgcHJvdmlkZWQuIElmIG9uZSBpcyBwcm92aWRlZCwgaXQgdXNlc1xuICAgICAgICAvLyB0aGUgY29ycmVjdCBpbmRleGVkIGZpZWxkXG4gICAgICAgIG9wdGlvbnMuaGludCA9IHtcbiAgICAgICAgICAgIF9pZDogMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh1c2VFc3RpbWF0ZWRDb3VudCkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBNb2RlbC5lc3RpbWF0ZWREb2N1bWVudENvdW50KHtcbiAgICAgICAgICAgIHNlc3Npb246IG9wdGlvbnMuc2Vzc2lvblxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBNb2RlbC5jb3VudERvY3VtZW50cyhxdWVyeSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsRG9jczogcmVzdWx0XG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countGlobalVersions: () => (/* binding */ countGlobalVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst countGlobalVersions = async function countGlobalVersions({ global, locale, req, where }) {\n    const Model = this.versions[global];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=countGlobalVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50R2xvYmFsVmVyc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEO0FBQ0s7QUFDaEQsaUVBQWlFLDRCQUE0QjtBQUNwRztBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtREFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50R2xvYmFsVmVyc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmV4cG9ydCBjb25zdCBjb3VudEdsb2JhbFZlcnNpb25zID0gYXN5bmMgZnVuY3Rpb24gY291bnRHbG9iYWxWZXJzaW9ucyh7IGdsb2JhbCwgbG9jYWxlLCByZXEsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMudmVyc2lvbnNbZ2xvYmFsXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGxldCBoYXNOZWFyQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgLy8gdXNlRXN0aW1hdGVkQ291bnQgaXMgZmFzdGVyLCBidXQgbm90IGFjY3VyYXRlLCBhcyBpdCBpZ25vcmVzIGFueSBmaWx0ZXJzLiBJdCBpcyB0aHVzIHNldCB0byB0cnVlIGlmIHRoZXJlIGFyZSBubyBmaWx0ZXJzLlxuICAgIGNvbnN0IHVzZUVzdGltYXRlZENvdW50ID0gaGFzTmVhckNvbnN0cmFpbnQgfHwgIXF1ZXJ5IHx8IE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDA7XG4gICAgaWYgKCF1c2VFc3RpbWF0ZWRDb3VudCAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwICYmIHRoaXMuZGlzYWJsZUluZGV4SGludHMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gSW1wcm92ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvdW50RG9jdW1lbnRzIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgaWYgdXNlRXN0aW1hdGVkQ291bnQgaXMgc2V0IHRvIGZhbHNlIGJ5IGFkZGluZ1xuICAgICAgICAvLyBhIGhpbnQuIEJ5IGRlZmF1bHQsIGlmIG5vIGhpbnQgaXMgcHJvdmlkZWQsIE1vbmdvREIgZG9lcyBub3QgdXNlIGFuIGluZGV4ZWQgZmllbGQgdG8gY291bnQgdGhlIHJldHVybmVkIGRvY3VtZW50cyxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgcXVlcmllcyB2ZXJ5IHNsb3cuIFRoaXMgb25seSBoYXBwZW5zIHdoZW4gbm8gcXVlcnkgKGZpbHRlcikgaXMgcHJvdmlkZWQuIElmIG9uZSBpcyBwcm92aWRlZCwgaXQgdXNlc1xuICAgICAgICAvLyB0aGUgY29ycmVjdCBpbmRleGVkIGZpZWxkXG4gICAgICAgIG9wdGlvbnMuaGludCA9IHtcbiAgICAgICAgICAgIF9pZDogMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh1c2VFc3RpbWF0ZWRDb3VudCkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBNb2RlbC5lc3RpbWF0ZWREb2N1bWVudENvdW50KHtcbiAgICAgICAgICAgIHNlc3Npb246IG9wdGlvbnMuc2Vzc2lvblxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBNb2RlbC5jb3VudERvY3VtZW50cyhxdWVyeSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsRG9jczogcmVzdWx0XG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50R2xvYmFsVmVyc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countVersions: () => (/* binding */ countVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst countVersions = async function countVersions({ collection, locale, req, where }) {\n    const Model = this.versions[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=countVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50VmVyc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEO0FBQ0s7QUFDaEQscURBQXFELGdDQUFnQztBQUM1RjtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtREFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50VmVyc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmV4cG9ydCBjb25zdCBjb3VudFZlcnNpb25zID0gYXN5bmMgZnVuY3Rpb24gY291bnRWZXJzaW9ucyh7IGNvbGxlY3Rpb24sIGxvY2FsZSwgcmVxLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgbGV0IGhhc05lYXJDb25zdHJhaW50ID0gZmFsc2U7XG4gICAgaWYgKHdoZXJlKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMod2hlcmUpO1xuICAgICAgICBoYXNOZWFyQ29uc3RyYWludCA9IGNvbnN0cmFpbnRzLnNvbWUoKHByb3ApPT5PYmplY3Qua2V5cyhwcm9wKS5zb21lKChrZXkpPT5rZXkgPT09ICduZWFyJykpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhcXVlcnkgfHwgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBpZiAoIXVzZUVzdGltYXRlZENvdW50ICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDAgJiYgdGhpcy5kaXNhYmxlSW5kZXhIaW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY291bnREb2N1bWVudHMgcXVlcnkgd2hpY2ggaXMgdXNlZCBpZiB1c2VFc3RpbWF0ZWRDb3VudCBpcyBzZXQgdG8gZmFsc2UgYnkgYWRkaW5nXG4gICAgICAgIC8vIGEgaGludC4gQnkgZGVmYXVsdCwgaWYgbm8gaGludCBpcyBwcm92aWRlZCwgTW9uZ29EQiBkb2VzIG5vdCB1c2UgYW4gaW5kZXhlZCBmaWVsZCB0byBjb3VudCB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzLFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBxdWVyaWVzIHZlcnkgc2xvdy4gVGhpcyBvbmx5IGhhcHBlbnMgd2hlbiBubyBxdWVyeSAoZmlsdGVyKSBpcyBwcm92aWRlZC4gSWYgb25lIGlzIHByb3ZpZGVkLCBpdCB1c2VzXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGluZGV4ZWQgZmllbGRcbiAgICAgICAgb3B0aW9ucy5oaW50ID0ge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHVzZUVzdGltYXRlZENvdW50KSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmVzdGltYXRlZERvY3VtZW50Q291bnQoe1xuICAgICAgICAgICAgc2Vzc2lvbjogb3B0aW9ucy5zZXNzaW9uXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmNvdW50RG9jdW1lbnRzKHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxEb2NzOiByZXN1bHRcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y291bnRWZXJzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_handleError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/handleError.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst create = async function create({ collection, data, req }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let doc;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields: this.payload.collections[collection].config.fields\n    });\n    if (this.payload.collections[collection].customIDType) {\n        sanitizedData._id = sanitizedData.id;\n    }\n    try {\n        ;\n        [doc] = await Model.create([\n            sanitizedData\n        ], options);\n    } catch (error) {\n        (0,_utilities_handleError_js__WEBPACK_IMPORTED_MODULE_1__.handleError)({\n            collection,\n            error,\n            req\n        });\n    }\n    // doc.toJSON does not do stuff like converting ObjectIds to string, or date strings to date objects. That's why we use JSON.parse/stringify here\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=create.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQ0U7QUFDd0I7QUFDMUUsdUNBQXVDLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQSwwQkFBMEIsOEZBQXVCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLFFBQVEsc0VBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY3JlYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnLi91dGlsaXRpZXMvaGFuZGxlRXJyb3IuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyc7XG5leHBvcnQgY29uc3QgY3JlYXRlID0gYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHsgY29sbGVjdGlvbiwgZGF0YSwgcmVxIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMuY29sbGVjdGlvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBsZXQgZG9jO1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZmllbGRzOiB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnLmZpZWxkc1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY3VzdG9tSURUeXBlKSB7XG4gICAgICAgIHNhbml0aXplZERhdGEuX2lkID0gc2FuaXRpemVkRGF0YS5pZDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgO1xuICAgICAgICBbZG9jXSA9IGF3YWl0IE1vZGVsLmNyZWF0ZShbXG4gICAgICAgICAgICBzYW5pdGl6ZWREYXRhXG4gICAgICAgIF0sIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHJlcVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZG9jLnRvSlNPTiBkb2VzIG5vdCBkbyBzdHVmZiBsaWtlIGNvbnZlcnRpbmcgT2JqZWN0SWRzIHRvIHN0cmluZywgb3IgZGF0ZSBzdHJpbmdzIHRvIGRhdGUgb2JqZWN0cy4gVGhhdCdzIHdoeSB3ZSB1c2UgSlNPTi5wYXJzZS9zdHJpbmdpZnkgaGVyZVxuICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZG9jKSk7XG4gICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBkb2MuX3ZlcmlmaWNhdGlvblRva2VuO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICBpZiAodmVyaWZpY2F0aW9uVG9rZW4pIHtcbiAgICAgICAgcmVzdWx0Ll92ZXJpZmljYXRpb25Ub2tlbiA9IHZlcmlmaWNhdGlvblRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlobal: () => (/* binding */ createGlobal)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst createGlobal = async function createGlobal({ slug, data, req }) {\n    const Model = this.globals;\n    const global = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            globalType: slug,\n            ...data\n        },\n        fields: this.payload.config.globals.find((globalConfig)=>globalConfig.slug === slug).fields\n    });\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let [result] = await Model.create([\n        global\n    ], options);\n    result = JSON.parse(JSON.stringify(result));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_1__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=createGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQ3dCO0FBQ0U7QUFDMUUsbURBQW1ELGlCQUFpQjtBQUMzRTtBQUNBLG1CQUFtQiw4RkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUFzQjtBQUNuQztBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVHbG9iYWwgPSBhc3luYyBmdW5jdGlvbiBjcmVhdGVHbG9iYWwoeyBzbHVnLCBkYXRhLCByZXEgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5nbG9iYWxzO1xuICAgIGNvbnN0IGdsb2JhbCA9IHNhbml0aXplUmVsYXRpb25zaGlwSURzKHtcbiAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBnbG9iYWxUeXBlOiBzbHVnLFxuICAgICAgICAgICAgLi4uZGF0YVxuICAgICAgICB9LFxuICAgICAgICBmaWVsZHM6IHRoaXMucGF5bG9hZC5jb25maWcuZ2xvYmFscy5maW5kKChnbG9iYWxDb25maWcpPT5nbG9iYWxDb25maWcuc2x1ZyA9PT0gc2x1ZykuZmllbGRzXG4gICAgfSk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBsZXQgW3Jlc3VsdF0gPSBhd2FpdCBNb2RlbC5jcmVhdGUoW1xuICAgICAgICBnbG9iYWxcbiAgICBdLCBvcHRpb25zKTtcbiAgICByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICByZXN1bHQgPSBzYW5pdGl6ZUludGVybmFsRmllbGRzKHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUdsb2JhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlobalVersion: () => (/* binding */ createGlobalVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst createGlobalVersion = async function createGlobalVersion({ autosave, createdAt, globalSlug, parent, publishedLocale, req, snapshot, updatedAt, versionData }) {\n    const VersionModel = this.versions[globalSlug];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    const data = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_1__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            autosave,\n            createdAt,\n            latest: true,\n            parent,\n            publishedLocale,\n            snapshot,\n            updatedAt,\n            version: versionData\n        },\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_2__.buildVersionGlobalFields)(this.payload.config, this.payload.config.globals.find((global)=>global.slug === globalSlug))\n    });\n    const [doc] = await VersionModel.create([\n        data\n    ], options, req);\n    await VersionModel.updateMany({\n        $and: [\n            {\n                _id: {\n                    $ne: doc._id\n                }\n            },\n            {\n                parent: {\n                    $eq: parent\n                }\n            },\n            {\n                latest: {\n                    $eq: true\n                }\n            }\n        ]\n    }, {\n        $unset: {\n            latest: 1\n        }\n    }, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=createGlobalVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbFZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNJO0FBQzBCO0FBQzFFLGlFQUFpRSxpR0FBaUc7QUFDeks7QUFDQTtBQUNBLHVCQUF1QixvRUFBVTtBQUNqQztBQUNBLGlCQUFpQiw4RkFBdUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLGlFQUF3QjtBQUN4QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbFZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVHbG9iYWxWZXJzaW9uID0gYXN5bmMgZnVuY3Rpb24gY3JlYXRlR2xvYmFsVmVyc2lvbih7IGF1dG9zYXZlLCBjcmVhdGVkQXQsIGdsb2JhbFNsdWcsIHBhcmVudCwgcHVibGlzaGVkTG9jYWxlLCByZXEsIHNuYXBzaG90LCB1cGRhdGVkQXQsIHZlcnNpb25EYXRhIH0pIHtcbiAgICBjb25zdCBWZXJzaW9uTW9kZWwgPSB0aGlzLnZlcnNpb25zW2dsb2JhbFNsdWddO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgZGF0YSA9IHNhbml0aXplUmVsYXRpb25zaGlwSURzKHtcbiAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBhdXRvc2F2ZSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdCxcbiAgICAgICAgICAgIGxhdGVzdDogdHJ1ZSxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHB1Ymxpc2hlZExvY2FsZSxcbiAgICAgICAgICAgIHNuYXBzaG90LFxuICAgICAgICAgICAgdXBkYXRlZEF0LFxuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbkRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgZmllbGRzOiBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZpbmQoKGdsb2JhbCk9Pmdsb2JhbC5zbHVnID09PSBnbG9iYWxTbHVnKSlcbiAgICB9KTtcbiAgICBjb25zdCBbZG9jXSA9IGF3YWl0IFZlcnNpb25Nb2RlbC5jcmVhdGUoW1xuICAgICAgICBkYXRhXG4gICAgXSwgb3B0aW9ucywgcmVxKTtcbiAgICBhd2FpdCBWZXJzaW9uTW9kZWwudXBkYXRlTWFueSh7XG4gICAgICAgICRhbmQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJG5lOiBkb2MuX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVxOiBwYXJlbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhdGVzdDoge1xuICAgICAgICAgICAgICAgICAgICAkZXE6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LCB7XG4gICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgbGF0ZXN0OiAxXG4gICAgICAgIH1cbiAgICB9LCBvcHRpb25zKTtcbiAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gZG9jLl92ZXJpZmljYXRpb25Ub2tlbjtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgaWYgKHZlcmlmaWNhdGlvblRva2VuKSB7XG4gICAgICAgIHJlc3VsdC5fdmVyaWZpY2F0aW9uVG9rZW4gPSB2ZXJpZmljYXRpb25Ub2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUdsb2JhbFZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMigration: () => (/* binding */ createMigration)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/getPredefinedMigration.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/writeMigrationIndex.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n\n\n\n\nconst migrationTemplate = ({ downSQL, imports, upSQL })=>`import {\n  MigrateDownArgs,\n  MigrateUpArgs,\n} from '@payloadcms/db-mongodb'\n${imports ?? ''}\nexport async function up({ payload, req, session }: MigrateUpArgs): Promise<void> {\n${upSQL ?? `  // Migration code`}\n}\n\nexport async function down({ payload, req, session }: MigrateDownArgs): Promise<void> {\n${downSQL ?? `  // Migration code`}\n}\n`;\nconst createMigration = async function createMigration({ file, migrationName, payload, skipEmpty }) {\n    const filename = (0,url__WEBPACK_IMPORTED_MODULE_2__.fileURLToPath)(\"file:///Users/linkus/Github/monotwo/payload-plugin-meta/node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\");\n    const dirname = path__WEBPACK_IMPORTED_MODULE_1__.dirname(filename);\n    const dir = payload.db.migrationDir;\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(dir);\n    }\n    const predefinedMigration = await (0,payload__WEBPACK_IMPORTED_MODULE_3__.getPredefinedMigration)({\n        dirname,\n        file,\n        migrationName,\n        payload\n    });\n    const migrationFileContent = migrationTemplate(predefinedMigration);\n    const [yyymmdd, hhmmss] = new Date().toISOString().split('T');\n    const formattedDate = yyymmdd.replace(/\\D/g, '');\n    const formattedTime = hhmmss.split('.')[0].replace(/\\D/g, '');\n    const timestamp = `${formattedDate}_${formattedTime}`;\n    const formattedName = migrationName?.replace(/\\W/g, '_');\n    const fileName = migrationName ? `${timestamp}_${formattedName}.ts` : `${timestamp}_migration.ts`;\n    const filePath = `${dir}/${fileName}`;\n    if (!skipEmpty) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(filePath, migrationFileContent);\n    }\n    (0,payload__WEBPACK_IMPORTED_MODULE_4__.writeMigrationIndex)({\n        migrationsDir: payload.db.migrationDir\n    });\n    payload.logger.info({\n        msg: `Migration created at ${filePath}`\n    });\n};\n\n//# sourceMappingURL=createMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZU1pZ3JhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0I7QUFDSTtBQUM4QztBQUNsQztBQUNwQyw2QkFBNkIseUJBQXlCO0FBQ3REO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsRUFBRTtBQUNGLDJCQUEyQix1QkFBdUI7QUFDbEQsRUFBRTtBQUNGOztBQUVBLDZCQUE2Qix1QkFBdUI7QUFDcEQsRUFBRTtBQUNGO0FBQ0E7QUFDTyx5REFBeUQseUNBQXlDO0FBQ3pHLHFCQUFxQixrREFBYSxDQUFDLGlRQUFlO0FBQ2xELG9CQUFvQix5Q0FBWTtBQUNoQztBQUNBLFNBQVMsMENBQWE7QUFDdEIsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLHNDQUFzQywrREFBc0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsY0FBYyxHQUFHLGNBQWM7QUFDeEQ7QUFDQSx3Q0FBd0MsVUFBVSxHQUFHLGNBQWMsVUFBVSxVQUFVO0FBQ3ZGLHdCQUF3QixJQUFJLEdBQUcsU0FBUztBQUN4QztBQUNBLFFBQVEsNkNBQWdCO0FBQ3hCO0FBQ0EsSUFBSSw0REFBbUI7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QyxLQUFLO0FBQ0w7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY3JlYXRlTWlncmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IGdldFByZWRlZmluZWRNaWdyYXRpb24sIHdyaXRlTWlncmF0aW9uSW5kZXggfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICd1cmwnO1xuY29uc3QgbWlncmF0aW9uVGVtcGxhdGUgPSAoeyBkb3duU1FMLCBpbXBvcnRzLCB1cFNRTCB9KT0+YGltcG9ydCB7XG4gIE1pZ3JhdGVEb3duQXJncyxcbiAgTWlncmF0ZVVwQXJncyxcbn0gZnJvbSAnQHBheWxvYWRjbXMvZGItbW9uZ29kYidcbiR7aW1wb3J0cyA/PyAnJ31cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cCh7IHBheWxvYWQsIHJlcSwgc2Vzc2lvbiB9OiBNaWdyYXRlVXBBcmdzKTogUHJvbWlzZTx2b2lkPiB7XG4ke3VwU1FMID8/IGAgIC8vIE1pZ3JhdGlvbiBjb2RlYH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRvd24oeyBwYXlsb2FkLCByZXEsIHNlc3Npb24gfTogTWlncmF0ZURvd25BcmdzKTogUHJvbWlzZTx2b2lkPiB7XG4ke2Rvd25TUUwgPz8gYCAgLy8gTWlncmF0aW9uIGNvZGVgfVxufVxuYDtcbmV4cG9ydCBjb25zdCBjcmVhdGVNaWdyYXRpb24gPSBhc3luYyBmdW5jdGlvbiBjcmVhdGVNaWdyYXRpb24oeyBmaWxlLCBtaWdyYXRpb25OYW1lLCBwYXlsb2FkLCBza2lwRW1wdHkgfSkge1xuICAgIGNvbnN0IGZpbGVuYW1lID0gZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpO1xuICAgIGNvbnN0IGRpcm5hbWUgPSBwYXRoLmRpcm5hbWUoZmlsZW5hbWUpO1xuICAgIGNvbnN0IGRpciA9IHBheWxvYWQuZGIubWlncmF0aW9uRGlyO1xuICAgIGlmICghZnMuZXhpc3RzU3luYyhkaXIpKSB7XG4gICAgICAgIGZzLm1rZGlyU3luYyhkaXIpO1xuICAgIH1cbiAgICBjb25zdCBwcmVkZWZpbmVkTWlncmF0aW9uID0gYXdhaXQgZ2V0UHJlZGVmaW5lZE1pZ3JhdGlvbih7XG4gICAgICAgIGRpcm5hbWUsXG4gICAgICAgIGZpbGUsXG4gICAgICAgIG1pZ3JhdGlvbk5hbWUsXG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBjb25zdCBtaWdyYXRpb25GaWxlQ29udGVudCA9IG1pZ3JhdGlvblRlbXBsYXRlKHByZWRlZmluZWRNaWdyYXRpb24pO1xuICAgIGNvbnN0IFt5eXltbWRkLCBoaG1tc3NdID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJyk7XG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IHl5eW1tZGQucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gaGhtbXNzLnNwbGl0KCcuJylbMF0ucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBgJHtmb3JtYXR0ZWREYXRlfV8ke2Zvcm1hdHRlZFRpbWV9YDtcbiAgICBjb25zdCBmb3JtYXR0ZWROYW1lID0gbWlncmF0aW9uTmFtZT8ucmVwbGFjZSgvXFxXL2csICdfJyk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBtaWdyYXRpb25OYW1lID8gYCR7dGltZXN0YW1wfV8ke2Zvcm1hdHRlZE5hbWV9LnRzYCA6IGAke3RpbWVzdGFtcH1fbWlncmF0aW9uLnRzYDtcbiAgICBjb25zdCBmaWxlUGF0aCA9IGAke2Rpcn0vJHtmaWxlTmFtZX1gO1xuICAgIGlmICghc2tpcEVtcHR5KSB7XG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIG1pZ3JhdGlvbkZpbGVDb250ZW50KTtcbiAgICB9XG4gICAgd3JpdGVNaWdyYXRpb25JbmRleCh7XG4gICAgICAgIG1pZ3JhdGlvbnNEaXI6IHBheWxvYWQuZGIubWlncmF0aW9uRGlyXG4gICAgfSk7XG4gICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgIG1zZzogYE1pZ3JhdGlvbiBjcmVhdGVkIGF0ICR7ZmlsZVBhdGh9YFxuICAgIH0pO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlTWlncmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVersion: () => (/* binding */ createVersion)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst createVersion = async function createVersion({ autosave, collectionSlug, createdAt, parent, publishedLocale, req, snapshot, updatedAt, versionData }) {\n    const VersionModel = this.versions[collectionSlug];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const data = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            autosave,\n            createdAt,\n            latest: true,\n            parent,\n            publishedLocale,\n            snapshot,\n            updatedAt,\n            version: versionData\n        },\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collectionSlug].config)\n    });\n    const [doc] = await VersionModel.create([\n        data\n    ], options, req);\n    const parentQuery = {\n        $or: [\n            {\n                parent: {\n                    $eq: data.parent\n                }\n            }\n        ]\n    };\n    if (data.parent instanceof mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId) {\n        parentQuery.$or.push({\n            parent: {\n                $eq: data.parent.toString()\n            }\n        });\n    }\n    await VersionModel.updateMany({\n        $and: [\n            {\n                _id: {\n                    $ne: doc._id\n                }\n            },\n            parentQuery,\n            {\n                latest: {\n                    $eq: true\n                }\n            },\n            {\n                updatedAt: {\n                    $lt: new Date(doc.updatedAt)\n                }\n            }\n        ]\n    }, {\n        $unset: {\n            latest: 1\n        }\n    }, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=createVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZVZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFDc0I7QUFDQTtBQUMwQjtBQUMxRSxxREFBcUQscUdBQXFHO0FBQ2pLO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQSxpQkFBaUIsOEZBQXVCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQixxRUFBNEI7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyQ0FBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZVZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHlwZXMgfSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCBjcmVhdGVWZXJzaW9uID0gYXN5bmMgZnVuY3Rpb24gY3JlYXRlVmVyc2lvbih7IGF1dG9zYXZlLCBjb2xsZWN0aW9uU2x1ZywgY3JlYXRlZEF0LCBwYXJlbnQsIHB1Ymxpc2hlZExvY2FsZSwgcmVxLCBzbmFwc2hvdCwgdXBkYXRlZEF0LCB2ZXJzaW9uRGF0YSB9KSB7XG4gICAgY29uc3QgVmVyc2lvbk1vZGVsID0gdGhpcy52ZXJzaW9uc1tjb2xsZWN0aW9uU2x1Z107XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBjb25zdCBkYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGF1dG9zYXZlLFxuICAgICAgICAgICAgY3JlYXRlZEF0LFxuICAgICAgICAgICAgbGF0ZXN0OiB0cnVlLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgcHVibGlzaGVkTG9jYWxlLFxuICAgICAgICAgICAgc25hcHNob3QsXG4gICAgICAgICAgICB1cGRhdGVkQXQsXG4gICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uRGF0YVxuICAgICAgICB9LFxuICAgICAgICBmaWVsZHM6IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25TbHVnXS5jb25maWcpXG4gICAgfSk7XG4gICAgY29uc3QgW2RvY10gPSBhd2FpdCBWZXJzaW9uTW9kZWwuY3JlYXRlKFtcbiAgICAgICAgZGF0YVxuICAgIF0sIG9wdGlvbnMsIHJlcSk7XG4gICAgY29uc3QgcGFyZW50UXVlcnkgPSB7XG4gICAgICAgICRvcjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgICAgICAkZXE6IGRhdGEucGFyZW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcbiAgICBpZiAoZGF0YS5wYXJlbnQgaW5zdGFuY2VvZiBUeXBlcy5PYmplY3RJZCkge1xuICAgICAgICBwYXJlbnRRdWVyeS4kb3IucHVzaCh7XG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAkZXE6IGRhdGEucGFyZW50LnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGF3YWl0IFZlcnNpb25Nb2RlbC51cGRhdGVNYW55KHtcbiAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAgICAgICAkbmU6IGRvYy5faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50UXVlcnksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGF0ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICRlcTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiB7XG4gICAgICAgICAgICAgICAgICAgICRsdDogbmV3IERhdGUoZG9jLnVwZGF0ZWRBdClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LCB7XG4gICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgbGF0ZXN0OiAxXG4gICAgICAgIH1cbiAgICB9LCBvcHRpb25zKTtcbiAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gZG9jLl92ZXJpZmljYXRpb25Ub2tlbjtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgaWYgKHZlcmlmaWNhdGlvblRva2VuKSB7XG4gICAgICAgIHJlc3VsdC5fdmVyaWZpY2F0aW9uVG9rZW4gPSB2ZXJpZmljYXRpb25Ub2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteMany: () => (/* binding */ deleteMany)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\nconst deleteMany = async function deleteMany({ collection, req, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        payload: this.payload,\n        where\n    });\n    await Model.deleteMany(query, options);\n};\n\n//# sourceMappingURL=deleteMany.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZU1hbnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUQ7QUFDaEQsK0NBQStDLHdCQUF3QjtBQUM5RTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZGVsZXRlTWFueS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5leHBvcnQgY29uc3QgZGVsZXRlTWFueSA9IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU1hbnkoeyBjb2xsZWN0aW9uLCByZXEsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMuY29sbGVjdGlvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgYXdhaXQgTW9kZWwuZGVsZXRlTWFueShxdWVyeSwgb3B0aW9ucyk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGVNYW55LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteOne: () => (/* binding */ deleteOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\nconst deleteOne = async function deleteOne({ collection, req, select, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.collections[collection].config.flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        payload: this.payload,\n        where\n    });\n    const doc = await Model.findOneAndDelete(query, options).lean();\n    let result = JSON.parse(JSON.stringify(doc));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=deleteOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZU9uZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFGO0FBQzlCO0FBQ3dCO0FBQ3hFLDZDQUE2QyxnQ0FBZ0M7QUFDcEY7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQXNCO0FBQ25DO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZGVsZXRlT25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBkZWxldGVPbmUgPSBhc3luYyBmdW5jdGlvbiBkZWxldGVPbmUoeyBjb2xsZWN0aW9uLCByZXEsIHNlbGVjdCwgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwcm9qZWN0aW9uOiBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgICAgICBmaWVsZHM6IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWcuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBNb2RlbC5maW5kT25lQW5kRGVsZXRlKHF1ZXJ5LCBvcHRpb25zKS5sZWFuKCk7XG4gICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZG9jKSk7XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIHJlc3VsdCA9IHNhbml0aXplSW50ZXJuYWxGaWVsZHMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsZXRlT25lLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteVersions: () => (/* binding */ deleteVersions)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\nconst deleteVersions = async function deleteVersions({ collection, locale, req, where }) {\n    const VersionsModel = this.versions[collection];\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req);\n    const query = await VersionsModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    await VersionsModel.deleteMany(query, {\n        session\n    });\n};\n\n//# sourceMappingURL=deleteVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZVZlcnNpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBQ2hELHVEQUF1RCxnQ0FBZ0M7QUFDOUY7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9kZWxldGVWZXJzaW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5leHBvcnQgY29uc3QgZGVsZXRlVmVyc2lvbnMgPSBhc3luYyBmdW5jdGlvbiBkZWxldGVWZXJzaW9ucyh7IGNvbGxlY3Rpb24sIGxvY2FsZSwgcmVxLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgVmVyc2lvbnNNb2RlbCA9IHRoaXMudmVyc2lvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKTtcbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IFZlcnNpb25zTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIGF3YWl0IFZlcnNpb25zTW9kZWwuZGVsZXRlTWFueShxdWVyeSwge1xuICAgICAgICBzZXNzaW9uXG4gICAgfSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGVWZXJzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   destroy: () => (/* binding */ destroy)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n\nconst destroy = async function destroy() {\n    if (this.mongoMemoryServer) {\n        await this.mongoMemoryServer.stop();\n    } else {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0__.disconnect();\n    }\n    Object.keys(mongoose__WEBPACK_IMPORTED_MODULE_0__.models).map((model)=>mongoose__WEBPACK_IMPORTED_MODULE_0__.deleteModel(model));\n};\n\n//# sourceMappingURL=destroy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2Rlc3Ryb3kuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFDekI7QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOLGNBQWMsZ0RBQW1CO0FBQ2pDO0FBQ0EsZ0JBQWdCLDRDQUFlLGVBQWUsaURBQW9CO0FBQ2xFOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2Rlc3Ryb3kuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gYXN5bmMgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5tb25nb01lbW9yeVNlcnZlcikge1xuICAgICAgICBhd2FpdCB0aGlzLm1vbmdvTWVtb3J5U2VydmVyLnN0b3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBtb25nb29zZS5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKG1vbmdvb3NlLm1vZGVscykubWFwKChtb2RlbCk9Pm1vbmdvb3NlLmRlbGV0ZU1vZGVsKG1vZGVsKSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXN0cm95LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   find: () => (/* binding */ find)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\n\nconst find = async function find({ collection, joins = {}, limit = 0, locale, page, pagination, projection, req, select, sort: sortArg, where }) {\n    const Model = this.collections[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__.getSession)(this, req);\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || collectionConfig.defaultSort,\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        options: {\n            session\n        },\n        page,\n        pagination,\n        projection,\n        sort,\n        useEstimatedCount\n    };\n    if (select) {\n        paginationOptions.projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: collectionConfig.flattenedFields,\n            select\n        });\n    }\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    let result;\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        locale,\n        query\n    });\n    // build join aggregation\n    if (aggregate) {\n        result = await Model.aggregatePaginate(Model.aggregate(aggregate), paginationOptions);\n    } else {\n        result = await Model.paginate(query, paginationOptions);\n    }\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=find.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRDtBQUNXO0FBQ2M7QUFDVTtBQUM5QjtBQUN3QjtBQUN4RSxtQ0FBbUMsc0JBQXNCLHNGQUFzRjtBQUN0SjtBQUNBO0FBQ0EsMEJBQTBCLG9FQUFVO0FBQ3BDO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0dBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix3RkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZmluZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRTb3J0UGFyYW0gfSBmcm9tICcuL3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMnO1xuaW1wb3J0IHsgYnVpbGRKb2luQWdncmVnYXRpb24gfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcyc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5leHBvcnQgY29uc3QgZmluZCA9IGFzeW5jIGZ1bmN0aW9uIGZpbmQoeyBjb2xsZWN0aW9uLCBqb2lucyA9IHt9LCBsaW1pdCA9IDAsIGxvY2FsZSwgcGFnZSwgcGFnaW5hdGlvbiwgcHJvamVjdGlvbiwgcmVxLCBzZWxlY3QsIHNvcnQ6IHNvcnRBcmcsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMuY29sbGVjdGlvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3QgY29sbGVjdGlvbkNvbmZpZyA9IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWc7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKTtcbiAgICBsZXQgaGFzTmVhckNvbnN0cmFpbnQgPSBmYWxzZTtcbiAgICBpZiAod2hlcmUpIHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyh3aGVyZSk7XG4gICAgICAgIGhhc05lYXJDb25zdHJhaW50ID0gY29uc3RyYWludHMuc29tZSgocHJvcCk9Pk9iamVjdC5rZXlzKHByb3ApLnNvbWUoKGtleSk9PmtleSA9PT0gJ25lYXInKSk7XG4gICAgfVxuICAgIGxldCBzb3J0O1xuICAgIGlmICghaGFzTmVhckNvbnN0cmFpbnQpIHtcbiAgICAgICAgc29ydCA9IGJ1aWxkU29ydFBhcmFtKHtcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogY29sbGVjdGlvbkNvbmZpZy5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBzb3J0OiBzb3J0QXJnIHx8IGNvbGxlY3Rpb25Db25maWcuZGVmYXVsdFNvcnQsXG4gICAgICAgICAgICB0aW1lc3RhbXBzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhcXVlcnkgfHwgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgbGVhbldpdGhJZDogdHJ1ZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICB9LFxuICAgICAgICBwYWdlLFxuICAgICAgICBwYWdpbmF0aW9uLFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICBzb3J0LFxuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudFxuICAgIH07XG4gICAgaWYgKHNlbGVjdCkge1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5wcm9qZWN0aW9uID0gYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiBjb2xsZWN0aW9uQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIHNlbGVjdFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29sbGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRMb2NhbGUgPSAnZW4nO1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5jb2xsYXRpb24gPSB7XG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSAmJiBsb2NhbGUgIT09ICdhbGwnICYmIGxvY2FsZSAhPT0gJyonID8gbG9jYWxlIDogZGVmYXVsdExvY2FsZSxcbiAgICAgICAgICAgIC4uLnRoaXMuY29sbGF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlRXN0aW1hdGVkQ291bnQgJiYgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmRpc2FibGVJbmRleEhpbnRzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIEltcHJvdmUgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBjb3VudERvY3VtZW50cyBxdWVyeSB3aGljaCBpcyB1c2VkIGlmIHVzZUVzdGltYXRlZENvdW50IGlzIHNldCB0byBmYWxzZSBieSBhZGRpbmdcbiAgICAgICAgLy8gYSBoaW50LiBCeSBkZWZhdWx0LCBpZiBubyBoaW50IGlzIHByb3ZpZGVkLCBNb25nb0RCIGRvZXMgbm90IHVzZSBhbiBpbmRleGVkIGZpZWxkIHRvIGNvdW50IHRoZSByZXR1cm5lZCBkb2N1bWVudHMsXG4gICAgICAgIC8vIHdoaWNoIG1ha2VzIHF1ZXJpZXMgdmVyeSBzbG93LiBUaGlzIG9ubHkgaGFwcGVucyB3aGVuIG5vIHF1ZXJ5IChmaWx0ZXIpIGlzIHByb3ZpZGVkLiBJZiBvbmUgaXMgcHJvdmlkZWQsIGl0IHVzZXNcbiAgICAgICAgLy8gdGhlIGNvcnJlY3QgaW5kZXhlZCBmaWVsZFxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy51c2VDdXN0b21Db3VudEZuID0gKCk9PntcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoTW9kZWwuY291bnREb2N1bWVudHMocXVlcnksIHtcbiAgICAgICAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBsaW1pdCBtdXN0IGFsc28gYmUgc2V0IGhlcmUsIGl0J3MgaWdub3JlZCB3aGVuIHBhZ2luYXRpb24gaXMgZmFsc2VcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMub3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBEaXNhYmxlIHBhZ2luYXRpb24gaWYgbGltaXQgaXMgMFxuICAgICAgICBpZiAobGltaXQgPT09IDApIHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnBhZ2luYXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IGFnZ3JlZ2F0ZSA9IGF3YWl0IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uKHtcbiAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgICAgam9pbnMsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcXVlcnlcbiAgICB9KTtcbiAgICAvLyBidWlsZCBqb2luIGFnZ3JlZ2F0aW9uXG4gICAgaWYgKGFnZ3JlZ2F0ZSkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBNb2RlbC5hZ2dyZWdhdGVQYWdpbmF0ZShNb2RlbC5hZ2dyZWdhdGUoYWdncmVnYXRlKSwgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLnBhZ2luYXRlKHF1ZXJ5LCBwYWdpbmF0aW9uT3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IGRvY3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdC5kb2NzKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBkb2NzOiBkb2NzLm1hcCgoZG9jKT0+e1xuICAgICAgICAgICAgZG9jLmlkID0gZG9jLl9pZDtcbiAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZUludGVybmFsRmllbGRzKGRvYyk7XG4gICAgICAgIH0pXG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findGlobal: () => (/* binding */ findGlobal)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/combineQueries.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\nconst findGlobal = async function findGlobal({ slug, locale, req, select, where }) {\n    const Model = this.globals;\n    const options = {\n        lean: true,\n        select: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.globals.config.find((each)=>each.slug === slug).flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        globalSlug: slug,\n        locale,\n        payload: this.payload,\n        where: (0,payload__WEBPACK_IMPORTED_MODULE_3__.combineQueries)({\n            globalType: {\n                equals: slug\n            }\n        }, where)\n    });\n    let doc = await Model.findOne(query, {}, options);\n    if (!doc) {\n        return null;\n    }\n    if (doc._id) {\n        doc.id = doc._id;\n        delete doc._id;\n    }\n    doc = JSON.parse(JSON.stringify(doc));\n    doc = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(doc);\n    return doc;\n};\n\n//# sourceMappingURL=findGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRHbG9iYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7QUFDNEM7QUFDOUI7QUFDd0I7QUFDeEUsK0NBQStDLGtDQUFrQztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0dBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNEZBQXNCO0FBQ2hDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZmluZEdsb2JhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lUXVlcmllcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGZpbmRHbG9iYWwgPSBhc3luYyBmdW5jdGlvbiBmaW5kR2xvYmFsKHsgc2x1ZywgbG9jYWxlLCByZXEsIHNlbGVjdCwgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5nbG9iYWxzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIHNlbGVjdDogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiB0aGlzLnBheWxvYWQuZ2xvYmFscy5jb25maWcuZmluZCgoZWFjaCk9PmVhY2guc2x1ZyA9PT0gc2x1ZykuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGdsb2JhbFNsdWc6IHNsdWcsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZTogY29tYmluZVF1ZXJpZXMoe1xuICAgICAgICAgICAgZ2xvYmFsVHlwZToge1xuICAgICAgICAgICAgICAgIGVxdWFsczogc2x1Z1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB3aGVyZSlcbiAgICB9KTtcbiAgICBsZXQgZG9jID0gYXdhaXQgTW9kZWwuZmluZE9uZShxdWVyeSwge30sIG9wdGlvbnMpO1xuICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZG9jLl9pZCkge1xuICAgICAgICBkb2MuaWQgPSBkb2MuX2lkO1xuICAgICAgICBkZWxldGUgZG9jLl9pZDtcbiAgICB9XG4gICAgZG9jID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAgICBkb2MgPSBzYW5pdGl6ZUludGVybmFsRmllbGRzKGRvYyk7XG4gICAgcmV0dXJuIGRvYztcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRHbG9iYWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findGlobalVersions: () => (/* binding */ findGlobalVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\nconst findGlobalVersions = async function findGlobalVersions({ global, limit, locale, page, pagination, req, select, skip, sort: sortArg, where }) {\n    const Model = this.versions[global];\n    const versionFields = (0,payload__WEBPACK_IMPORTED_MODULE_4__.buildVersionGlobalFields)(this.payload.config, this.payload.globals.config.find(({ slug })=>slug === global), true);\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        limit,\n        session,\n        skip\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: versionFields,\n            locale,\n            sort: sortArg || '-updatedAt',\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        globalSlug: global,\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        limit,\n        options,\n        page,\n        pagination,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: versionFields,\n            select\n        }),\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    const result = await Model.paginate(query, paginationOptions);\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=findGlobalVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRHbG9iYWxWZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRFO0FBQ2Y7QUFDd0I7QUFDOUI7QUFDd0I7QUFDeEUsK0RBQStELGtGQUFrRjtBQUN4SjtBQUNBLDBCQUEwQixpRUFBd0IsMERBQTBELE1BQU07QUFDbEgsMEJBQTBCLG9FQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1EQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEVBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZmluZEdsb2JhbFZlcnNpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcywgZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGJ1aWxkU29ydFBhcmFtIH0gZnJvbSAnLi9xdWVyaWVzL2J1aWxkU29ydFBhcmFtLmpzJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBmaW5kR2xvYmFsVmVyc2lvbnMgPSBhc3luYyBmdW5jdGlvbiBmaW5kR2xvYmFsVmVyc2lvbnMoeyBnbG9iYWwsIGxpbWl0LCBsb2NhbGUsIHBhZ2UsIHBhZ2luYXRpb24sIHJlcSwgc2VsZWN0LCBza2lwLCBzb3J0OiBzb3J0QXJnLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLnZlcnNpb25zW2dsb2JhbF07XG4gICAgY29uc3QgdmVyc2lvbkZpZWxkcyA9IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCB0aGlzLnBheWxvYWQuZ2xvYmFscy5jb25maWcuZmluZCgoeyBzbHVnIH0pPT5zbHVnID09PSBnbG9iYWwpLCB0cnVlKTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBza2lwXG4gICAgfTtcbiAgICBsZXQgaGFzTmVhckNvbnN0cmFpbnQgPSBmYWxzZTtcbiAgICBpZiAod2hlcmUpIHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyh3aGVyZSk7XG4gICAgICAgIGhhc05lYXJDb25zdHJhaW50ID0gY29uc3RyYWludHMuc29tZSgocHJvcCk9Pk9iamVjdC5rZXlzKHByb3ApLnNvbWUoKGtleSk9PmtleSA9PT0gJ25lYXInKSk7XG4gICAgfVxuICAgIGxldCBzb3J0O1xuICAgIGlmICghaGFzTmVhckNvbnN0cmFpbnQpIHtcbiAgICAgICAgc29ydCA9IGJ1aWxkU29ydFBhcmFtKHtcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogdmVyc2lvbkZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHNvcnQ6IHNvcnRBcmcgfHwgJy11cGRhdGVkQXQnLFxuICAgICAgICAgICAgdGltZXN0YW1wczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgZ2xvYmFsU2x1ZzogZ2xvYmFsLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhcXVlcnkgfHwgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgbGVhbldpdGhJZDogdHJ1ZSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2luYXRpb24sXG4gICAgICAgIHByb2plY3Rpb246IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgICAgIGZpZWxkczogdmVyc2lvbkZpZWxkcyxcbiAgICAgICAgICAgIHNlbGVjdFxuICAgICAgICB9KSxcbiAgICAgICAgc29ydCxcbiAgICAgICAgdXNlRXN0aW1hdGVkQ291bnRcbiAgICB9O1xuICAgIGlmICh0aGlzLmNvbGxhdGlvbikge1xuICAgICAgICBjb25zdCBkZWZhdWx0TG9jYWxlID0gJ2VuJztcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMuY29sbGF0aW9uID0ge1xuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUgJiYgbG9jYWxlICE9PSAnYWxsJyAmJiBsb2NhbGUgIT09ICcqJyA/IGxvY2FsZSA6IGRlZmF1bHRMb2NhbGUsXG4gICAgICAgICAgICAuLi50aGlzLmNvbGxhdGlvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXVzZUVzdGltYXRlZENvdW50ICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDAgJiYgdGhpcy5kaXNhYmxlSW5kZXhIaW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY291bnREb2N1bWVudHMgcXVlcnkgd2hpY2ggaXMgdXNlZCBpZiB1c2VFc3RpbWF0ZWRDb3VudCBpcyBzZXQgdG8gZmFsc2UgYnkgYWRkaW5nXG4gICAgICAgIC8vIGEgaGludC4gQnkgZGVmYXVsdCwgaWYgbm8gaGludCBpcyBwcm92aWRlZCwgTW9uZ29EQiBkb2VzIG5vdCB1c2UgYW4gaW5kZXhlZCBmaWVsZCB0byBjb3VudCB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzLFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBxdWVyaWVzIHZlcnkgc2xvdy4gVGhpcyBvbmx5IGhhcHBlbnMgd2hlbiBubyBxdWVyeSAoZmlsdGVyKSBpcyBwcm92aWRlZC4gSWYgb25lIGlzIHByb3ZpZGVkLCBpdCB1c2VzXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGluZGV4ZWQgZmllbGRcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMudXNlQ3VzdG9tQ291bnRGbiA9ICgpPT57XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE1vZGVsLmNvdW50RG9jdW1lbnRzKHF1ZXJ5LCB7XG4gICAgICAgICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlc3Npb25cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGxpbWl0ID49IDApIHtcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICAgICAgLy8gbGltaXQgbXVzdCBhbHNvIGJlIHNldCBoZXJlLCBpdCdzIGlnbm9yZWQgd2hlbiBwYWdpbmF0aW9uIGlzIGZhbHNlXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLm9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICAgICAgLy8gRGlzYWJsZSBwYWdpbmF0aW9uIGlmIGxpbWl0IGlzIDBcbiAgICAgICAgaWYgKGxpbWl0ID09PSAwKSB7XG4gICAgICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5wYWdpbmF0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTW9kZWwucGFnaW5hdGUocXVlcnksIHBhZ2luYXRpb25PcHRpb25zKTtcbiAgICBjb25zdCBkb2NzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQuZG9jcykpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgZG9jczogZG9jcy5tYXAoKGRvYyk9PntcbiAgICAgICAgICAgIGRvYy5pZCA9IGRvYy5faWQ7XG4gICAgICAgICAgICByZXR1cm4gc2FuaXRpemVJbnRlcm5hbEZpZWxkcyhkb2MpO1xuICAgICAgICB9KVxuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kR2xvYmFsVmVyc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findOne: () => (/* binding */ findOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\nconst findOne = async function findOne({ collection, joins, locale, req, select, where }) {\n    const Model = this.collections[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        lean: true,\n        session\n    };\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    const projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n        adapter: this,\n        fields: collectionConfig.flattenedFields,\n        select\n    });\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_0__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        limit: 1,\n        locale,\n        projection,\n        query\n    });\n    let doc;\n    if (aggregate) {\n        ;\n        [doc] = await Model.aggregate(aggregate, {\n            session\n        });\n    } else {\n        ;\n        options.projection = projection;\n        doc = await Model.findOne(query, {}, options);\n    }\n    if (!doc) {\n        return null;\n    }\n    let result = JSON.parse(JSON.stringify(doc));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=findOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRPbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkU7QUFDVTtBQUM5QjtBQUN3QjtBQUN4RSx5Q0FBeUMsK0NBQStDO0FBQy9GO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsa0dBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw0QkFBNEIsd0ZBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQXNCO0FBQ25DO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZmluZE9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZEpvaW5BZ2dyZWdhdGlvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkSm9pbkFnZ3JlZ2F0aW9uLmpzJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBmaW5kT25lID0gYXN5bmMgZnVuY3Rpb24gZmluZE9uZSh7IGNvbGxlY3Rpb24sIGpvaW5zLCBsb2NhbGUsIHJlcSwgc2VsZWN0LCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db25maWcgPSB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgc2Vzc2lvblxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICBmaWVsZHM6IGNvbGxlY3Rpb25Db25maWcuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICBzZWxlY3RcbiAgICB9KTtcbiAgICBjb25zdCBhZ2dyZWdhdGUgPSBhd2FpdCBidWlsZEpvaW5BZ2dyZWdhdGlvbih7XG4gICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGNvbGxlY3Rpb25Db25maWcsXG4gICAgICAgIGpvaW5zLFxuICAgICAgICBsaW1pdDogMSxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICBxdWVyeVxuICAgIH0pO1xuICAgIGxldCBkb2M7XG4gICAgaWYgKGFnZ3JlZ2F0ZSkge1xuICAgICAgICA7XG4gICAgICAgIFtkb2NdID0gYXdhaXQgTW9kZWwuYWdncmVnYXRlKGFnZ3JlZ2F0ZSwge1xuICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICA7XG4gICAgICAgIG9wdGlvbnMucHJvamVjdGlvbiA9IHByb2plY3Rpb247XG4gICAgICAgIGRvYyA9IGF3YWl0IE1vZGVsLmZpbmRPbmUocXVlcnksIHt9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICByZXN1bHQgPSBzYW5pdGl6ZUludGVybmFsRmllbGRzKHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRPbmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findVersions: () => (/* binding */ findVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\nconst findVersions = async function findVersions({ collection, limit, locale, page, pagination, req = {}, select, skip, sort: sortArg, where }) {\n    const Model = this.versions[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        limit,\n        session,\n        skip\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || '-updatedAt',\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        limit,\n        options,\n        page,\n        pagination,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_5__.buildVersionCollectionFields)(this.payload.config, collectionConfig, true),\n            select\n        }),\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    const result = await Model.paginate(query, paginationOptions);\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=findVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRWZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdGO0FBQ25CO0FBQ3dCO0FBQzlCO0FBQ3dCO0FBQ3hFLG1EQUFtRCxxREFBcUQsc0NBQXNDO0FBQ3JKO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBLG9CQUFvQixxRUFBNEI7QUFDaEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZmluZFZlcnNpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBidWlsZFNvcnRQYXJhbSB9IGZyb20gJy4vcXVlcmllcy9idWlsZFNvcnRQYXJhbS5qcyc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5leHBvcnQgY29uc3QgZmluZFZlcnNpb25zID0gYXN5bmMgZnVuY3Rpb24gZmluZFZlcnNpb25zKHsgY29sbGVjdGlvbiwgbGltaXQsIGxvY2FsZSwgcGFnZSwgcGFnaW5hdGlvbiwgcmVxID0ge30sIHNlbGVjdCwgc2tpcCwgc29ydDogc29ydEFyZywgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy52ZXJzaW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ29uZmlnID0gdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZztcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBza2lwXG4gICAgfTtcbiAgICBsZXQgaGFzTmVhckNvbnN0cmFpbnQgPSBmYWxzZTtcbiAgICBpZiAod2hlcmUpIHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyh3aGVyZSk7XG4gICAgICAgIGhhc05lYXJDb25zdHJhaW50ID0gY29uc3RyYWludHMuc29tZSgocHJvcCk9Pk9iamVjdC5rZXlzKHByb3ApLnNvbWUoKGtleSk9PmtleSA9PT0gJ25lYXInKSk7XG4gICAgfVxuICAgIGxldCBzb3J0O1xuICAgIGlmICghaGFzTmVhckNvbnN0cmFpbnQpIHtcbiAgICAgICAgc29ydCA9IGJ1aWxkU29ydFBhcmFtKHtcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogY29sbGVjdGlvbkNvbmZpZy5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBzb3J0OiBzb3J0QXJnIHx8ICctdXBkYXRlZEF0JyxcbiAgICAgICAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIC8vIHVzZUVzdGltYXRlZENvdW50IGlzIGZhc3RlciwgYnV0IG5vdCBhY2N1cmF0ZSwgYXMgaXQgaWdub3JlcyBhbnkgZmlsdGVycy4gSXQgaXMgdGh1cyBzZXQgdG8gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gZmlsdGVycy5cbiAgICBjb25zdCB1c2VFc3RpbWF0ZWRDb3VudCA9IGhhc05lYXJDb25zdHJhaW50IHx8ICFxdWVyeSB8fCBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBsZWFuV2l0aElkOiB0cnVlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcGFnaW5hdGlvbixcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGNvbGxlY3Rpb25Db25maWcsIHRydWUpLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzb3J0LFxuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudFxuICAgIH07XG4gICAgaWYgKHRoaXMuY29sbGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRMb2NhbGUgPSAnZW4nO1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5jb2xsYXRpb24gPSB7XG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSAmJiBsb2NhbGUgIT09ICdhbGwnICYmIGxvY2FsZSAhPT0gJyonID8gbG9jYWxlIDogZGVmYXVsdExvY2FsZSxcbiAgICAgICAgICAgIC4uLnRoaXMuY29sbGF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlRXN0aW1hdGVkQ291bnQgJiYgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmRpc2FibGVJbmRleEhpbnRzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIEltcHJvdmUgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBjb3VudERvY3VtZW50cyBxdWVyeSB3aGljaCBpcyB1c2VkIGlmIHVzZUVzdGltYXRlZENvdW50IGlzIHNldCB0byBmYWxzZSBieSBhZGRpbmdcbiAgICAgICAgLy8gYSBoaW50LiBCeSBkZWZhdWx0LCBpZiBubyBoaW50IGlzIHByb3ZpZGVkLCBNb25nb0RCIGRvZXMgbm90IHVzZSBhbiBpbmRleGVkIGZpZWxkIHRvIGNvdW50IHRoZSByZXR1cm5lZCBkb2N1bWVudHMsXG4gICAgICAgIC8vIHdoaWNoIG1ha2VzIHF1ZXJpZXMgdmVyeSBzbG93LiBUaGlzIG9ubHkgaGFwcGVucyB3aGVuIG5vIHF1ZXJ5IChmaWx0ZXIpIGlzIHByb3ZpZGVkLiBJZiBvbmUgaXMgcHJvdmlkZWQsIGl0IHVzZXNcbiAgICAgICAgLy8gdGhlIGNvcnJlY3QgaW5kZXhlZCBmaWVsZFxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy51c2VDdXN0b21Db3VudEZuID0gKCk9PntcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoTW9kZWwuY291bnREb2N1bWVudHMocXVlcnksIHtcbiAgICAgICAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBsaW1pdCBtdXN0IGFsc28gYmUgc2V0IGhlcmUsIGl0J3MgaWdub3JlZCB3aGVuIHBhZ2luYXRpb24gaXMgZmFsc2VcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMub3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBEaXNhYmxlIHBhZ2luYXRpb24gaWYgbGltaXQgaXMgMFxuICAgICAgICBpZiAobGltaXQgPT09IDApIHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnBhZ2luYXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZShxdWVyeSwgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgIGNvbnN0IGRvY3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdC5kb2NzKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBkb2NzOiBkb2NzLm1hcCgoZG9jKT0+e1xuICAgICAgICAgICAgZG9jLmlkID0gZG9jLl9pZDtcbiAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZUludGVybmFsRmllbGRzKGRvYyk7XG4gICAgICAgIH0pXG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRWZXJzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mongooseAdapter: () => (/* binding */ mongooseAdapter)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/createDatabaseAdapter.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/defaultBeginTransaction.js\");\n/* harmony import */ var _connect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js\");\n/* harmony import */ var _count_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./count.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js\");\n/* harmony import */ var _countGlobalVersions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./countGlobalVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js\");\n/* harmony import */ var _countVersions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./countVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js\");\n/* harmony import */ var _create_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./create.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js\");\n/* harmony import */ var _createGlobal_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./createGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js\");\n/* harmony import */ var _createGlobalVersion_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./createGlobalVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js\");\n/* harmony import */ var _createMigration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./createMigration.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\");\n/* harmony import */ var _createVersion_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./createVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js\");\n/* harmony import */ var _deleteMany_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./deleteMany.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js\");\n/* harmony import */ var _deleteOne_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./deleteOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js\");\n/* harmony import */ var _deleteVersions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./deleteVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js\");\n/* harmony import */ var _destroy_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./destroy.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js\");\n/* harmony import */ var _find_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./find.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js\");\n/* harmony import */ var _findGlobal_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./findGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js\");\n/* harmony import */ var _findGlobalVersions_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./findGlobalVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js\");\n/* harmony import */ var _findOne_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./findOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js\");\n/* harmony import */ var _findVersions_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./findVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./init.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js\");\n/* harmony import */ var _migrateFresh_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./migrateFresh.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js\");\n/* harmony import */ var _queryDrafts_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./queryDrafts.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js\");\n/* harmony import */ var _transactions_beginTransaction_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./transactions/beginTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js\");\n/* harmony import */ var _transactions_commitTransaction_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./transactions/commitTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js\");\n/* harmony import */ var _transactions_rollbackTransaction_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./transactions/rollbackTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js\");\n/* harmony import */ var _updateGlobal_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./updateGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js\");\n/* harmony import */ var _updateGlobalVersion_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./updateGlobalVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js\");\n/* harmony import */ var _updateOne_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./updateOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js\");\n/* harmony import */ var _updateVersion_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./updateVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js\");\n/* harmony import */ var _upsert_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./upsert.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction mongooseAdapter({ autoPluralization = true, collectionsSchemaOptions = {}, connectOptions, disableIndexHints = false, ensureIndexes, migrationDir: migrationDirArg, mongoMemoryServer, prodMigrations, transactionOptions = {}, url }) {\n    function adapter({ payload }) {\n        const migrationDir = findMigrationDir(migrationDirArg);\n        mongoose__WEBPACK_IMPORTED_MODULE_1__.set('strictQuery', false);\n        return (0,payload__WEBPACK_IMPORTED_MODULE_32__.createDatabaseAdapter)({\n            name: 'mongoose',\n            // Mongoose-specific\n            autoPluralization,\n            collections: {},\n            connection: undefined,\n            connectOptions: connectOptions || {},\n            disableIndexHints,\n            ensureIndexes,\n            globals: undefined,\n            mongoMemoryServer,\n            sessions: {},\n            transactionOptions: transactionOptions === false ? undefined : transactionOptions,\n            url,\n            versions: {},\n            // DatabaseAdapter\n            beginTransaction: transactionOptions === false ? (0,payload__WEBPACK_IMPORTED_MODULE_33__.defaultBeginTransaction)() : _transactions_beginTransaction_js__WEBPACK_IMPORTED_MODULE_24__.beginTransaction,\n            collectionsSchemaOptions,\n            commitTransaction: _transactions_commitTransaction_js__WEBPACK_IMPORTED_MODULE_25__.commitTransaction,\n            connect: _connect_js__WEBPACK_IMPORTED_MODULE_3__.connect,\n            count: _count_js__WEBPACK_IMPORTED_MODULE_4__.count,\n            countGlobalVersions: _countGlobalVersions_js__WEBPACK_IMPORTED_MODULE_5__.countGlobalVersions,\n            countVersions: _countVersions_js__WEBPACK_IMPORTED_MODULE_6__.countVersions,\n            create: _create_js__WEBPACK_IMPORTED_MODULE_7__.create,\n            createGlobal: _createGlobal_js__WEBPACK_IMPORTED_MODULE_8__.createGlobal,\n            createGlobalVersion: _createGlobalVersion_js__WEBPACK_IMPORTED_MODULE_9__.createGlobalVersion,\n            createMigration: _createMigration_js__WEBPACK_IMPORTED_MODULE_10__.createMigration,\n            createVersion: _createVersion_js__WEBPACK_IMPORTED_MODULE_11__.createVersion,\n            defaultIDType: 'text',\n            deleteMany: _deleteMany_js__WEBPACK_IMPORTED_MODULE_12__.deleteMany,\n            deleteOne: _deleteOne_js__WEBPACK_IMPORTED_MODULE_13__.deleteOne,\n            deleteVersions: _deleteVersions_js__WEBPACK_IMPORTED_MODULE_14__.deleteVersions,\n            destroy: _destroy_js__WEBPACK_IMPORTED_MODULE_15__.destroy,\n            find: _find_js__WEBPACK_IMPORTED_MODULE_16__.find,\n            findGlobal: _findGlobal_js__WEBPACK_IMPORTED_MODULE_17__.findGlobal,\n            findGlobalVersions: _findGlobalVersions_js__WEBPACK_IMPORTED_MODULE_18__.findGlobalVersions,\n            findOne: _findOne_js__WEBPACK_IMPORTED_MODULE_19__.findOne,\n            findVersions: _findVersions_js__WEBPACK_IMPORTED_MODULE_20__.findVersions,\n            init: _init_js__WEBPACK_IMPORTED_MODULE_21__.init,\n            migrateFresh: _migrateFresh_js__WEBPACK_IMPORTED_MODULE_22__.migrateFresh,\n            migrationDir,\n            packageName: '@payloadcms/db-mongodb',\n            payload,\n            prodMigrations,\n            queryDrafts: _queryDrafts_js__WEBPACK_IMPORTED_MODULE_23__.queryDrafts,\n            rollbackTransaction: _transactions_rollbackTransaction_js__WEBPACK_IMPORTED_MODULE_26__.rollbackTransaction,\n            updateGlobal: _updateGlobal_js__WEBPACK_IMPORTED_MODULE_27__.updateGlobal,\n            updateGlobalVersion: _updateGlobalVersion_js__WEBPACK_IMPORTED_MODULE_28__.updateGlobalVersion,\n            updateOne: _updateOne_js__WEBPACK_IMPORTED_MODULE_29__.updateOne,\n            updateVersion: _updateVersion_js__WEBPACK_IMPORTED_MODULE_30__.updateVersion,\n            upsert: _upsert_js__WEBPACK_IMPORTED_MODULE_31__.upsert\n        });\n    }\n    return {\n        defaultIDType: 'text',\n        init: adapter\n    };\n}\n/**\n * Attempt to find migrations directory.\n *\n * Checks for the following directories in order:\n * - `migrationDir` argument from Payload config\n * - `src/migrations`\n * - `dist/migrations`\n * - `migrations`\n *\n * Defaults to `src/migrations`\n *\n * @param migrationDir\n * @returns\n */ function findMigrationDir(migrationDir) {\n    const cwd = process.cwd();\n    const srcDir = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'src/migrations');\n    const distDir = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'dist/migrations');\n    const relativeMigrations = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'migrations');\n    // Use arg if provided\n    if (migrationDir) {\n        return migrationDir;\n    }\n    // Check other common locations\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(srcDir)) {\n        return srcDir;\n    }\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(distDir)) {\n        return distDir;\n    }\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(relativeMigrations)) {\n        return relativeMigrations;\n    }\n    return srcDir;\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ1k7QUFDUjtBQUNpRDtBQUNsQztBQUNKO0FBQzRCO0FBQ1o7QUFDZDtBQUNZO0FBQ2M7QUFDUjtBQUNKO0FBQ047QUFDRjtBQUNVO0FBQ2Q7QUFDTjtBQUNZO0FBQ2dCO0FBQ3RCO0FBQ1U7QUFDaEI7QUFDZ0I7QUFDRjtBQUN1QjtBQUNFO0FBQ0k7QUFDM0I7QUFDYztBQUNwQjtBQUNRO0FBQ2Q7QUFDOUIsMkJBQTJCLHVEQUF1RCxxSkFBcUosT0FBTztBQUNyUCx1QkFBdUIsU0FBUztBQUNoQztBQUNBLFFBQVEseUNBQVk7QUFDcEIsZUFBZSwrREFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSw2REFBNkQsaUVBQXVCLEtBQUssZ0ZBQWdCO0FBQ3pHO0FBQ0EsNkJBQTZCO0FBQzdCLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsK0JBQStCO0FBQy9CLHlCQUF5QjtBQUN6QixrQkFBa0I7QUFDbEIsd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCO0FBQ0Esc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixzQkFBc0I7QUFDdEIsOEJBQThCO0FBQzlCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsZ0JBQWdCO0FBQ2hCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiwrQkFBK0I7QUFDL0Isd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQixxQkFBcUI7QUFDckIseUJBQXlCO0FBQ3pCLGtCQUFrQjtBQUNsQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFZO0FBQy9CLG9CQUFvQix5Q0FBWTtBQUNoQywrQkFBK0IseUNBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IGNyZWF0ZURhdGFiYXNlQWRhcHRlciwgZGVmYXVsdEJlZ2luVHJhbnNhY3Rpb24gfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICcuL2Nvbm5lY3QuanMnO1xuaW1wb3J0IHsgY291bnQgfSBmcm9tICcuL2NvdW50LmpzJztcbmltcG9ydCB7IGNvdW50R2xvYmFsVmVyc2lvbnMgfSBmcm9tICcuL2NvdW50R2xvYmFsVmVyc2lvbnMuanMnO1xuaW1wb3J0IHsgY291bnRWZXJzaW9ucyB9IGZyb20gJy4vY291bnRWZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICcuL2NyZWF0ZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVHbG9iYWwgfSBmcm9tICcuL2NyZWF0ZUdsb2JhbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVHbG9iYWxWZXJzaW9uIH0gZnJvbSAnLi9jcmVhdGVHbG9iYWxWZXJzaW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1pZ3JhdGlvbiB9IGZyb20gJy4vY3JlYXRlTWlncmF0aW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZVZlcnNpb24gfSBmcm9tICcuL2NyZWF0ZVZlcnNpb24uanMnO1xuaW1wb3J0IHsgZGVsZXRlTWFueSB9IGZyb20gJy4vZGVsZXRlTWFueS5qcyc7XG5pbXBvcnQgeyBkZWxldGVPbmUgfSBmcm9tICcuL2RlbGV0ZU9uZS5qcyc7XG5pbXBvcnQgeyBkZWxldGVWZXJzaW9ucyB9IGZyb20gJy4vZGVsZXRlVmVyc2lvbnMuanMnO1xuaW1wb3J0IHsgZGVzdHJveSB9IGZyb20gJy4vZGVzdHJveS5qcyc7XG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnLi9maW5kLmpzJztcbmltcG9ydCB7IGZpbmRHbG9iYWwgfSBmcm9tICcuL2ZpbmRHbG9iYWwuanMnO1xuaW1wb3J0IHsgZmluZEdsb2JhbFZlcnNpb25zIH0gZnJvbSAnLi9maW5kR2xvYmFsVmVyc2lvbnMuanMnO1xuaW1wb3J0IHsgZmluZE9uZSB9IGZyb20gJy4vZmluZE9uZS5qcyc7XG5pbXBvcnQgeyBmaW5kVmVyc2lvbnMgfSBmcm9tICcuL2ZpbmRWZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBpbml0IH0gZnJvbSAnLi9pbml0LmpzJztcbmltcG9ydCB7IG1pZ3JhdGVGcmVzaCB9IGZyb20gJy4vbWlncmF0ZUZyZXNoLmpzJztcbmltcG9ydCB7IHF1ZXJ5RHJhZnRzIH0gZnJvbSAnLi9xdWVyeURyYWZ0cy5qcyc7XG5pbXBvcnQgeyBiZWdpblRyYW5zYWN0aW9uIH0gZnJvbSAnLi90cmFuc2FjdGlvbnMvYmVnaW5UcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBjb21taXRUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb25zL2NvbW1pdFRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IHJvbGxiYWNrVHJhbnNhY3Rpb24gfSBmcm9tICcuL3RyYW5zYWN0aW9ucy9yb2xsYmFja1RyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IHVwZGF0ZUdsb2JhbCB9IGZyb20gJy4vdXBkYXRlR2xvYmFsLmpzJztcbmltcG9ydCB7IHVwZGF0ZUdsb2JhbFZlcnNpb24gfSBmcm9tICcuL3VwZGF0ZUdsb2JhbFZlcnNpb24uanMnO1xuaW1wb3J0IHsgdXBkYXRlT25lIH0gZnJvbSAnLi91cGRhdGVPbmUuanMnO1xuaW1wb3J0IHsgdXBkYXRlVmVyc2lvbiB9IGZyb20gJy4vdXBkYXRlVmVyc2lvbi5qcyc7XG5pbXBvcnQgeyB1cHNlcnQgfSBmcm9tICcuL3Vwc2VydC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gbW9uZ29vc2VBZGFwdGVyKHsgYXV0b1BsdXJhbGl6YXRpb24gPSB0cnVlLCBjb2xsZWN0aW9uc1NjaGVtYU9wdGlvbnMgPSB7fSwgY29ubmVjdE9wdGlvbnMsIGRpc2FibGVJbmRleEhpbnRzID0gZmFsc2UsIGVuc3VyZUluZGV4ZXMsIG1pZ3JhdGlvbkRpcjogbWlncmF0aW9uRGlyQXJnLCBtb25nb01lbW9yeVNlcnZlciwgcHJvZE1pZ3JhdGlvbnMsIHRyYW5zYWN0aW9uT3B0aW9ucyA9IHt9LCB1cmwgfSkge1xuICAgIGZ1bmN0aW9uIGFkYXB0ZXIoeyBwYXlsb2FkIH0pIHtcbiAgICAgICAgY29uc3QgbWlncmF0aW9uRGlyID0gZmluZE1pZ3JhdGlvbkRpcihtaWdyYXRpb25EaXJBcmcpO1xuICAgICAgICBtb25nb29zZS5zZXQoJ3N0cmljdFF1ZXJ5JywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRGF0YWJhc2VBZGFwdGVyKHtcbiAgICAgICAgICAgIG5hbWU6ICdtb25nb29zZScsXG4gICAgICAgICAgICAvLyBNb25nb29zZS1zcGVjaWZpY1xuICAgICAgICAgICAgYXV0b1BsdXJhbGl6YXRpb24sXG4gICAgICAgICAgICBjb2xsZWN0aW9uczoge30sXG4gICAgICAgICAgICBjb25uZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25uZWN0T3B0aW9uczogY29ubmVjdE9wdGlvbnMgfHwge30sXG4gICAgICAgICAgICBkaXNhYmxlSW5kZXhIaW50cyxcbiAgICAgICAgICAgIGVuc3VyZUluZGV4ZXMsXG4gICAgICAgICAgICBnbG9iYWxzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtb25nb01lbW9yeVNlcnZlcixcbiAgICAgICAgICAgIHNlc3Npb25zOiB7fSxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uT3B0aW9uczogdHJhbnNhY3Rpb25PcHRpb25zID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IHRyYW5zYWN0aW9uT3B0aW9ucyxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIHZlcnNpb25zOiB7fSxcbiAgICAgICAgICAgIC8vIERhdGFiYXNlQWRhcHRlclxuICAgICAgICAgICAgYmVnaW5UcmFuc2FjdGlvbjogdHJhbnNhY3Rpb25PcHRpb25zID09PSBmYWxzZSA/IGRlZmF1bHRCZWdpblRyYW5zYWN0aW9uKCkgOiBiZWdpblRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgY29sbGVjdGlvbnNTY2hlbWFPcHRpb25zLFxuICAgICAgICAgICAgY29tbWl0VHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBjb25uZWN0LFxuICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICBjb3VudEdsb2JhbFZlcnNpb25zLFxuICAgICAgICAgICAgY291bnRWZXJzaW9ucyxcbiAgICAgICAgICAgIGNyZWF0ZSxcbiAgICAgICAgICAgIGNyZWF0ZUdsb2JhbCxcbiAgICAgICAgICAgIGNyZWF0ZUdsb2JhbFZlcnNpb24sXG4gICAgICAgICAgICBjcmVhdGVNaWdyYXRpb24sXG4gICAgICAgICAgICBjcmVhdGVWZXJzaW9uLFxuICAgICAgICAgICAgZGVmYXVsdElEVHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgZGVsZXRlTWFueSxcbiAgICAgICAgICAgIGRlbGV0ZU9uZSxcbiAgICAgICAgICAgIGRlbGV0ZVZlcnNpb25zLFxuICAgICAgICAgICAgZGVzdHJveSxcbiAgICAgICAgICAgIGZpbmQsXG4gICAgICAgICAgICBmaW5kR2xvYmFsLFxuICAgICAgICAgICAgZmluZEdsb2JhbFZlcnNpb25zLFxuICAgICAgICAgICAgZmluZE9uZSxcbiAgICAgICAgICAgIGZpbmRWZXJzaW9ucyxcbiAgICAgICAgICAgIGluaXQsXG4gICAgICAgICAgICBtaWdyYXRlRnJlc2gsXG4gICAgICAgICAgICBtaWdyYXRpb25EaXIsXG4gICAgICAgICAgICBwYWNrYWdlTmFtZTogJ0BwYXlsb2FkY21zL2RiLW1vbmdvZGInLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2RNaWdyYXRpb25zLFxuICAgICAgICAgICAgcXVlcnlEcmFmdHMsXG4gICAgICAgICAgICByb2xsYmFja1RyYW5zYWN0aW9uLFxuICAgICAgICAgICAgdXBkYXRlR2xvYmFsLFxuICAgICAgICAgICAgdXBkYXRlR2xvYmFsVmVyc2lvbixcbiAgICAgICAgICAgIHVwZGF0ZU9uZSxcbiAgICAgICAgICAgIHVwZGF0ZVZlcnNpb24sXG4gICAgICAgICAgICB1cHNlcnRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRlZmF1bHRJRFR5cGU6ICd0ZXh0JyxcbiAgICAgICAgaW5pdDogYWRhcHRlclxuICAgIH07XG59XG4vKipcbiAqIEF0dGVtcHQgdG8gZmluZCBtaWdyYXRpb25zIGRpcmVjdG9yeS5cbiAqXG4gKiBDaGVja3MgZm9yIHRoZSBmb2xsb3dpbmcgZGlyZWN0b3JpZXMgaW4gb3JkZXI6XG4gKiAtIGBtaWdyYXRpb25EaXJgIGFyZ3VtZW50IGZyb20gUGF5bG9hZCBjb25maWdcbiAqIC0gYHNyYy9taWdyYXRpb25zYFxuICogLSBgZGlzdC9taWdyYXRpb25zYFxuICogLSBgbWlncmF0aW9uc2BcbiAqXG4gKiBEZWZhdWx0cyB0byBgc3JjL21pZ3JhdGlvbnNgXG4gKlxuICogQHBhcmFtIG1pZ3JhdGlvbkRpclxuICogQHJldHVybnNcbiAqLyBmdW5jdGlvbiBmaW5kTWlncmF0aW9uRGlyKG1pZ3JhdGlvbkRpcikge1xuICAgIGNvbnN0IGN3ZCA9IHByb2Nlc3MuY3dkKCk7XG4gICAgY29uc3Qgc3JjRGlyID0gcGF0aC5yZXNvbHZlKGN3ZCwgJ3NyYy9taWdyYXRpb25zJyk7XG4gICAgY29uc3QgZGlzdERpciA9IHBhdGgucmVzb2x2ZShjd2QsICdkaXN0L21pZ3JhdGlvbnMnKTtcbiAgICBjb25zdCByZWxhdGl2ZU1pZ3JhdGlvbnMgPSBwYXRoLnJlc29sdmUoY3dkLCAnbWlncmF0aW9ucycpO1xuICAgIC8vIFVzZSBhcmcgaWYgcHJvdmlkZWRcbiAgICBpZiAobWlncmF0aW9uRGlyKSB7XG4gICAgICAgIHJldHVybiBtaWdyYXRpb25EaXI7XG4gICAgfVxuICAgIC8vIENoZWNrIG90aGVyIGNvbW1vbiBsb2NhdGlvbnNcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhzcmNEaXIpKSB7XG4gICAgICAgIHJldHVybiBzcmNEaXI7XG4gICAgfVxuICAgIGlmIChmcy5leGlzdHNTeW5jKGRpc3REaXIpKSB7XG4gICAgICAgIHJldHVybiBkaXN0RGlyO1xuICAgIH1cbiAgICBpZiAoZnMuZXhpc3RzU3luYyhyZWxhdGl2ZU1pZ3JhdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiByZWxhdGl2ZU1pZ3JhdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBzcmNEaXI7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   init: () => (/* binding */ init)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose-aggregate-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-aggregate-paginate-v2@1.1.2/node_modules/mongoose-aggregate-paginate-v2/index.js\");\n/* harmony import */ var mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongoose-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _models_buildCollectionSchema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models/buildCollectionSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js\");\n/* harmony import */ var _models_buildGlobalModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/buildGlobalModel.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js\");\n/* harmony import */ var _models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utilities/getDBName.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js\");\n\n\n\n\n\n\n\n\n\nconst init = function init() {\n    this.payload.config.collections.forEach((collection)=>{\n        const schemaOptions = this.collectionsSchemaOptions[collection.slug];\n        const schema = (0,_models_buildCollectionSchema_js__WEBPACK_IMPORTED_MODULE_3__.buildCollectionSchema)(collection, this.payload, schemaOptions);\n        if (collection.versions) {\n            const versionModelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n                config: collection,\n                versions: true\n            });\n            const versionCollectionFields = (0,payload__WEBPACK_IMPORTED_MODULE_8__.buildVersionCollectionFields)(this.payload.config, collection);\n            const versionSchema = (0,_models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__.buildSchema)(this.payload, versionCollectionFields, {\n                disableUnique: true,\n                draftsEnabled: true,\n                indexSortableFields: this.payload.config.indexSortableFields,\n                options: {\n                    minimize: false,\n                    timestamps: false\n                },\n                ...schemaOptions\n            });\n            versionSchema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__, {\n                useEstimatedCount: true\n            }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__.getBuildQueryPlugin)({\n                collectionSlug: collection.slug,\n                versionsFields: (0,payload__WEBPACK_IMPORTED_MODULE_8__.buildVersionCollectionFields)(this.payload.config, collection, true)\n            }));\n            if (Object.keys(collection.joins).length > 0) {\n                versionSchema.plugin(mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_1__);\n            }\n            const versionCollectionName = this.autoPluralization === true && !collection.dbName ? undefined : versionModelName;\n            this.versions[collection.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(versionModelName, versionSchema, versionCollectionName);\n        }\n        const modelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n            config: collection\n        });\n        const collectionName = this.autoPluralization === true && !collection.dbName ? undefined : modelName;\n        this.collections[collection.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(modelName, schema, collectionName);\n    });\n    this.globals = (0,_models_buildGlobalModel_js__WEBPACK_IMPORTED_MODULE_4__.buildGlobalModel)(this.payload);\n    this.payload.config.globals.forEach((global)=>{\n        if (global.versions) {\n            const versionModelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n                config: global,\n                versions: true\n            });\n            const versionGlobalFields = (0,payload__WEBPACK_IMPORTED_MODULE_9__.buildVersionGlobalFields)(this.payload.config, global);\n            const versionSchema = (0,_models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__.buildSchema)(this.payload, versionGlobalFields, {\n                disableUnique: true,\n                draftsEnabled: true,\n                indexSortableFields: this.payload.config.indexSortableFields,\n                options: {\n                    minimize: false,\n                    timestamps: false\n                }\n            });\n            versionSchema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__, {\n                useEstimatedCount: true\n            }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__.getBuildQueryPlugin)({\n                versionsFields: (0,payload__WEBPACK_IMPORTED_MODULE_9__.buildVersionGlobalFields)(this.payload.config, global, true)\n            }));\n            this.versions[global.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(versionModelName, versionSchema, versionModelName);\n        }\n    });\n};\n\n//# sourceMappingURL=init.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2luaXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDdUM7QUFDM0I7QUFDcUM7QUFDUDtBQUNWO0FBQ1Y7QUFDUTtBQUNUO0FBQzlDO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qix1RkFBcUI7QUFDNUM7QUFDQSxxQ0FBcUMsa0VBQVM7QUFDOUM7QUFDQTtBQUNBLGFBQWE7QUFDYiw0Q0FBNEMscUVBQTRCO0FBQ3hFLGtDQUFrQyxtRUFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2IsaUNBQWlDLGlEQUFRO0FBQ3pDO0FBQ0EsYUFBYSxTQUFTLDJFQUFtQjtBQUN6QztBQUNBLGdDQUFnQyxxRUFBNEI7QUFDNUQsYUFBYTtBQUNiO0FBQ0EscUNBQXFDLDJEQUF5QjtBQUM5RDtBQUNBO0FBQ0EsNkNBQTZDLDJDQUFjO0FBQzNEO0FBQ0EsMEJBQTBCLGtFQUFTO0FBQ25DO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNENBQTRDLDJDQUFjO0FBQzFELEtBQUs7QUFDTCxtQkFBbUIsNkVBQWdCO0FBQ25DO0FBQ0E7QUFDQSxxQ0FBcUMsa0VBQVM7QUFDOUM7QUFDQTtBQUNBLGFBQWE7QUFDYix3Q0FBd0MsaUVBQXdCO0FBQ2hFLGtDQUFrQyxtRUFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixpQ0FBaUMsaURBQVE7QUFDekM7QUFDQSxhQUFhLFNBQVMsMkVBQW1CO0FBQ3pDLGdDQUFnQyxpRUFBd0I7QUFDeEQsYUFBYTtBQUNiLHlDQUF5QywyQ0FBYztBQUN2RDtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9pbml0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgbW9uZ29vc2VBZ2dyZWdhdGVQYWdpbmF0ZSBmcm9tICdtb25nb29zZS1hZ2dyZWdhdGUtcGFnaW5hdGUtdjInO1xuaW1wb3J0IHBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlLXYyJztcbmltcG9ydCB7IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRDb2xsZWN0aW9uU2NoZW1hIH0gZnJvbSAnLi9tb2RlbHMvYnVpbGRDb2xsZWN0aW9uU2NoZW1hLmpzJztcbmltcG9ydCB7IGJ1aWxkR2xvYmFsTW9kZWwgfSBmcm9tICcuL21vZGVscy9idWlsZEdsb2JhbE1vZGVsLmpzJztcbmltcG9ydCB7IGJ1aWxkU2NoZW1hIH0gZnJvbSAnLi9tb2RlbHMvYnVpbGRTY2hlbWEuanMnO1xuaW1wb3J0IHsgZ2V0QnVpbGRRdWVyeVBsdWdpbiB9IGZyb20gJy4vcXVlcmllcy9idWlsZFF1ZXJ5LmpzJztcbmltcG9ydCB7IGdldERCTmFtZSB9IGZyb20gJy4vdXRpbGl0aWVzL2dldERCTmFtZS5qcyc7XG5leHBvcnQgY29uc3QgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdGhpcy5wYXlsb2FkLmNvbmZpZy5jb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKT0+e1xuICAgICAgICBjb25zdCBzY2hlbWFPcHRpb25zID0gdGhpcy5jb2xsZWN0aW9uc1NjaGVtYU9wdGlvbnNbY29sbGVjdGlvbi5zbHVnXTtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gYnVpbGRDb2xsZWN0aW9uU2NoZW1hKGNvbGxlY3Rpb24sIHRoaXMucGF5bG9hZCwgc2NoZW1hT3B0aW9ucyk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uLnZlcnNpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uTW9kZWxOYW1lID0gZ2V0REJOYW1lKHtcbiAgICAgICAgICAgICAgICBjb25maWc6IGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgdmVyc2lvbnM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMgPSBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvblNjaGVtYSA9IGJ1aWxkU2NoZW1hKHRoaXMucGF5bG9hZCwgdmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlVW5pcXVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRyYWZ0c0VuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5kZXhTb3J0YWJsZUZpZWxkczogdGhpcy5wYXlsb2FkLmNvbmZpZy5pbmRleFNvcnRhYmxlRmllbGRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluaW1pemU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uc2NoZW1hT3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2ZXJzaW9uU2NoZW1hLnBsdWdpbihwYWdpbmF0ZSwge1xuICAgICAgICAgICAgICAgIHVzZUVzdGltYXRlZENvdW50OiB0cnVlXG4gICAgICAgICAgICB9KS5wbHVnaW4oZ2V0QnVpbGRRdWVyeVBsdWdpbih7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvblNsdWc6IGNvbGxlY3Rpb24uc2x1ZyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uc0ZpZWxkczogYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCBjb2xsZWN0aW9uLCB0cnVlKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbGxlY3Rpb24uam9pbnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2NoZW1hLnBsdWdpbihtb25nb29zZUFnZ3JlZ2F0ZVBhZ2luYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25Db2xsZWN0aW9uTmFtZSA9IHRoaXMuYXV0b1BsdXJhbGl6YXRpb24gPT09IHRydWUgJiYgIWNvbGxlY3Rpb24uZGJOYW1lID8gdW5kZWZpbmVkIDogdmVyc2lvbk1vZGVsTmFtZTtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbnNbY29sbGVjdGlvbi5zbHVnXSA9IG1vbmdvb3NlLm1vZGVsKHZlcnNpb25Nb2RlbE5hbWUsIHZlcnNpb25TY2hlbWEsIHZlcnNpb25Db2xsZWN0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxOYW1lID0gZ2V0REJOYW1lKHtcbiAgICAgICAgICAgIGNvbmZpZzogY29sbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSB0aGlzLmF1dG9QbHVyYWxpemF0aW9uID09PSB0cnVlICYmICFjb2xsZWN0aW9uLmRiTmFtZSA/IHVuZGVmaW5lZCA6IG1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uLnNsdWddID0gbW9uZ29vc2UubW9kZWwobW9kZWxOYW1lLCBzY2hlbWEsIGNvbGxlY3Rpb25OYW1lKTtcbiAgICB9KTtcbiAgICB0aGlzLmdsb2JhbHMgPSBidWlsZEdsb2JhbE1vZGVsKHRoaXMucGF5bG9hZCk7XG4gICAgdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZvckVhY2goKGdsb2JhbCk9PntcbiAgICAgICAgaWYgKGdsb2JhbC52ZXJzaW9ucykge1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbk1vZGVsTmFtZSA9IGdldERCTmFtZSh7XG4gICAgICAgICAgICAgICAgY29uZmlnOiBnbG9iYWwsXG4gICAgICAgICAgICAgICAgdmVyc2lvbnM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbkdsb2JhbEZpZWxkcyA9IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCBnbG9iYWwpO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvblNjaGVtYSA9IGJ1aWxkU2NoZW1hKHRoaXMucGF5bG9hZCwgdmVyc2lvbkdsb2JhbEZpZWxkcywge1xuICAgICAgICAgICAgICAgIGRpc2FibGVVbmlxdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgZHJhZnRzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbmRleFNvcnRhYmxlRmllbGRzOiB0aGlzLnBheWxvYWQuY29uZmlnLmluZGV4U29ydGFibGVGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2ZXJzaW9uU2NoZW1hLnBsdWdpbihwYWdpbmF0ZSwge1xuICAgICAgICAgICAgICAgIHVzZUVzdGltYXRlZENvdW50OiB0cnVlXG4gICAgICAgICAgICB9KS5wbHVnaW4oZ2V0QnVpbGRRdWVyeVBsdWdpbih7XG4gICAgICAgICAgICAgICAgdmVyc2lvbnNGaWVsZHM6IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCBnbG9iYWwsIHRydWUpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25zW2dsb2JhbC5zbHVnXSA9IG1vbmdvb3NlLm1vZGVsKHZlcnNpb25Nb2RlbE5hbWUsIHZlcnNpb25TY2hlbWEsIHZlcnNpb25Nb2RlbE5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateFresh: () => (/* binding */ migrateFresh)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prompts */ \"(rsc)/../node_modules/.pnpm/prompts@2.4.2/node_modules/prompts/index.js\");\n\n\n/**\n * Drop the current database and run all migrate up functions\n */ async function migrateFresh({ forceAcceptWarning = false }) {\n    const { payload } = this;\n    if (!forceAcceptWarning) {\n        const { confirm: acceptWarning } = await prompts__WEBPACK_IMPORTED_MODULE_0__({\n            name: 'confirm',\n            type: 'confirm',\n            initial: false,\n            message: `WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?`\n        }, {\n            onCancel: ()=>{\n                process.exit(0);\n            }\n        });\n        if (!acceptWarning) {\n            process.exit(0);\n        }\n    }\n    payload.logger.info({\n        msg: `Dropping database.`\n    });\n    await this.connection.dropDatabase();\n    const migrationFiles = await (0,payload__WEBPACK_IMPORTED_MODULE_1__.readMigrationFiles)({\n        payload\n    });\n    payload.logger.debug({\n        msg: `Found ${migrationFiles.length} migration files.`\n    });\n    const req = {\n        payload\n    };\n    // Run all migrate up\n    for (const migration of migrationFiles){\n        payload.logger.info({\n            msg: `Migrating: ${migration.name}`\n        });\n        try {\n            const start = Date.now();\n            await (0,payload__WEBPACK_IMPORTED_MODULE_2__.initTransaction)(req);\n            await migration.up({\n                payload,\n                req\n            });\n            await payload.create({\n                collection: 'payload-migrations',\n                data: {\n                    name: migration.name,\n                    batch: 1\n                },\n                req\n            });\n            await (0,payload__WEBPACK_IMPORTED_MODULE_3__.commitTransaction)(req);\n            payload.logger.info({\n                msg: `Migrated:  ${migration.name} (${Date.now() - start}ms)`\n            });\n        } catch (err) {\n            await (0,payload__WEBPACK_IMPORTED_MODULE_4__.killTransaction)(req);\n            payload.logger.error({\n                err,\n                msg: `Error running migration ${migration.name}. Rolling back.`\n            });\n            throw err;\n        }\n    }\n}\n\n//# sourceMappingURL=migrateFresh.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21pZ3JhdGVGcmVzaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0c7QUFDcEU7QUFDOUI7QUFDQTtBQUNBLElBQVcsOEJBQThCLDRCQUE0QjtBQUNyRSxZQUFZLFVBQVU7QUFDdEI7QUFDQSxnQkFBZ0IseUJBQXlCLFFBQVEsb0NBQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlDQUFpQywyREFBa0I7QUFDbkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsdUJBQXVCO0FBQzdDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZTtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQix3REFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYixrQkFBa0IsMERBQWlCO0FBQ25DO0FBQ0EsbUNBQW1DLGdCQUFnQixHQUFHLG1CQUFtQjtBQUN6RSxhQUFhO0FBQ2IsVUFBVTtBQUNWLGtCQUFrQix3REFBZTtBQUNqQztBQUNBO0FBQ0EsZ0RBQWdELGVBQWU7QUFDL0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21pZ3JhdGVGcmVzaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21taXRUcmFuc2FjdGlvbiwgaW5pdFRyYW5zYWN0aW9uLCBraWxsVHJhbnNhY3Rpb24sIHJlYWRNaWdyYXRpb25GaWxlcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHByb21wdHMgZnJvbSAncHJvbXB0cyc7XG4vKipcbiAqIERyb3AgdGhlIGN1cnJlbnQgZGF0YWJhc2UgYW5kIHJ1biBhbGwgbWlncmF0ZSB1cCBmdW5jdGlvbnNcbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZUZyZXNoKHsgZm9yY2VBY2NlcHRXYXJuaW5nID0gZmFsc2UgfSkge1xuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gdGhpcztcbiAgICBpZiAoIWZvcmNlQWNjZXB0V2FybmluZykge1xuICAgICAgICBjb25zdCB7IGNvbmZpcm06IGFjY2VwdFdhcm5pbmcgfSA9IGF3YWl0IHByb21wdHMoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbmZpcm0nLFxuICAgICAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgICAgICAgICAgaW5pdGlhbDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBgV0FSTklORzogVGhpcyB3aWxsIGRyb3AgeW91ciBkYXRhYmFzZSBhbmQgcnVuIGFsbCBtaWdyYXRpb25zLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvY2VlZD9gXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9uQ2FuY2VsOiAoKT0+e1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYWNjZXB0V2FybmluZykge1xuICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICBtc2c6IGBEcm9wcGluZyBkYXRhYmFzZS5gXG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLmRyb3BEYXRhYmFzZSgpO1xuICAgIGNvbnN0IG1pZ3JhdGlvbkZpbGVzID0gYXdhaXQgcmVhZE1pZ3JhdGlvbkZpbGVzKHtcbiAgICAgICAgcGF5bG9hZFxuICAgIH0pO1xuICAgIHBheWxvYWQubG9nZ2VyLmRlYnVnKHtcbiAgICAgICAgbXNnOiBgRm91bmQgJHttaWdyYXRpb25GaWxlcy5sZW5ndGh9IG1pZ3JhdGlvbiBmaWxlcy5gXG4gICAgfSk7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgICBwYXlsb2FkXG4gICAgfTtcbiAgICAvLyBSdW4gYWxsIG1pZ3JhdGUgdXBcbiAgICBmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25GaWxlcyl7XG4gICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgbXNnOiBgTWlncmF0aW5nOiAke21pZ3JhdGlvbi5uYW1lfWBcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBhd2FpdCBpbml0VHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgICAgIGF3YWl0IG1pZ3JhdGlvbi51cCh7XG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICByZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWlncmF0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoOiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgY29tbWl0VHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgIG1zZzogYE1pZ3JhdGVkOiAgJHttaWdyYXRpb24ubmFtZX0gKCR7RGF0ZS5ub3coKSAtIHN0YXJ0fW1zKWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGF3YWl0IGtpbGxUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICBtc2c6IGBFcnJvciBydW5uaW5nIG1pZ3JhdGlvbiAke21pZ3JhdGlvbi5uYW1lfS4gUm9sbGluZyBiYWNrLmBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWdyYXRlRnJlc2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildCollectionSchema: () => (/* binding */ buildCollectionSchema)\n/* harmony export */ });\n/* harmony import */ var mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose-aggregate-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-aggregate-paginate-v2@1.1.2/node_modules/mongoose-aggregate-paginate-v2/index.js\");\n/* harmony import */ var mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _buildSchema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n\n\n\n\nconst buildCollectionSchema = (collection, payload, schemaOptions = {})=>{\n    const schema = (0,_buildSchema_js__WEBPACK_IMPORTED_MODULE_3__.buildSchema)(payload, collection.fields, {\n        draftsEnabled: Boolean(typeof collection?.versions === 'object' && collection.versions.drafts),\n        indexSortableFields: payload.config.indexSortableFields,\n        options: {\n            minimize: false,\n            timestamps: collection.timestamps !== false,\n            ...schemaOptions\n        }\n    });\n    if (Array.isArray(collection.upload.filenameCompoundIndex)) {\n        const indexDefinition = collection.upload.filenameCompoundIndex.reduce((acc, index)=>{\n            acc[index] = 1;\n            return acc;\n        }, {});\n        schema.index(indexDefinition, {\n            unique: true\n        });\n    }\n    if (payload.config.indexSortableFields && collection.timestamps !== false) {\n        schema.index({\n            updatedAt: 1\n        });\n        schema.index({\n            createdAt: 1\n        });\n    }\n    schema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_1__, {\n        useEstimatedCount: true\n    }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_2__.getBuildQueryPlugin)({\n        collectionSlug: collection.slug\n    }));\n    if (Object.keys(collection.joins).length > 0) {\n        schema.plugin(mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_0__);\n    }\n    return schema;\n};\n\n//# sourceMappingURL=buildCollectionSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZENvbGxlY3Rpb25TY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUU7QUFDM0I7QUFDbUI7QUFDaEI7QUFDeEMsc0VBQXNFO0FBQzdFLG1CQUFtQiw0REFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixpREFBUTtBQUMxQjtBQUNBLEtBQUssU0FBUywyRUFBbUI7QUFDakM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsMkRBQXlCO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9tb2RlbHMvYnVpbGRDb2xsZWN0aW9uU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZUFnZ3JlZ2F0ZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLWFnZ3JlZ2F0ZS1wYWdpbmF0ZS12Mic7XG5pbXBvcnQgcGFnaW5hdGUgZnJvbSAnbW9uZ29vc2UtcGFnaW5hdGUtdjInO1xuaW1wb3J0IHsgZ2V0QnVpbGRRdWVyeVBsdWdpbiB9IGZyb20gJy4uL3F1ZXJpZXMvYnVpbGRRdWVyeS5qcyc7XG5pbXBvcnQgeyBidWlsZFNjaGVtYSB9IGZyb20gJy4vYnVpbGRTY2hlbWEuanMnO1xuZXhwb3J0IGNvbnN0IGJ1aWxkQ29sbGVjdGlvblNjaGVtYSA9IChjb2xsZWN0aW9uLCBwYXlsb2FkLCBzY2hlbWFPcHRpb25zID0ge30pPT57XG4gICAgY29uc3Qgc2NoZW1hID0gYnVpbGRTY2hlbWEocGF5bG9hZCwgY29sbGVjdGlvbi5maWVsZHMsIHtcbiAgICAgICAgZHJhZnRzRW5hYmxlZDogQm9vbGVhbih0eXBlb2YgY29sbGVjdGlvbj8udmVyc2lvbnMgPT09ICdvYmplY3QnICYmIGNvbGxlY3Rpb24udmVyc2lvbnMuZHJhZnRzKSxcbiAgICAgICAgaW5kZXhTb3J0YWJsZUZpZWxkczogcGF5bG9hZC5jb25maWcuaW5kZXhTb3J0YWJsZUZpZWxkcyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbWluaW1pemU6IGZhbHNlLFxuICAgICAgICAgICAgdGltZXN0YW1wczogY29sbGVjdGlvbi50aW1lc3RhbXBzICE9PSBmYWxzZSxcbiAgICAgICAgICAgIC4uLnNjaGVtYU9wdGlvbnNcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24udXBsb2FkLmZpbGVuYW1lQ29tcG91bmRJbmRleCkpIHtcbiAgICAgICAgY29uc3QgaW5kZXhEZWZpbml0aW9uID0gY29sbGVjdGlvbi51cGxvYWQuZmlsZW5hbWVDb21wb3VuZEluZGV4LnJlZHVjZSgoYWNjLCBpbmRleCk9PntcbiAgICAgICAgICAgIGFjY1tpbmRleF0gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBzY2hlbWEuaW5kZXgoaW5kZXhEZWZpbml0aW9uLCB7XG4gICAgICAgICAgICB1bmlxdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLmNvbmZpZy5pbmRleFNvcnRhYmxlRmllbGRzICYmIGNvbGxlY3Rpb24udGltZXN0YW1wcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgc2NoZW1hLmluZGV4KHtcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogMVxuICAgICAgICB9KTtcbiAgICAgICAgc2NoZW1hLmluZGV4KHtcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogMVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2NoZW1hLnBsdWdpbihwYWdpbmF0ZSwge1xuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudDogdHJ1ZVxuICAgIH0pLnBsdWdpbihnZXRCdWlsZFF1ZXJ5UGx1Z2luKHtcbiAgICAgICAgY29sbGVjdGlvblNsdWc6IGNvbGxlY3Rpb24uc2x1Z1xuICAgIH0pKTtcbiAgICBpZiAoT2JqZWN0LmtleXMoY29sbGVjdGlvbi5qb2lucykubGVuZ3RoID4gMCkge1xuICAgICAgICBzY2hlbWEucGx1Z2luKG1vbmdvb3NlQWdncmVnYXRlUGFnaW5hdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRDb2xsZWN0aW9uU2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildGlobalModel: () => (/* binding */ buildGlobalModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _buildSchema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n\n\n\nconst buildGlobalModel = (payload)=>{\n    if (payload.config.globals && payload.config.globals.length > 0) {\n        const globalsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n            discriminatorKey: 'globalType',\n            minimize: false,\n            timestamps: true\n        });\n        globalsSchema.plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_1__.getBuildQueryPlugin)());\n        const Globals = mongoose__WEBPACK_IMPORTED_MODULE_0__.model('globals', globalsSchema, 'globals');\n        Object.values(payload.config.globals).forEach((globalConfig)=>{\n            const globalSchema = (0,_buildSchema_js__WEBPACK_IMPORTED_MODULE_2__.buildSchema)(payload, globalConfig.fields, {\n                options: {\n                    minimize: false\n                }\n            });\n            Globals.discriminator(globalConfig.slug, globalSchema);\n        });\n        return Globals;\n    }\n    return null;\n};\n\n//# sourceMappingURL=buildGlobalModel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZEdsb2JhbE1vZGVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0M7QUFDK0I7QUFDaEI7QUFDeEM7QUFDUDtBQUNBLGtDQUFrQyw0Q0FBZSxHQUFHO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw2QkFBNkIsMkVBQW1CO0FBQ2hELHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBLGlDQUFpQyw0REFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvbW9kZWxzL2J1aWxkR2xvYmFsTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IGdldEJ1aWxkUXVlcnlQbHVnaW4gfSBmcm9tICcuLi9xdWVyaWVzL2J1aWxkUXVlcnkuanMnO1xuaW1wb3J0IHsgYnVpbGRTY2hlbWEgfSBmcm9tICcuL2J1aWxkU2NoZW1hLmpzJztcbmV4cG9ydCBjb25zdCBidWlsZEdsb2JhbE1vZGVsID0gKHBheWxvYWQpPT57XG4gICAgaWYgKHBheWxvYWQuY29uZmlnLmdsb2JhbHMgJiYgcGF5bG9hZC5jb25maWcuZ2xvYmFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbHNTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHt9LCB7XG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yS2V5OiAnZ2xvYmFsVHlwZScsXG4gICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1lc3RhbXBzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBnbG9iYWxzU2NoZW1hLnBsdWdpbihnZXRCdWlsZFF1ZXJ5UGx1Z2luKCkpO1xuICAgICAgICBjb25zdCBHbG9iYWxzID0gbW9uZ29vc2UubW9kZWwoJ2dsb2JhbHMnLCBnbG9iYWxzU2NoZW1hLCAnZ2xvYmFscycpO1xuICAgICAgICBPYmplY3QudmFsdWVzKHBheWxvYWQuY29uZmlnLmdsb2JhbHMpLmZvckVhY2goKGdsb2JhbENvbmZpZyk9PntcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbFNjaGVtYSA9IGJ1aWxkU2NoZW1hKHBheWxvYWQsIGdsb2JhbENvbmZpZy5maWVsZHMsIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgR2xvYmFscy5kaXNjcmltaW5hdG9yKGdsb2JhbENvbmZpZy5zbHVnLCBnbG9iYWxTY2hlbWEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEdsb2JhbHM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRHbG9iYWxNb2RlbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSchema: () => (/* binding */ buildSchema)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\n\n/**\n * get a field's defaultValue only if defined and not dynamic so that it can be set on the field schema\n * @param field\n */ const formatDefaultValue = (field)=>typeof field.defaultValue !== 'undefined' && typeof field.defaultValue !== 'function' ? field.defaultValue : undefined;\nconst formatBaseSchema = (field, buildSchemaOptions)=>{\n    const { disableUnique, draftsEnabled, indexSortableFields } = buildSchemaOptions;\n    const schema = {\n        default: formatDefaultValue(field),\n        index: field.index || !disableUnique && field.unique || indexSortableFields || false,\n        required: false,\n        unique: !disableUnique && field.unique || false\n    };\n    if (schema.unique && (field.localized || draftsEnabled || (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.type !== 'group' && field.type !== 'tab' && field.required !== true)) {\n        schema.sparse = true;\n    }\n    if (field.hidden) {\n        schema.hidden = true;\n    }\n    return schema;\n};\nconst localizeSchema = (entity, schema, localization)=>{\n    if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsLocalized)(entity) && localization && Array.isArray(localization.locales)) {\n        return {\n            type: localization.localeCodes.reduce((localeSchema, locale)=>({\n                    ...localeSchema,\n                    [locale]: schema\n                }), {\n                _id: false\n            }),\n            localized: true\n        };\n    }\n    return schema;\n};\nconst buildSchema = (payload, configFields, buildSchemaOptions = {})=>{\n    const { allowIDField, options } = buildSchemaOptions;\n    let fields = {};\n    let schemaFields = configFields;\n    if (!allowIDField) {\n        const idField = schemaFields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id');\n        if (idField) {\n            fields = {\n                _id: idField.type === 'number' ? Number : String\n            };\n            schemaFields = schemaFields.filter((field)=>!((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id'));\n        }\n    }\n    const schema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema(fields, options);\n    schemaFields.forEach((field)=>{\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(field)) {\n            return;\n        }\n        if (!(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsPresentationalOnly)(field)) {\n            const addFieldSchema = fieldToSchemaMap[field.type];\n            if (addFieldSchema) {\n                addFieldSchema(field, schema, payload, buildSchemaOptions);\n            }\n        }\n    });\n    return schema;\n};\nconst fieldToSchemaMap = {\n    array: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: [\n                buildSchema(payload, field.fields, {\n                    allowIDField: true,\n                    disableUnique: buildSchemaOptions.disableUnique,\n                    draftsEnabled: buildSchemaOptions.draftsEnabled,\n                    options: {\n                        _id: false,\n                        id: false,\n                        minimize: false\n                    }\n                })\n            ]\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    blocks: (field, schema, payload, buildSchemaOptions)=>{\n        const fieldSchema = {\n            type: [\n                new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n                    _id: false,\n                    discriminatorKey: 'blockType'\n                })\n            ]\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, fieldSchema, payload.config.localization)\n        });\n        field.blocks.forEach((blockItem)=>{\n            const blockSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n                _id: false,\n                id: false\n            });\n            blockItem.fields.forEach((blockField)=>{\n                const addFieldSchema = fieldToSchemaMap[blockField.type];\n                if (addFieldSchema) {\n                    addFieldSchema(blockField, blockSchema, payload, buildSchemaOptions);\n                }\n            });\n            if (field.localized && payload.config.localization) {\n                payload.config.localization.localeCodes.forEach((localeCode)=>{\n                    // @ts-expect-error Possible incorrect typing in mongoose types, this works\n                    schema.path(`${field.name}.${localeCode}`).discriminator(blockItem.slug, blockSchema);\n                });\n            } else {\n                // @ts-expect-error Possible incorrect typing in mongoose types, this works\n                schema.path(field.name).discriminator(blockItem.slug, blockSchema);\n            }\n        });\n    },\n    checkbox: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: Boolean\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    code: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    collapsible: (field, schema, payload, buildSchemaOptions)=>{\n        field.fields.forEach((subField)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                return;\n            }\n            const addFieldSchema = fieldToSchemaMap[subField.type];\n            if (addFieldSchema) {\n                addFieldSchema(subField, schema, payload, buildSchemaOptions);\n            }\n        });\n    },\n    date: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: Date\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    email: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    group: (field, schema, payload, buildSchemaOptions)=>{\n        const formattedBaseSchema = formatBaseSchema(field, buildSchemaOptions);\n        // carry indexSortableFields through to versions if drafts enabled\n        const indexSortableFields = buildSchemaOptions.indexSortableFields && field.name === 'version' && buildSchemaOptions.draftsEnabled;\n        const baseSchema = {\n            ...formattedBaseSchema,\n            type: buildSchema(payload, field.fields, {\n                disableUnique: buildSchemaOptions.disableUnique,\n                draftsEnabled: buildSchemaOptions.draftsEnabled,\n                indexSortableFields,\n                options: {\n                    _id: false,\n                    id: false,\n                    minimize: false\n                }\n            })\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    json: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    number: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: field.hasMany ? [\n                Number\n            ] : Number\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    point: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            type: {\n                type: String,\n                enum: [\n                    'Point'\n                ],\n                ...typeof field.defaultValue !== 'undefined' && {\n                    default: 'Point'\n                }\n            },\n            coordinates: {\n                type: [\n                    Number\n                ],\n                default: formatDefaultValue(field),\n                required: false\n            }\n        };\n        if (buildSchemaOptions.disableUnique && field.unique && field.localized) {\n            baseSchema.coordinates.sparse = true;\n        }\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n        if (field.index === true || field.index === undefined) {\n            const indexOptions = {};\n            if (!buildSchemaOptions.disableUnique && field.unique) {\n                indexOptions.sparse = true;\n                indexOptions.unique = true;\n            }\n            if (field.localized && payload.config.localization) {\n                payload.config.localization.locales.forEach((locale)=>{\n                    schema.index({\n                        [`${field.name}.${locale.code}`]: '2dsphere'\n                    }, indexOptions);\n                });\n            } else {\n                schema.index({\n                    [field.name]: '2dsphere'\n                }, indexOptions);\n            }\n        }\n    },\n    radio: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String,\n            enum: field.options.map((option)=>{\n                if (typeof option === 'object') {\n                    return option.value;\n                }\n                return option;\n            })\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    relationship: (field, schema, payload, buildSchemaOptions)=>{\n        const hasManyRelations = Array.isArray(field.relationTo);\n        let schemaToReturn = {};\n        const valueType = getRelationshipValueType(field, payload);\n        if (field.localized && payload.config.localization) {\n            schemaToReturn = {\n                type: payload.config.localization.localeCodes.reduce((locales, locale)=>{\n                    let localeSchema = {};\n                    if (hasManyRelations) {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            _id: false,\n                            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                            relationTo: {\n                                type: String,\n                                enum: field.relationTo\n                            },\n                            value: {\n                                type: valueType,\n                                refPath: `${field.name}.${locale}.relationTo`\n                            }\n                        };\n                    } else {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            type: valueType,\n                            ref: field.relationTo\n                        };\n                    }\n                    return {\n                        ...locales,\n                        [locale]: field.hasMany ? {\n                            type: [\n                                localeSchema\n                            ],\n                            default: formatDefaultValue(field)\n                        } : localeSchema\n                    };\n                }, {}),\n                localized: true\n            };\n        } else if (hasManyRelations) {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                _id: false,\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                relationTo: {\n                    type: String,\n                    enum: field.relationTo\n                },\n                value: {\n                    type: valueType,\n                    refPath: `${field.name}.relationTo`\n                }\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        } else {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                type: valueType,\n                ref: field.relationTo\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        }\n        schema.add({\n            [field.name]: schemaToReturn\n        });\n    },\n    richText: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    row: (field, schema, payload, buildSchemaOptions)=>{\n        field.fields.forEach((subField)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                return;\n            }\n            const addFieldSchema = fieldToSchemaMap[subField.type];\n            if (addFieldSchema) {\n                addFieldSchema(subField, schema, payload, buildSchemaOptions);\n            }\n        });\n    },\n    select: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String,\n            enum: field.options.map((option)=>{\n                if (typeof option === 'object') {\n                    return option.value;\n                }\n                return option;\n            })\n        };\n        if (buildSchemaOptions.draftsEnabled || !field.required) {\n            baseSchema.enum.push(null);\n        }\n        schema.add({\n            [field.name]: localizeSchema(field, field.hasMany ? [\n                baseSchema\n            ] : baseSchema, payload.config.localization)\n        });\n    },\n    tabs: (field, schema, payload, buildSchemaOptions)=>{\n        field.tabs.forEach((tab)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab)) {\n                if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(tab)) {\n                    return;\n                }\n                const baseSchema = {\n                    type: buildSchema(payload, tab.fields, {\n                        disableUnique: buildSchemaOptions.disableUnique,\n                        draftsEnabled: buildSchemaOptions.draftsEnabled,\n                        options: {\n                            _id: false,\n                            id: false,\n                            minimize: false\n                        }\n                    })\n                };\n                schema.add({\n                    [tab.name]: localizeSchema(tab, baseSchema, payload.config.localization)\n                });\n            } else {\n                tab.fields.forEach((subField)=>{\n                    if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                        return;\n                    }\n                    const addFieldSchema = fieldToSchemaMap[subField.type];\n                    if (addFieldSchema) {\n                        addFieldSchema(subField, schema, payload, buildSchemaOptions);\n                    }\n                });\n            }\n        });\n    },\n    text: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: field.hasMany ? [\n                String\n            ] : String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    textarea: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    upload: (field, schema, payload, buildSchemaOptions)=>{\n        const hasManyRelations = Array.isArray(field.relationTo);\n        let schemaToReturn = {};\n        const valueType = getRelationshipValueType(field, payload);\n        if (field.localized && payload.config.localization) {\n            schemaToReturn = {\n                type: payload.config.localization.localeCodes.reduce((locales, locale)=>{\n                    let localeSchema = {};\n                    if (hasManyRelations) {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            _id: false,\n                            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                            relationTo: {\n                                type: String,\n                                enum: field.relationTo\n                            },\n                            value: {\n                                type: valueType,\n                                refPath: `${field.name}.${locale}.relationTo`\n                            }\n                        };\n                    } else {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            type: valueType,\n                            ref: field.relationTo\n                        };\n                    }\n                    return {\n                        ...locales,\n                        [locale]: field.hasMany ? {\n                            type: [\n                                localeSchema\n                            ],\n                            default: formatDefaultValue(field)\n                        } : localeSchema\n                    };\n                }, {}),\n                localized: true\n            };\n        } else if (hasManyRelations) {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                _id: false,\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                relationTo: {\n                    type: String,\n                    enum: field.relationTo\n                },\n                value: {\n                    type: valueType,\n                    refPath: `${field.name}.relationTo`\n                }\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        } else {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                type: valueType,\n                ref: field.relationTo\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        }\n        schema.add({\n            [field.name]: schemaToReturn\n        });\n    }\n};\nconst getRelationshipValueType = (field, payload)=>{\n    if (typeof field.relationTo === 'string') {\n        const { customIDType } = payload.collections[field.relationTo];\n        if (!customIDType) {\n            return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId;\n        }\n        if (customIDType === 'number') {\n            return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Number;\n        }\n        return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.String;\n    }\n    // has custom id relationTo\n    if (field.relationTo.some((relationTo)=>{\n        return !!payload.collections[relationTo].customIDType;\n    })) {\n        return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed;\n    }\n    return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId;\n};\n\n//# sourceMappingURL=buildSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZFNjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFDMkY7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQW9EO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxnRUFBZ0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtRUFBbUU7QUFDMUUsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdFQUFnQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxnRUFBZ0I7QUFDMUU7QUFDQTtBQUNBLHVCQUF1Qiw0Q0FBZTtBQUN0QztBQUNBLFlBQVksOERBQWM7QUFDMUI7QUFDQTtBQUNBLGFBQWEseUVBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0Q0FBZSxHQUFHO0FBQ3RDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQ0FBb0MsNENBQWUsR0FBRztBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFdBQVcsR0FBRyxXQUFXO0FBQzVELGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFdBQVcsR0FBRyxZQUFZO0FBQ3RELHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNENBQWU7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVyxHQUFHLE9BQU87QUFDakU7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQiwwREFBVTtBQUMxQixvQkFBb0IsOERBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0Esd0JBQXdCLDhEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDRDQUFlO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNENBQTRDLFdBQVcsR0FBRyxPQUFPO0FBQ2pFO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdDQUFnQyxXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQSxtQkFBbUIsNENBQWU7QUFDbEM7QUFDQTtBQUNBLG1CQUFtQiw0Q0FBZTtBQUNsQztBQUNBLGVBQWUsNENBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsZUFBZSw0Q0FBZTtBQUM5QjtBQUNBLFdBQVcsNENBQWU7QUFDMUI7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvbW9kZWxzL2J1aWxkU2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCBmaWVsZElzTG9jYWxpemVkLCBmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5LCBmaWVsZElzVmlydHVhbCwgdGFiSGFzTmFtZSB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbi8qKlxuICogZ2V0IGEgZmllbGQncyBkZWZhdWx0VmFsdWUgb25seSBpZiBkZWZpbmVkIGFuZCBub3QgZHluYW1pYyBzbyB0aGF0IGl0IGNhbiBiZSBzZXQgb24gdGhlIGZpZWxkIHNjaGVtYVxuICogQHBhcmFtIGZpZWxkXG4gKi8gY29uc3QgZm9ybWF0RGVmYXVsdFZhbHVlID0gKGZpZWxkKT0+dHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ2Z1bmN0aW9uJyA/IGZpZWxkLmRlZmF1bHRWYWx1ZSA6IHVuZGVmaW5lZDtcbmNvbnN0IGZvcm1hdEJhc2VTY2hlbWEgPSAoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICBjb25zdCB7IGRpc2FibGVVbmlxdWUsIGRyYWZ0c0VuYWJsZWQsIGluZGV4U29ydGFibGVGaWVsZHMgfSA9IGJ1aWxkU2NoZW1hT3B0aW9ucztcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZCksXG4gICAgICAgIGluZGV4OiBmaWVsZC5pbmRleCB8fCAhZGlzYWJsZVVuaXF1ZSAmJiBmaWVsZC51bmlxdWUgfHwgaW5kZXhTb3J0YWJsZUZpZWxkcyB8fCBmYWxzZSxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB1bmlxdWU6ICFkaXNhYmxlVW5pcXVlICYmIGZpZWxkLnVuaXF1ZSB8fCBmYWxzZVxuICAgIH07XG4gICAgaWYgKHNjaGVtYS51bmlxdWUgJiYgKGZpZWxkLmxvY2FsaXplZCB8fCBkcmFmdHNFbmFibGVkIHx8IGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLnR5cGUgIT09ICdncm91cCcgJiYgZmllbGQudHlwZSAhPT0gJ3RhYicgJiYgZmllbGQucmVxdWlyZWQgIT09IHRydWUpKSB7XG4gICAgICAgIHNjaGVtYS5zcGFyc2UgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoZmllbGQuaGlkZGVuKSB7XG4gICAgICAgIHNjaGVtYS5oaWRkZW4gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufTtcbmNvbnN0IGxvY2FsaXplU2NoZW1hID0gKGVudGl0eSwgc2NoZW1hLCBsb2NhbGl6YXRpb24pPT57XG4gICAgaWYgKGZpZWxkSXNMb2NhbGl6ZWQoZW50aXR5KSAmJiBsb2NhbGl6YXRpb24gJiYgQXJyYXkuaXNBcnJheShsb2NhbGl6YXRpb24ubG9jYWxlcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsaXphdGlvbi5sb2NhbGVDb2Rlcy5yZWR1Y2UoKGxvY2FsZVNjaGVtYSwgbG9jYWxlKT0+KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubG9jYWxlU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBbbG9jYWxlXTogc2NoZW1hXG4gICAgICAgICAgICAgICAgfSksIHtcbiAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGxvY2FsaXplZDogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufTtcbmV4cG9ydCBjb25zdCBidWlsZFNjaGVtYSA9IChwYXlsb2FkLCBjb25maWdGaWVsZHMsIGJ1aWxkU2NoZW1hT3B0aW9ucyA9IHt9KT0+e1xuICAgIGNvbnN0IHsgYWxsb3dJREZpZWxkLCBvcHRpb25zIH0gPSBidWlsZFNjaGVtYU9wdGlvbnM7XG4gICAgbGV0IGZpZWxkcyA9IHt9O1xuICAgIGxldCBzY2hlbWFGaWVsZHMgPSBjb25maWdGaWVsZHM7XG4gICAgaWYgKCFhbGxvd0lERmllbGQpIHtcbiAgICAgICAgY29uc3QgaWRGaWVsZCA9IHNjaGVtYUZpZWxkcy5maW5kKChmaWVsZCk9PmZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLm5hbWUgPT09ICdpZCcpO1xuICAgICAgICBpZiAoaWRGaWVsZCkge1xuICAgICAgICAgICAgZmllbGRzID0ge1xuICAgICAgICAgICAgICAgIF9pZDogaWRGaWVsZC50eXBlID09PSAnbnVtYmVyJyA/IE51bWJlciA6IFN0cmluZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNjaGVtYUZpZWxkcyA9IHNjaGVtYUZpZWxkcy5maWx0ZXIoKGZpZWxkKT0+IShmaWVsZEFmZmVjdHNEYXRhKGZpZWxkKSAmJiBmaWVsZC5uYW1lID09PSAnaWQnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShmaWVsZHMsIG9wdGlvbnMpO1xuICAgIHNjaGVtYUZpZWxkcy5mb3JFYWNoKChmaWVsZCk9PntcbiAgICAgICAgaWYgKGZpZWxkSXNWaXJ0dWFsKGZpZWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmllbGRJc1ByZXNlbnRhdGlvbmFsT25seShmaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkZEZpZWxkU2NoZW1hID0gZmllbGRUb1NjaGVtYU1hcFtmaWVsZC50eXBlXTtcbiAgICAgICAgICAgIGlmIChhZGRGaWVsZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGFkZEZpZWxkU2NoZW1hKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2NoZW1hO1xufTtcbmNvbnN0IGZpZWxkVG9TY2hlbWFNYXAgPSB7XG4gICAgYXJyYXk6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgIGJ1aWxkU2NoZW1hKHBheWxvYWQsIGZpZWxkLmZpZWxkcywge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd0lERmllbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmlxdWU6IGJ1aWxkU2NoZW1hT3B0aW9ucy5kaXNhYmxlVW5pcXVlLFxuICAgICAgICAgICAgICAgICAgICBkcmFmdHNFbmFibGVkOiBidWlsZFNjaGVtYU9wdGlvbnMuZHJhZnRzRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYmxvY2tzOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFtcbiAgICAgICAgICAgICAgICBuZXcgbW9uZ29vc2UuU2NoZW1hKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRpc2NyaW1pbmF0b3JLZXk6ICdibG9ja1R5cGUnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBmaWVsZFNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICAgICAgZmllbGQuYmxvY2tzLmZvckVhY2goKGJsb2NrSXRlbSk9PntcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7fSwge1xuICAgICAgICAgICAgICAgIF9pZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJsb2NrSXRlbS5maWVsZHMuZm9yRWFjaCgoYmxvY2tGaWVsZCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRGaWVsZFNjaGVtYSA9IGZpZWxkVG9TY2hlbWFNYXBbYmxvY2tGaWVsZC50eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkRmllbGRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRmllbGRTY2hlbWEoYmxvY2tGaWVsZCwgYmxvY2tTY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZmllbGQubG9jYWxpemVkICYmIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbikge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVDb2Rlcy5mb3JFYWNoKChsb2NhbGVDb2RlKT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFBvc3NpYmxlIGluY29ycmVjdCB0eXBpbmcgaW4gbW9uZ29vc2UgdHlwZXMsIHRoaXMgd29ya3NcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnBhdGgoYCR7ZmllbGQubmFtZX0uJHtsb2NhbGVDb2RlfWApLmRpc2NyaW1pbmF0b3IoYmxvY2tJdGVtLnNsdWcsIGJsb2NrU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBQb3NzaWJsZSBpbmNvcnJlY3QgdHlwaW5nIGluIG1vbmdvb3NlIHR5cGVzLCB0aGlzIHdvcmtzXG4gICAgICAgICAgICAgICAgc2NoZW1hLnBhdGgoZmllbGQubmFtZSkuZGlzY3JpbWluYXRvcihibG9ja0l0ZW0uc2x1ZywgYmxvY2tTY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNoZWNrYm94OiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29kZTogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29sbGFwc2libGU6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGZpZWxkLmZpZWxkcy5mb3JFYWNoKChzdWJGaWVsZCk9PntcbiAgICAgICAgICAgIGlmIChmaWVsZElzVmlydHVhbChzdWJGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhZGRGaWVsZFNjaGVtYSA9IGZpZWxkVG9TY2hlbWFNYXBbc3ViRmllbGQudHlwZV07XG4gICAgICAgICAgICBpZiAoYWRkRmllbGRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBhZGRGaWVsZFNjaGVtYShzdWJGaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGRhdGU6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBlbWFpbDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ3JvdXA6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZEJhc2VTY2hlbWEgPSBmb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpO1xuICAgICAgICAvLyBjYXJyeSBpbmRleFNvcnRhYmxlRmllbGRzIHRocm91Z2ggdG8gdmVyc2lvbnMgaWYgZHJhZnRzIGVuYWJsZWRcbiAgICAgICAgY29uc3QgaW5kZXhTb3J0YWJsZUZpZWxkcyA9IGJ1aWxkU2NoZW1hT3B0aW9ucy5pbmRleFNvcnRhYmxlRmllbGRzICYmIGZpZWxkLm5hbWUgPT09ICd2ZXJzaW9uJyAmJiBidWlsZFNjaGVtYU9wdGlvbnMuZHJhZnRzRW5hYmxlZDtcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdHRlZEJhc2VTY2hlbWEsXG4gICAgICAgICAgICB0eXBlOiBidWlsZFNjaGVtYShwYXlsb2FkLCBmaWVsZC5maWVsZHMsIHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlVW5pcXVlOiBidWlsZFNjaGVtYU9wdGlvbnMuZGlzYWJsZVVuaXF1ZSxcbiAgICAgICAgICAgICAgICBkcmFmdHNFbmFibGVkOiBidWlsZFNjaGVtYU9wdGlvbnMuZHJhZnRzRW5hYmxlZCxcbiAgICAgICAgICAgICAgICBpbmRleFNvcnRhYmxlRmllbGRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBqc29uOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZFxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBudW1iZXI6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogZmllbGQuaGFzTWFueSA/IFtcbiAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgIF0gOiBOdW1iZXJcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcG9pbnQ6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgICAgIGVudW06IFtcbiAgICAgICAgICAgICAgICAgICAgJ1BvaW50J1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgLi4udHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAnUG9pbnQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgICAgICBOdW1iZXJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZCksXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChidWlsZFNjaGVtYU9wdGlvbnMuZGlzYWJsZVVuaXF1ZSAmJiBmaWVsZC51bmlxdWUgJiYgZmllbGQubG9jYWxpemVkKSB7XG4gICAgICAgICAgICBiYXNlU2NoZW1hLmNvb3JkaW5hdGVzLnNwYXJzZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmllbGQuaW5kZXggPT09IHRydWUgfHwgZmllbGQuaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXhPcHRpb25zID0ge307XG4gICAgICAgICAgICBpZiAoIWJ1aWxkU2NoZW1hT3B0aW9ucy5kaXNhYmxlVW5pcXVlICYmIGZpZWxkLnVuaXF1ZSkge1xuICAgICAgICAgICAgICAgIGluZGV4T3B0aW9ucy5zcGFyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGluZGV4T3B0aW9ucy51bmlxdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpZWxkLmxvY2FsaXplZCAmJiBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlcy5mb3JFYWNoKChsb2NhbGUpPT57XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5pbmRleCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBbYCR7ZmllbGQubmFtZX0uJHtsb2NhbGUuY29kZX1gXTogJzJkc3BoZXJlJ1xuICAgICAgICAgICAgICAgICAgICB9LCBpbmRleE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY2hlbWEuaW5kZXgoe1xuICAgICAgICAgICAgICAgICAgICBbZmllbGQubmFtZV06ICcyZHNwaGVyZSdcbiAgICAgICAgICAgICAgICB9LCBpbmRleE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICByYWRpbzogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiBmaWVsZC5vcHRpb25zLm1hcCgob3B0aW9uKT0+e1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVsYXRpb25zaGlwOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBoYXNNYW55UmVsYXRpb25zID0gQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKTtcbiAgICAgICAgbGV0IHNjaGVtYVRvUmV0dXJuID0ge307XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IGdldFJlbGF0aW9uc2hpcFZhbHVlVHlwZShmaWVsZCwgcGF5bG9hZCk7XG4gICAgICAgIGlmIChmaWVsZC5sb2NhbGl6ZWQgJiYgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlQ29kZXMucmVkdWNlKChsb2NhbGVzLCBsb2NhbGUpPT57XG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhbGVTY2hlbWEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc01hbnlSZWxhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk1peGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtOiBmaWVsZC5yZWxhdGlvblRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlBhdGg6IGAke2ZpZWxkLm5hbWV9LiR7bG9jYWxlfS5yZWxhdGlvblRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTY2hlbWEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBmaWVsZC5yZWxhdGlvblRvXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2xvY2FsZV06IGZpZWxkLmhhc01hbnkgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBsb2NhbGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGhhc01hbnlSZWxhdGlvbnMpIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25Ubzoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIGVudW06IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmVmUGF0aDogYCR7ZmllbGQubmFtZX0ucmVsYXRpb25Ub2BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZpZWxkLmhhc01hbnkpIHtcbiAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICByZWY6IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmllbGQuaGFzTWFueSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVyblxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBmb3JtYXREZWZhdWx0VmFsdWUoZmllbGQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogc2NoZW1hVG9SZXR1cm5cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByaWNoVGV4dDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWRcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcm93OiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBmaWVsZC5maWVsZHMuZm9yRWFjaCgoc3ViRmllbGQpPT57XG4gICAgICAgICAgICBpZiAoZmllbGRJc1ZpcnR1YWwoc3ViRmllbGQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWRkRmllbGRTY2hlbWEgPSBmaWVsZFRvU2NoZW1hTWFwW3N1YkZpZWxkLnR5cGVdO1xuICAgICAgICAgICAgaWYgKGFkZEZpZWxkU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgYWRkRmllbGRTY2hlbWEoc3ViRmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZWxlY3Q6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZW51bTogZmllbGQub3B0aW9ucy5tYXAoKG9wdGlvbik9PntcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGlmIChidWlsZFNjaGVtYU9wdGlvbnMuZHJhZnRzRW5hYmxlZCB8fCAhZmllbGQucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIGJhc2VTY2hlbWEuZW51bS5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYShmaWVsZCwgZmllbGQuaGFzTWFueSA/IFtcbiAgICAgICAgICAgICAgICBiYXNlU2NoZW1hXG4gICAgICAgICAgICBdIDogYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHRhYnM6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGZpZWxkLnRhYnMuZm9yRWFjaCgodGFiKT0+e1xuICAgICAgICAgICAgaWYgKHRhYkhhc05hbWUodGFiKSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZElzVmlydHVhbCh0YWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYnVpbGRTY2hlbWEocGF5bG9hZCwgdGFiLmZpZWxkcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuaXF1ZTogYnVpbGRTY2hlbWFPcHRpb25zLmRpc2FibGVVbmlxdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFmdHNFbmFibGVkOiBidWlsZFNjaGVtYU9wdGlvbnMuZHJhZnRzRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBbdGFiLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYSh0YWIsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFiLmZpZWxkcy5mb3JFYWNoKChzdWJGaWVsZCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkSXNWaXJ0dWFsKHN1YkZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZEZpZWxkU2NoZW1hID0gZmllbGRUb1NjaGVtYU1hcFtzdWJGaWVsZC50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZEZpZWxkU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGaWVsZFNjaGVtYShzdWJGaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdGV4dDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBmaWVsZC5oYXNNYW55ID8gW1xuICAgICAgICAgICAgICAgIFN0cmluZ1xuICAgICAgICAgICAgXSA6IFN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB0ZXh0YXJlYTogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBsb2FkOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBoYXNNYW55UmVsYXRpb25zID0gQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKTtcbiAgICAgICAgbGV0IHNjaGVtYVRvUmV0dXJuID0ge307XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IGdldFJlbGF0aW9uc2hpcFZhbHVlVHlwZShmaWVsZCwgcGF5bG9hZCk7XG4gICAgICAgIGlmIChmaWVsZC5sb2NhbGl6ZWQgJiYgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlQ29kZXMucmVkdWNlKChsb2NhbGVzLCBsb2NhbGUpPT57XG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhbGVTY2hlbWEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc01hbnlSZWxhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk1peGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtOiBmaWVsZC5yZWxhdGlvblRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlBhdGg6IGAke2ZpZWxkLm5hbWV9LiR7bG9jYWxlfS5yZWxhdGlvblRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTY2hlbWEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBmaWVsZC5yZWxhdGlvblRvXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2xvY2FsZV06IGZpZWxkLmhhc01hbnkgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBsb2NhbGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGhhc01hbnlSZWxhdGlvbnMpIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25Ubzoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIGVudW06IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmVmUGF0aDogYCR7ZmllbGQubmFtZX0ucmVsYXRpb25Ub2BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZpZWxkLmhhc01hbnkpIHtcbiAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2hlbWFUb1JldHVybiA9IHtcbiAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICByZWY6IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmllbGQuaGFzTWFueSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVyblxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBmb3JtYXREZWZhdWx0VmFsdWUoZmllbGQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogc2NoZW1hVG9SZXR1cm5cbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGdldFJlbGF0aW9uc2hpcFZhbHVlVHlwZSA9IChmaWVsZCwgcGF5bG9hZCk9PntcbiAgICBpZiAodHlwZW9mIGZpZWxkLnJlbGF0aW9uVG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHsgY3VzdG9tSURUeXBlIH0gPSBwYXlsb2FkLmNvbGxlY3Rpb25zW2ZpZWxkLnJlbGF0aW9uVG9dO1xuICAgICAgICBpZiAoIWN1c3RvbUlEVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VzdG9tSURUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5OdW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5TdHJpbmc7XG4gICAgfVxuICAgIC8vIGhhcyBjdXN0b20gaWQgcmVsYXRpb25Ub1xuICAgIGlmIChmaWVsZC5yZWxhdGlvblRvLnNvbWUoKHJlbGF0aW9uVG8pPT57XG4gICAgICAgIHJldHVybiAhIXBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25Ub10uY3VzdG9tSURUeXBlO1xuICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQ7XG4gICAgfVxuICAgIHJldHVybiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFNjaGVtYS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildAndOrConditions: () => (/* binding */ buildAndOrConditions)\n/* harmony export */ });\n/* harmony import */ var _parseParams_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\");\n\nasync function buildAndOrConditions({ collectionSlug, fields, globalSlug, locale, payload, where }) {\n    const completedConditions = [];\n    // Loop over all AND / OR operations and add them to the AND / OR query param\n    // Operations should come through as an array\n    for (const condition of where){\n        // If the operation is properly formatted as an object\n        if (typeof condition === 'object') {\n            const result = await (0,_parseParams_js__WEBPACK_IMPORTED_MODULE_0__.parseParams)({\n                collectionSlug,\n                fields,\n                globalSlug,\n                locale,\n                payload,\n                where: condition\n            });\n            if (Object.keys(result).length > 0) {\n                completedConditions.push(result);\n            }\n        }\n    }\n    return completedConditions;\n}\n\n//# sourceMappingURL=buildAndOrConditions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRBbmRPckNvbmRpdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDeEMsc0NBQXNDLDREQUE0RDtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNERBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRBbmRPckNvbmRpdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VQYXJhbXMgfSBmcm9tICcuL3BhcnNlUGFyYW1zLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZEFuZE9yQ29uZGl0aW9ucyh7IGNvbGxlY3Rpb25TbHVnLCBmaWVsZHMsIGdsb2JhbFNsdWcsIGxvY2FsZSwgcGF5bG9hZCwgd2hlcmUgfSkge1xuICAgIGNvbnN0IGNvbXBsZXRlZENvbmRpdGlvbnMgPSBbXTtcbiAgICAvLyBMb29wIG92ZXIgYWxsIEFORCAvIE9SIG9wZXJhdGlvbnMgYW5kIGFkZCB0aGVtIHRvIHRoZSBBTkQgLyBPUiBxdWVyeSBwYXJhbVxuICAgIC8vIE9wZXJhdGlvbnMgc2hvdWxkIGNvbWUgdGhyb3VnaCBhcyBhbiBhcnJheVxuICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIHdoZXJlKXtcbiAgICAgICAgLy8gSWYgdGhlIG9wZXJhdGlvbiBpcyBwcm9wZXJseSBmb3JtYXR0ZWQgYXMgYW4gb2JqZWN0XG4gICAgICAgIGlmICh0eXBlb2YgY29uZGl0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGFyc2VQYXJhbXMoe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICBnbG9iYWxTbHVnLFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIHdoZXJlOiBjb25kaXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZENvbmRpdGlvbnMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wbGV0ZWRDb25kaXRpb25zO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZEFuZE9yQ29uZGl0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBuildQueryPlugin: () => (/* binding */ getBuildQueryPlugin)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/QueryError.js\");\n/* harmony import */ var _parseParams_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\");\n\n\n// This plugin asynchronously builds a list of Mongoose query constraints\n// which can then be used in subsequent Mongoose queries.\nconst getBuildQueryPlugin = ({ collectionSlug, versionsFields } = {})=>{\n    return function buildQueryPlugin(schema) {\n        const modifiedSchema = schema;\n        async function buildQuery({ globalSlug, locale, payload, where }) {\n            let fields = versionsFields;\n            if (!fields) {\n                if (globalSlug) {\n                    const globalConfig = payload.globals.config.find(({ slug })=>slug === globalSlug);\n                    fields = globalConfig.flattenedFields;\n                }\n                if (collectionSlug) {\n                    const collectionConfig = payload.collections[collectionSlug].config;\n                    fields = collectionConfig.flattenedFields;\n                }\n            }\n            const errors = [];\n            const result = await (0,_parseParams_js__WEBPACK_IMPORTED_MODULE_0__.parseParams)({\n                collectionSlug,\n                fields,\n                globalSlug,\n                locale,\n                payload,\n                where\n            });\n            if (errors.length > 0) {\n                throw new payload__WEBPACK_IMPORTED_MODULE_1__.QueryError(errors);\n            }\n            return result;\n        }\n        modifiedSchema.statics.buildQuery = buildQuery;\n    };\n};\n\n//# sourceMappingURL=buildQuery.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRRdWVyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDVTtBQUMvQztBQUNBO0FBQ08sK0JBQStCLGlDQUFpQyxJQUFJO0FBQzNFO0FBQ0E7QUFDQSxvQ0FBb0Msb0NBQW9DO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxNQUFNO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNERBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMEJBQTBCLCtDQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL2J1aWxkUXVlcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlFcnJvciB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgcGFyc2VQYXJhbXMgfSBmcm9tICcuL3BhcnNlUGFyYW1zLmpzJztcbi8vIFRoaXMgcGx1Z2luIGFzeW5jaHJvbm91c2x5IGJ1aWxkcyBhIGxpc3Qgb2YgTW9uZ29vc2UgcXVlcnkgY29uc3RyYWludHNcbi8vIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgaW4gc3Vic2VxdWVudCBNb25nb29zZSBxdWVyaWVzLlxuZXhwb3J0IGNvbnN0IGdldEJ1aWxkUXVlcnlQbHVnaW4gPSAoeyBjb2xsZWN0aW9uU2x1ZywgdmVyc2lvbnNGaWVsZHMgfSA9IHt9KT0+e1xuICAgIHJldHVybiBmdW5jdGlvbiBidWlsZFF1ZXJ5UGx1Z2luKHNjaGVtYSkge1xuICAgICAgICBjb25zdCBtb2RpZmllZFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gYnVpbGRRdWVyeSh7IGdsb2JhbFNsdWcsIGxvY2FsZSwgcGF5bG9hZCwgd2hlcmUgfSkge1xuICAgICAgICAgICAgbGV0IGZpZWxkcyA9IHZlcnNpb25zRmllbGRzO1xuICAgICAgICAgICAgaWYgKCFmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsU2x1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb25maWcgPSBwYXlsb2FkLmdsb2JhbHMuY29uZmlnLmZpbmQoKHsgc2x1ZyB9KT0+c2x1ZyA9PT0gZ2xvYmFsU2x1Zyk7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcyA9IGdsb2JhbENvbmZpZy5mbGF0dGVuZWRGaWVsZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uU2x1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uQ29uZmlnID0gcGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uU2x1Z10uY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZHMgPSBjb2xsZWN0aW9uQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgZ2xvYmFsU2x1ZyxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICB3aGVyZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUXVlcnlFcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBtb2RpZmllZFNjaGVtYS5zdGF0aWNzLmJ1aWxkUXVlcnkgPSBidWlsZFF1ZXJ5O1xuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFF1ZXJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSearchParam: () => (/* binding */ buildSearchParam)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/getLocalizedPaths.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/types/constants.js\");\n/* harmony import */ var _operatorMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operatorMap.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js\");\n/* harmony import */ var _sanitizeQueryValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sanitizeQueryValue.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js\");\n\n\n\n\n\nconst subQueryOptions = {\n    lean: true,\n    limit: 50\n};\n/**\n * Convert the Payload key / value / operator into a MongoDB query\n */ async function buildSearchParam({ collectionSlug, fields, globalSlug, incomingPath, locale, operator, payload, val }) {\n    // Replace GraphQL nested field double underscore formatting\n    let sanitizedPath = incomingPath.replace(/__/g, '.');\n    if (sanitizedPath === 'id') {\n        sanitizedPath = '_id';\n    }\n    let paths = [];\n    let hasCustomID = false;\n    if (sanitizedPath === '_id') {\n        const customIDFieldType = payload.collections[collectionSlug]?.customIDType;\n        let idFieldType = 'text';\n        if (customIDFieldType) {\n            idFieldType = customIDFieldType;\n            hasCustomID = true;\n        }\n        paths.push({\n            collectionSlug,\n            complete: true,\n            field: {\n                name: 'id',\n                type: idFieldType\n            },\n            path: '_id'\n        });\n    } else {\n        paths = (0,payload__WEBPACK_IMPORTED_MODULE_3__.getLocalizedPaths)({\n            collectionSlug,\n            fields,\n            globalSlug,\n            incomingPath: sanitizedPath,\n            locale,\n            payload\n        });\n    }\n    const [{ field, path }] = paths;\n    if (path) {\n        const sanitizedQueryValue = (0,_sanitizeQueryValue_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeQueryValue)({\n            field,\n            hasCustomID,\n            locale,\n            operator,\n            path,\n            payload,\n            val\n        });\n        if (!sanitizedQueryValue) {\n            return undefined;\n        }\n        const { operator: formattedOperator, rawQuery, val: formattedValue } = sanitizedQueryValue;\n        if (rawQuery) {\n            return {\n                value: rawQuery\n            };\n        }\n        // If there are multiple collections to search through,\n        // Recursively build up a list of query constraints\n        if (paths.length > 1) {\n            // Remove top collection and reverse array\n            // to work backwards from top\n            const pathsToQuery = paths.slice(1).reverse();\n            const initialRelationshipQuery = {\n                value: {}\n            };\n            const relationshipQuery = await pathsToQuery.reduce(async (priorQuery, { collectionSlug: slug, path: subPath }, i)=>{\n                const priorQueryResult = await priorQuery;\n                const SubModel = payload.db.collections[slug];\n                // On the \"deepest\" collection,\n                // Search on the value passed through the query\n                if (i === 0) {\n                    const subQuery = await SubModel.buildQuery({\n                        locale,\n                        payload,\n                        where: {\n                            [subPath]: {\n                                [formattedOperator]: val\n                            }\n                        }\n                    });\n                    const result = await SubModel.find(subQuery, subQueryOptions);\n                    const $in = [];\n                    result.forEach((doc)=>{\n                        const stringID = doc._id.toString();\n                        $in.push(stringID);\n                        if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(stringID)) {\n                            $in.push(doc._id);\n                        }\n                    });\n                    if (pathsToQuery.length === 1) {\n                        return {\n                            path,\n                            value: {\n                                $in\n                            }\n                        };\n                    }\n                    const nextSubPath = pathsToQuery[i + 1].path;\n                    return {\n                        value: {\n                            [nextSubPath]: {\n                                $in\n                            }\n                        }\n                    };\n                }\n                const subQuery = priorQueryResult.value;\n                const result = await SubModel.find(subQuery, subQueryOptions);\n                const $in = result.map((doc)=>doc._id);\n                // If it is the last recursion\n                // then pass through the search param\n                if (i + 1 === pathsToQuery.length) {\n                    return {\n                        path,\n                        value: {\n                            $in\n                        }\n                    };\n                }\n                return {\n                    value: {\n                        _id: {\n                            $in\n                        }\n                    }\n                };\n            }, Promise.resolve(initialRelationshipQuery));\n            return relationshipQuery;\n        }\n        if (formattedOperator && payload_shared__WEBPACK_IMPORTED_MODULE_4__.validOperators.includes(formattedOperator)) {\n            const operatorKey = _operatorMap_js__WEBPACK_IMPORTED_MODULE_1__.operatorMap[formattedOperator];\n            if (field.type === 'relationship' || field.type === 'upload') {\n                let hasNumberIDRelation;\n                let multiIDCondition = '$or';\n                if (operatorKey === '$ne') {\n                    multiIDCondition = '$and';\n                }\n                const result = {\n                    value: {\n                        [multiIDCondition]: [\n                            {\n                                [path]: {\n                                    [operatorKey]: formattedValue\n                                }\n                            }\n                        ]\n                    }\n                };\n                if (typeof formattedValue === 'string') {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        result.value[multiIDCondition].push({\n                            [path]: {\n                                [operatorKey]: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue)\n                            }\n                        });\n                    } else {\n                        ;\n                        (Array.isArray(field.relationTo) ? field.relationTo : [\n                            field.relationTo\n                        ]).forEach((relationTo)=>{\n                            const isRelatedToCustomNumberID = payload.collections[relationTo]?.customIDType === 'number';\n                            if (isRelatedToCustomNumberID) {\n                                hasNumberIDRelation = true;\n                            }\n                        });\n                        if (hasNumberIDRelation) {\n                            result.value[multiIDCondition].push({\n                                [path]: {\n                                    [operatorKey]: parseFloat(formattedValue)\n                                }\n                            });\n                        }\n                    }\n                }\n                if (result.value[multiIDCondition].length > 1) {\n                    return result;\n                }\n            }\n            if (formattedOperator === 'like' && typeof formattedValue === 'string') {\n                const words = formattedValue.split(' ');\n                const result = {\n                    value: {\n                        $and: words.map((word)=>({\n                                [path]: {\n                                    $options: 'i',\n                                    $regex: word.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n                                }\n                            }))\n                    }\n                };\n                return result;\n            }\n            // Some operators like 'near' need to define a full query\n            // so if there is no operator key, just return the value\n            if (!operatorKey) {\n                return {\n                    path,\n                    value: formattedValue\n                };\n            }\n            return {\n                path,\n                value: {\n                    [operatorKey]: formattedValue\n                }\n            };\n        }\n    }\n    return undefined;\n}\n\n//# sourceMappingURL=buildSearchParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRTZWFyY2hQYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlDO0FBQ1c7QUFDSTtBQUNEO0FBQ2M7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVyxrQ0FBa0Msa0ZBQWtGO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLGdCQUFnQiwwREFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsYUFBYSxhQUFhO0FBQzFCO0FBQ0Esb0NBQW9DLDBFQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQTZEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYscUNBQXFDO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQUs7QUFDakM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFjO0FBQy9DLGdDQUFnQyx3REFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkNBQUs7QUFDN0I7QUFDQTtBQUNBLG1EQUFtRCwyQ0FBSztBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvcXVlcmllcy9idWlsZFNlYXJjaFBhcmFtcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlcyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IGdldExvY2FsaXplZFBhdGhzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyB2YWxpZE9wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmltcG9ydCB7IG9wZXJhdG9yTWFwIH0gZnJvbSAnLi9vcGVyYXRvck1hcC5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVF1ZXJ5VmFsdWUgfSBmcm9tICcuL3Nhbml0aXplUXVlcnlWYWx1ZS5qcyc7XG5jb25zdCBzdWJRdWVyeU9wdGlvbnMgPSB7XG4gICAgbGVhbjogdHJ1ZSxcbiAgICBsaW1pdDogNTBcbn07XG4vKipcbiAqIENvbnZlcnQgdGhlIFBheWxvYWQga2V5IC8gdmFsdWUgLyBvcGVyYXRvciBpbnRvIGEgTW9uZ29EQiBxdWVyeVxuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZFNlYXJjaFBhcmFtKHsgY29sbGVjdGlvblNsdWcsIGZpZWxkcywgZ2xvYmFsU2x1ZywgaW5jb21pbmdQYXRoLCBsb2NhbGUsIG9wZXJhdG9yLCBwYXlsb2FkLCB2YWwgfSkge1xuICAgIC8vIFJlcGxhY2UgR3JhcGhRTCBuZXN0ZWQgZmllbGQgZG91YmxlIHVuZGVyc2NvcmUgZm9ybWF0dGluZ1xuICAgIGxldCBzYW5pdGl6ZWRQYXRoID0gaW5jb21pbmdQYXRoLnJlcGxhY2UoL19fL2csICcuJyk7XG4gICAgaWYgKHNhbml0aXplZFBhdGggPT09ICdpZCcpIHtcbiAgICAgICAgc2FuaXRpemVkUGF0aCA9ICdfaWQnO1xuICAgIH1cbiAgICBsZXQgcGF0aHMgPSBbXTtcbiAgICBsZXQgaGFzQ3VzdG9tSUQgPSBmYWxzZTtcbiAgICBpZiAoc2FuaXRpemVkUGF0aCA9PT0gJ19pZCcpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tSURGaWVsZFR5cGUgPSBwYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25TbHVnXT8uY3VzdG9tSURUeXBlO1xuICAgICAgICBsZXQgaWRGaWVsZFR5cGUgPSAndGV4dCc7XG4gICAgICAgIGlmIChjdXN0b21JREZpZWxkVHlwZSkge1xuICAgICAgICAgICAgaWRGaWVsZFR5cGUgPSBjdXN0b21JREZpZWxkVHlwZTtcbiAgICAgICAgICAgIGhhc0N1c3RvbUlEID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgY29tcGxldGU6IHRydWUsXG4gICAgICAgICAgICBmaWVsZDoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdpZCcsXG4gICAgICAgICAgICAgICAgdHlwZTogaWRGaWVsZFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAnX2lkJ1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXRocyA9IGdldExvY2FsaXplZFBhdGhzKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgZ2xvYmFsU2x1ZyxcbiAgICAgICAgICAgIGluY29taW5nUGF0aDogc2FuaXRpemVkUGF0aCxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHBheWxvYWRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IFt7IGZpZWxkLCBwYXRoIH1dID0gcGF0aHM7XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVkUXVlcnlWYWx1ZSA9IHNhbml0aXplUXVlcnlWYWx1ZSh7XG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIGhhc0N1c3RvbUlELFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgb3BlcmF0b3IsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHZhbFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFzYW5pdGl6ZWRRdWVyeVZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLCByYXdRdWVyeSwgdmFsOiBmb3JtYXR0ZWRWYWx1ZSB9ID0gc2FuaXRpemVkUXVlcnlWYWx1ZTtcbiAgICAgICAgaWYgKHJhd1F1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiByYXdRdWVyeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY29sbGVjdGlvbnMgdG8gc2VhcmNoIHRocm91Z2gsXG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGJ1aWxkIHVwIGEgbGlzdCBvZiBxdWVyeSBjb25zdHJhaW50c1xuICAgICAgICBpZiAocGF0aHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRvcCBjb2xsZWN0aW9uIGFuZCByZXZlcnNlIGFycmF5XG4gICAgICAgICAgICAvLyB0byB3b3JrIGJhY2t3YXJkcyBmcm9tIHRvcFxuICAgICAgICAgICAgY29uc3QgcGF0aHNUb1F1ZXJ5ID0gcGF0aHMuc2xpY2UoMSkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbFJlbGF0aW9uc2hpcFF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFF1ZXJ5ID0gYXdhaXQgcGF0aHNUb1F1ZXJ5LnJlZHVjZShhc3luYyAocHJpb3JRdWVyeSwgeyBjb2xsZWN0aW9uU2x1Zzogc2x1ZywgcGF0aDogc3ViUGF0aCB9LCBpKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHByaW9yUXVlcnlSZXN1bHQgPSBhd2FpdCBwcmlvclF1ZXJ5O1xuICAgICAgICAgICAgICAgIGNvbnN0IFN1Yk1vZGVsID0gcGF5bG9hZC5kYi5jb2xsZWN0aW9uc1tzbHVnXTtcbiAgICAgICAgICAgICAgICAvLyBPbiB0aGUgXCJkZWVwZXN0XCIgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAvLyBTZWFyY2ggb24gdGhlIHZhbHVlIHBhc3NlZCB0aHJvdWdoIHRoZSBxdWVyeVxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlF1ZXJ5ID0gYXdhaXQgU3ViTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3ViUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Zvcm1hdHRlZE9wZXJhdG9yXTogdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3ViTW9kZWwuZmluZChzdWJRdWVyeSwgc3ViUXVlcnlPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGluID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKChkb2MpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJRCA9IGRvYy5faWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbi5wdXNoKHN0cmluZ0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKHN0cmluZ0lEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbi5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhzVG9RdWVyeS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTdWJQYXRoID0gcGF0aHNUb1F1ZXJ5W2kgKyAxXS5wYXRoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmV4dFN1YlBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViUXVlcnkgPSBwcmlvclF1ZXJ5UmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFN1Yk1vZGVsLmZpbmQoc3ViUXVlcnksIHN1YlF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGluID0gcmVzdWx0Lm1hcCgoZG9jKT0+ZG9jLl9pZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQgaXMgdGhlIGxhc3QgcmVjdXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBwYXNzIHRocm91Z2ggdGhlIHNlYXJjaCBwYXJhbVxuICAgICAgICAgICAgICAgIGlmIChpICsgMSA9PT0gcGF0aHNUb1F1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGluXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUoaW5pdGlhbFJlbGF0aW9uc2hpcFF1ZXJ5KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVsYXRpb25zaGlwUXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdHRlZE9wZXJhdG9yICYmIHZhbGlkT3BlcmF0b3JzLmluY2x1ZGVzKGZvcm1hdHRlZE9wZXJhdG9yKSkge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0b3JLZXkgPSBvcGVyYXRvck1hcFtmb3JtYXR0ZWRPcGVyYXRvcl07XG4gICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgZmllbGQudHlwZSA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFzTnVtYmVySURSZWxhdGlvbjtcbiAgICAgICAgICAgICAgICBsZXQgbXVsdGlJRENvbmRpdGlvbiA9ICckb3InO1xuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRvcktleSA9PT0gJyRuZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlJRENvbmRpdGlvbiA9ICckYW5kJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgW211bHRpSURDb25kaXRpb25dOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRvcktleV06IGZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0dGVkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGZvcm1hdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlW211bHRpSURDb25kaXRpb25dLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbb3BlcmF0b3JLZXldOiBuZXcgVHlwZXMuT2JqZWN0SWQoZm9ybWF0dGVkVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKSA/IGZpZWxkLnJlbGF0aW9uVG8gOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucmVsYXRpb25Ub1xuICAgICAgICAgICAgICAgICAgICAgICAgXSkuZm9yRWFjaCgocmVsYXRpb25Ubyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1JlbGF0ZWRUb0N1c3RvbU51bWJlcklEID0gcGF5bG9hZC5jb2xsZWN0aW9uc1tyZWxhdGlvblRvXT8uY3VzdG9tSURUeXBlID09PSAnbnVtYmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWxhdGVkVG9DdXN0b21OdW1iZXJJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNOdW1iZXJJRFJlbGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNOdW1iZXJJRFJlbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlW211bHRpSURDb25kaXRpb25dLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRvcktleV06IHBhcnNlRmxvYXQoZm9ybWF0dGVkVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlW211bHRpSURDb25kaXRpb25dLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9ybWF0dGVkT3BlcmF0b3IgPT09ICdsaWtlJyAmJiB0eXBlb2YgZm9ybWF0dGVkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBmb3JtYXR0ZWRWYWx1ZS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmQ6IHdvcmRzLm1hcCgod29yZCk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZWdleDogd29yZC5yZXBsYWNlKC9bXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNvbWUgb3BlcmF0b3JzIGxpa2UgJ25lYXInIG5lZWQgdG8gZGVmaW5lIGEgZnVsbCBxdWVyeVxuICAgICAgICAgICAgLy8gc28gaWYgdGhlcmUgaXMgbm8gb3BlcmF0b3Iga2V5LCBqdXN0IHJldHVybiB0aGUgdmFsdWVcbiAgICAgICAgICAgIGlmICghb3BlcmF0b3JLZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIFtvcGVyYXRvcktleV06IGZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFNlYXJjaFBhcmFtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSortParam: () => (/* binding */ buildSortParam)\n/* harmony export */ });\n/* harmony import */ var _getLocalizedSortProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getLocalizedSortProperty.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js\");\n\nconst buildSortParam = ({ config, fields, locale, sort, timestamps })=>{\n    if (!sort) {\n        if (timestamps) {\n            sort = '-createdAt';\n        } else {\n            sort = '-id';\n        }\n    }\n    if (typeof sort === 'string') {\n        sort = [\n            sort\n        ];\n    }\n    const sorting = sort.reduce((acc, item)=>{\n        let sortProperty;\n        let sortDirection;\n        if (item.indexOf('-') === 0) {\n            sortProperty = item.substring(1);\n            sortDirection = 'desc';\n        } else {\n            sortProperty = item;\n            sortDirection = 'asc';\n        }\n        if (sortProperty === 'id') {\n            acc['_id'] = sortDirection;\n            return acc;\n        }\n        const localizedProperty = (0,_getLocalizedSortProperty_js__WEBPACK_IMPORTED_MODULE_0__.getLocalizedSortProperty)({\n            config,\n            fields,\n            locale,\n            segments: sortProperty.split('.')\n        });\n        acc[localizedProperty] = sortDirection;\n        return acc;\n    }, {});\n    return sorting;\n};\n\n//# sourceMappingURL=buildSortParam.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUU7QUFDbEUsMEJBQTBCLDBDQUEwQztBQUMzRTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxzRkFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvcXVlcmllcy9idWlsZFNvcnRQYXJhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkgfSBmcm9tICcuL2dldExvY2FsaXplZFNvcnRQcm9wZXJ0eS5qcyc7XG5leHBvcnQgY29uc3QgYnVpbGRTb3J0UGFyYW0gPSAoeyBjb25maWcsIGZpZWxkcywgbG9jYWxlLCBzb3J0LCB0aW1lc3RhbXBzIH0pPT57XG4gICAgaWYgKCFzb3J0KSB7XG4gICAgICAgIGlmICh0aW1lc3RhbXBzKSB7XG4gICAgICAgICAgICBzb3J0ID0gJy1jcmVhdGVkQXQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc29ydCA9ICctaWQnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc29ydCA9IFtcbiAgICAgICAgICAgIHNvcnRcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3Qgc29ydGluZyA9IHNvcnQucmVkdWNlKChhY2MsIGl0ZW0pPT57XG4gICAgICAgIGxldCBzb3J0UHJvcGVydHk7XG4gICAgICAgIGxldCBzb3J0RGlyZWN0aW9uO1xuICAgICAgICBpZiAoaXRlbS5pbmRleE9mKCctJykgPT09IDApIHtcbiAgICAgICAgICAgIHNvcnRQcm9wZXJ0eSA9IGl0ZW0uc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgc29ydERpcmVjdGlvbiA9ICdkZXNjJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNvcnRQcm9wZXJ0eSA9IGl0ZW07XG4gICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gJ2FzYyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnRQcm9wZXJ0eSA9PT0gJ2lkJykge1xuICAgICAgICAgICAgYWNjWydfaWQnXSA9IHNvcnREaXJlY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFByb3BlcnR5ID0gZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5KHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHNlZ21lbnRzOiBzb3J0UHJvcGVydHkuc3BsaXQoJy4nKVxuICAgICAgICB9KTtcbiAgICAgICAgYWNjW2xvY2FsaXplZFByb3BlcnR5XSA9IHNvcnREaXJlY3Rpb247XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBzb3J0aW5nO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRTb3J0UGFyYW0uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLocalizedSortProperty: () => (/* binding */ getLocalizedSortProperty)\n/* harmony export */ });\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\nconst getLocalizedSortProperty = ({ config, fields, locale, result: incomingResult, segments: incomingSegments })=>{\n    // If localization is not enabled, accept exactly\n    // what is sent in\n    if (!config.localization) {\n        return incomingSegments.join('.');\n    }\n    const segments = [\n        ...incomingSegments\n    ];\n    // Retrieve first segment, and remove from segments\n    const firstSegment = segments.shift();\n    // Attempt to find a matched field\n    const matchedField = fields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field) && field.name === firstSegment);\n    if (matchedField && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldIsPresentationalOnly)(matchedField)) {\n        let nextFields;\n        const remainingSegments = [\n            ...segments\n        ];\n        let localizedSegment = matchedField.name;\n        if (matchedField.localized) {\n            // Check to see if next segment is a locale\n            if (segments.length > 0) {\n                const nextSegmentIsLocale = config.localization.localeCodes.includes(remainingSegments[0]);\n                // If next segment is locale, remove it from remaining segments\n                // and use it to localize the current segment\n                if (nextSegmentIsLocale) {\n                    const nextSegment = remainingSegments.shift();\n                    localizedSegment = `${matchedField.name}.${nextSegment}`;\n                }\n            } else {\n                // If no more segments, but field is localized, use default locale\n                localizedSegment = `${matchedField.name}.${locale}`;\n            }\n        }\n        // If there are subfields, pass them through\n        if (matchedField.type === 'tab' || matchedField.type === 'group' || matchedField.type === 'array') {\n            nextFields = matchedField.flattenedFields;\n        }\n        if (matchedField.type === 'blocks') {\n            nextFields = matchedField.blocks.reduce((flattenedBlockFields, block)=>{\n                return [\n                    ...flattenedBlockFields,\n                    ...block.flattenedFields.filter((blockField)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(blockField) && blockField.name !== 'blockType' && blockField.name !== 'blockName' || !(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(blockField))\n                ];\n            }, []);\n        }\n        const result = incomingResult ? `${incomingResult}.${localizedSegment}` : localizedSegment;\n        if (nextFields) {\n            return getLocalizedSortProperty({\n                config,\n                fields: nextFields,\n                locale,\n                result,\n                segments: remainingSegments\n            });\n        }\n        return result;\n    }\n    return incomingSegments.join('.');\n};\n\n//# sourceMappingURL=getLocalizedSortProperty.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZFO0FBQ3RFLG9DQUFvQyw0RUFBNEU7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnRUFBZ0I7QUFDOUQseUJBQXlCLHlFQUF5QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrQkFBa0IsR0FBRyxZQUFZO0FBQzNFO0FBQ0EsY0FBYztBQUNkO0FBQ0Esc0NBQXNDLGtCQUFrQixHQUFHLE9BQU87QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0VBQWdCLHVGQUF1RixnRUFBZ0I7QUFDekw7QUFDQSxhQUFhO0FBQ2I7QUFDQSwyQ0FBMkMsZUFBZSxHQUFHLGlCQUFpQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpZWxkQWZmZWN0c0RhdGEsIGZpZWxkSXNQcmVzZW50YXRpb25hbE9ubHkgfSBmcm9tICdwYXlsb2FkL3NoYXJlZCc7XG5leHBvcnQgY29uc3QgZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5ID0gKHsgY29uZmlnLCBmaWVsZHMsIGxvY2FsZSwgcmVzdWx0OiBpbmNvbWluZ1Jlc3VsdCwgc2VnbWVudHM6IGluY29taW5nU2VnbWVudHMgfSk9PntcbiAgICAvLyBJZiBsb2NhbGl6YXRpb24gaXMgbm90IGVuYWJsZWQsIGFjY2VwdCBleGFjdGx5XG4gICAgLy8gd2hhdCBpcyBzZW50IGluXG4gICAgaWYgKCFjb25maWcubG9jYWxpemF0aW9uKSB7XG4gICAgICAgIHJldHVybiBpbmNvbWluZ1NlZ21lbnRzLmpvaW4oJy4nKTtcbiAgICB9XG4gICAgY29uc3Qgc2VnbWVudHMgPSBbXG4gICAgICAgIC4uLmluY29taW5nU2VnbWVudHNcbiAgICBdO1xuICAgIC8vIFJldHJpZXZlIGZpcnN0IHNlZ21lbnQsIGFuZCByZW1vdmUgZnJvbSBzZWdtZW50c1xuICAgIGNvbnN0IGZpcnN0U2VnbWVudCA9IHNlZ21lbnRzLnNoaWZ0KCk7XG4gICAgLy8gQXR0ZW1wdCB0byBmaW5kIGEgbWF0Y2hlZCBmaWVsZFxuICAgIGNvbnN0IG1hdGNoZWRGaWVsZCA9IGZpZWxkcy5maW5kKChmaWVsZCk9PmZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLm5hbWUgPT09IGZpcnN0U2VnbWVudCk7XG4gICAgaWYgKG1hdGNoZWRGaWVsZCAmJiAhZmllbGRJc1ByZXNlbnRhdGlvbmFsT25seShtYXRjaGVkRmllbGQpKSB7XG4gICAgICAgIGxldCBuZXh0RmllbGRzO1xuICAgICAgICBjb25zdCByZW1haW5pbmdTZWdtZW50cyA9IFtcbiAgICAgICAgICAgIC4uLnNlZ21lbnRzXG4gICAgICAgIF07XG4gICAgICAgIGxldCBsb2NhbGl6ZWRTZWdtZW50ID0gbWF0Y2hlZEZpZWxkLm5hbWU7XG4gICAgICAgIGlmIChtYXRjaGVkRmllbGQubG9jYWxpemVkKSB7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgbmV4dCBzZWdtZW50IGlzIGEgbG9jYWxlXG4gICAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTZWdtZW50SXNMb2NhbGUgPSBjb25maWcubG9jYWxpemF0aW9uLmxvY2FsZUNvZGVzLmluY2x1ZGVzKHJlbWFpbmluZ1NlZ21lbnRzWzBdKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBuZXh0IHNlZ21lbnQgaXMgbG9jYWxlLCByZW1vdmUgaXQgZnJvbSByZW1haW5pbmcgc2VnbWVudHNcbiAgICAgICAgICAgICAgICAvLyBhbmQgdXNlIGl0IHRvIGxvY2FsaXplIHRoZSBjdXJyZW50IHNlZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAobmV4dFNlZ21lbnRJc0xvY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0U2VnbWVudCA9IHJlbWFpbmluZ1NlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsaXplZFNlZ21lbnQgPSBgJHttYXRjaGVkRmllbGQubmFtZX0uJHtuZXh0U2VnbWVudH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gbW9yZSBzZWdtZW50cywgYnV0IGZpZWxkIGlzIGxvY2FsaXplZCwgdXNlIGRlZmF1bHQgbG9jYWxlXG4gICAgICAgICAgICAgICAgbG9jYWxpemVkU2VnbWVudCA9IGAke21hdGNoZWRGaWVsZC5uYW1lfS4ke2xvY2FsZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBzdWJmaWVsZHMsIHBhc3MgdGhlbSB0aHJvdWdoXG4gICAgICAgIGlmIChtYXRjaGVkRmllbGQudHlwZSA9PT0gJ3RhYicgfHwgbWF0Y2hlZEZpZWxkLnR5cGUgPT09ICdncm91cCcgfHwgbWF0Y2hlZEZpZWxkLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgIG5leHRGaWVsZHMgPSBtYXRjaGVkRmllbGQuZmxhdHRlbmVkRmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaGVkRmllbGQudHlwZSA9PT0gJ2Jsb2NrcycpIHtcbiAgICAgICAgICAgIG5leHRGaWVsZHMgPSBtYXRjaGVkRmllbGQuYmxvY2tzLnJlZHVjZSgoZmxhdHRlbmVkQmxvY2tGaWVsZHMsIGJsb2NrKT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLmZsYXR0ZW5lZEJsb2NrRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAuLi5ibG9jay5mbGF0dGVuZWRGaWVsZHMuZmlsdGVyKChibG9ja0ZpZWxkKT0+ZmllbGRBZmZlY3RzRGF0YShibG9ja0ZpZWxkKSAmJiBibG9ja0ZpZWxkLm5hbWUgIT09ICdibG9ja1R5cGUnICYmIGJsb2NrRmllbGQubmFtZSAhPT0gJ2Jsb2NrTmFtZScgfHwgIWZpZWxkQWZmZWN0c0RhdGEoYmxvY2tGaWVsZCkpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBpbmNvbWluZ1Jlc3VsdCA/IGAke2luY29taW5nUmVzdWx0fS4ke2xvY2FsaXplZFNlZ21lbnR9YCA6IGxvY2FsaXplZFNlZ21lbnQ7XG4gICAgICAgIGlmIChuZXh0RmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5KHtcbiAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgZmllbGRzOiBuZXh0RmllbGRzLFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgc2VnbWVudHM6IHJlbWFpbmluZ1NlZ21lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gaW5jb21pbmdTZWdtZW50cy5qb2luKCcuJyk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   operatorMap: () => (/* binding */ operatorMap)\n/* harmony export */ });\nconst operatorMap = {\n    all: '$all',\n    equals: '$eq',\n    exists: '$exists',\n    greater_than: '$gt',\n    greater_than_equal: '$gte',\n    in: '$in',\n    intersects: '$geoIntersects',\n    less_than: '$lt',\n    less_than_equal: '$lte',\n    near: '$near',\n    not_equals: '$ne',\n    not_in: '$nin',\n    within: '$geoWithin'\n};\n\n//# sourceMappingURL=operatorMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvb3BlcmF0b3JNYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL29wZXJhdG9yTWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBvcGVyYXRvck1hcCA9IHtcbiAgICBhbGw6ICckYWxsJyxcbiAgICBlcXVhbHM6ICckZXEnLFxuICAgIGV4aXN0czogJyRleGlzdHMnLFxuICAgIGdyZWF0ZXJfdGhhbjogJyRndCcsXG4gICAgZ3JlYXRlcl90aGFuX2VxdWFsOiAnJGd0ZScsXG4gICAgaW46ICckaW4nLFxuICAgIGludGVyc2VjdHM6ICckZ2VvSW50ZXJzZWN0cycsXG4gICAgbGVzc190aGFuOiAnJGx0JyxcbiAgICBsZXNzX3RoYW5fZXF1YWw6ICckbHRlJyxcbiAgICBuZWFyOiAnJG5lYXInLFxuICAgIG5vdF9lcXVhbHM6ICckbmUnLFxuICAgIG5vdF9pbjogJyRuaW4nLFxuICAgIHdpdGhpbjogJyRnZW9XaXRoaW4nXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVyYXRvck1hcC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseParams: () => (/* binding */ parseParams)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/deepMerge.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/types/constants.js\");\n/* harmony import */ var _buildAndOrConditions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildAndOrConditions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js\");\n/* harmony import */ var _buildSearchParams_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buildSearchParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js\");\n\n\n\n\nasync function parseParams({ collectionSlug, fields, globalSlug, locale, payload, where }) {\n    let result = {};\n    if (typeof where === 'object') {\n        // We need to determine if the whereKey is an AND, OR, or a schema path\n        for (const relationOrPath of Object.keys(where)){\n            const condition = where[relationOrPath];\n            let conditionOperator;\n            if (relationOrPath.toLowerCase() === 'and') {\n                conditionOperator = '$and';\n            } else if (relationOrPath.toLowerCase() === 'or') {\n                conditionOperator = '$or';\n            }\n            if (Array.isArray(condition)) {\n                const builtConditions = await (0,_buildAndOrConditions_js__WEBPACK_IMPORTED_MODULE_0__.buildAndOrConditions)({\n                    collectionSlug,\n                    fields,\n                    globalSlug,\n                    locale,\n                    payload,\n                    where: condition\n                });\n                if (builtConditions.length > 0) {\n                    result[conditionOperator] = builtConditions;\n                }\n            } else {\n                // It's a path - and there can be multiple comparisons on a single path.\n                // For example - title like 'test' and title not equal to 'tester'\n                // So we need to loop on keys again here to handle each operator independently\n                const pathOperators = where[relationOrPath];\n                if (typeof pathOperators === 'object') {\n                    for (const operator of Object.keys(pathOperators)){\n                        if (payload_shared__WEBPACK_IMPORTED_MODULE_2__.validOperators.includes(operator)) {\n                            const searchParam = await (0,_buildSearchParams_js__WEBPACK_IMPORTED_MODULE_1__.buildSearchParam)({\n                                collectionSlug,\n                                fields,\n                                globalSlug,\n                                incomingPath: relationOrPath,\n                                locale,\n                                operator,\n                                payload,\n                                val: pathOperators[operator]\n                            });\n                            if (searchParam?.value && searchParam?.path) {\n                                result = {\n                                    ...result,\n                                    [searchParam.path]: searchParam.value\n                                };\n                            } else if (typeof searchParam?.value === 'object') {\n                                result = (0,payload__WEBPACK_IMPORTED_MODULE_3__.deepMergeWithCombinedArrays)(result, searchParam.value, {\n                                    // dont clone Types.ObjectIDs\n                                    clone: false\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return result;\n}\n\n//# sourceMappingURL=parseParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvcGFyc2VQYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBc0Q7QUFDTjtBQUNpQjtBQUNQO0FBQ25ELDZCQUE2Qiw0REFBNEQ7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsOEVBQW9CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFjO0FBQzFDLHNEQUFzRCx1RUFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLHlDQUF5QyxvRUFBMkI7QUFDcEU7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvcXVlcmllcy9wYXJzZVBhcmFtcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWVwTWVyZ2VXaXRoQ29tYmluZWRBcnJheXMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IHZhbGlkT3BlcmF0b3JzIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgYnVpbGRBbmRPckNvbmRpdGlvbnMgfSBmcm9tICcuL2J1aWxkQW5kT3JDb25kaXRpb25zLmpzJztcbmltcG9ydCB7IGJ1aWxkU2VhcmNoUGFyYW0gfSBmcm9tICcuL2J1aWxkU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVBhcmFtcyh7IGNvbGxlY3Rpb25TbHVnLCBmaWVsZHMsIGdsb2JhbFNsdWcsIGxvY2FsZSwgcGF5bG9hZCwgd2hlcmUgfSkge1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBpZiAodHlwZW9mIHdoZXJlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGRldGVybWluZSBpZiB0aGUgd2hlcmVLZXkgaXMgYW4gQU5ELCBPUiwgb3IgYSBzY2hlbWEgcGF0aFxuICAgICAgICBmb3IgKGNvbnN0IHJlbGF0aW9uT3JQYXRoIG9mIE9iamVjdC5rZXlzKHdoZXJlKSl7XG4gICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSB3aGVyZVtyZWxhdGlvbk9yUGF0aF07XG4gICAgICAgICAgICBsZXQgY29uZGl0aW9uT3BlcmF0b3I7XG4gICAgICAgICAgICBpZiAocmVsYXRpb25PclBhdGgudG9Mb3dlckNhc2UoKSA9PT0gJ2FuZCcpIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb25PcGVyYXRvciA9ICckYW5kJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVsYXRpb25PclBhdGgudG9Mb3dlckNhc2UoKSA9PT0gJ29yJykge1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk9wZXJhdG9yID0gJyRvcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbHRDb25kaXRpb25zID0gYXdhaXQgYnVpbGRBbmRPckNvbmRpdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxTbHVnLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiBjb25kaXRpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbHRDb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2NvbmRpdGlvbk9wZXJhdG9yXSA9IGJ1aWx0Q29uZGl0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBwYXRoIC0gYW5kIHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBjb21wYXJpc29ucyBvbiBhIHNpbmdsZSBwYXRoLlxuICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlIC0gdGl0bGUgbGlrZSAndGVzdCcgYW5kIHRpdGxlIG5vdCBlcXVhbCB0byAndGVzdGVyJ1xuICAgICAgICAgICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gbG9vcCBvbiBrZXlzIGFnYWluIGhlcmUgdG8gaGFuZGxlIGVhY2ggb3BlcmF0b3IgaW5kZXBlbmRlbnRseVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhPcGVyYXRvcnMgPSB3aGVyZVtyZWxhdGlvbk9yUGF0aF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXRoT3BlcmF0b3JzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdG9yIG9mIE9iamVjdC5rZXlzKHBhdGhPcGVyYXRvcnMpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZE9wZXJhdG9ycy5pbmNsdWRlcyhvcGVyYXRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hQYXJhbSA9IGF3YWl0IGJ1aWxkU2VhcmNoUGFyYW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1BhdGg6IHJlbGF0aW9uT3JQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHBhdGhPcGVyYXRvcnNbb3BlcmF0b3JdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFBhcmFtPy52YWx1ZSAmJiBzZWFyY2hQYXJhbT8ucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2VhcmNoUGFyYW0ucGF0aF06IHNlYXJjaFBhcmFtLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VhcmNoUGFyYW0/LnZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWVwTWVyZ2VXaXRoQ29tYmluZWRBcnJheXMocmVzdWx0LCBzZWFyY2hQYXJhbS52YWx1ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9udCBjbG9uZSBUeXBlcy5PYmplY3RJRHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VQYXJhbXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeQueryValue: () => (/* binding */ sanitizeQueryValue)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/createArrayFromCommaDelineated.js\");\n\n\nconst buildExistsQuery = (formattedValue, path, treatEmptyString = true)=>{\n    if (formattedValue) {\n        return {\n            rawQuery: {\n                $and: [\n                    {\n                        [path]: {\n                            $exists: true\n                        }\n                    },\n                    {\n                        [path]: {\n                            $ne: null\n                        }\n                    },\n                    ...treatEmptyString ? [\n                        {\n                            [path]: {\n                                $ne: ''\n                            }\n                        }\n                    ] : []\n                ]\n            }\n        };\n    } else {\n        return {\n            rawQuery: {\n                $or: [\n                    {\n                        [path]: {\n                            $exists: false\n                        }\n                    },\n                    {\n                        [path]: {\n                            $eq: null\n                        }\n                    },\n                    ...treatEmptyString ? [\n                        {\n                            [path]: {\n                                $eq: ''\n                            }\n                        }\n                    ] : []\n                ]\n            }\n        };\n    }\n};\n// returns nestedField Field object from blocks.nestedField path because getLocalizedPaths splits them only for relationships\nconst getFieldFromSegments = ({ field, segments })=>{\n    if ('blocks' in field) {\n        for (const block of field.blocks){\n            const field = getFieldFromSegments({\n                field: block,\n                segments\n            });\n            if (field) {\n                return field;\n            }\n        }\n    }\n    if ('fields' in field) {\n        for(let i = 0; i < segments.length; i++){\n            const foundField = field.flattenedFields.find((each)=>each.name === segments[i]);\n            if (!foundField) {\n                break;\n            }\n            if (foundField && segments.length - 1 === i) {\n                return foundField;\n            }\n            segments.shift();\n            return getFieldFromSegments({\n                field: foundField,\n                segments\n            });\n        }\n    }\n};\nconst sanitizeQueryValue = ({ field, hasCustomID, locale, operator, path, payload, val })=>{\n    let formattedValue = val;\n    let formattedOperator = operator;\n    if ([\n        'array',\n        'blocks',\n        'group',\n        'tab'\n    ].includes(field.type) && path.includes('.')) {\n        const segments = path.split('.');\n        segments.shift();\n        const foundField = getFieldFromSegments({\n            field,\n            segments\n        });\n        if (foundField) {\n            field = foundField;\n        }\n    }\n    // Disregard invalid _ids\n    if (path === '_id') {\n        if (typeof val === 'string' && val.split(',').length === 1) {\n            if (!hasCustomID) {\n                const isValid = mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(val);\n                if (!isValid) {\n                    return {\n                        operator: formattedOperator,\n                        val: undefined\n                    };\n                } else {\n                    if ([\n                        'in',\n                        'not_in'\n                    ].includes(operator)) {\n                        formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue).map((id)=>new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(id));\n                    } else {\n                        formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(val);\n                    }\n                }\n            }\n            if (field.type === 'number') {\n                const parsedNumber = parseFloat(val);\n                if (Number.isNaN(parsedNumber)) {\n                    return {\n                        operator: formattedOperator,\n                        val: undefined\n                    };\n                }\n            }\n        } else if (Array.isArray(val) || typeof val === 'string' && val.split(',').length > 1) {\n            if (typeof val === 'string') {\n                formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(val);\n            }\n            formattedValue = formattedValue.reduce((formattedValues, inVal)=>{\n                if (!hasCustomID) {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal)) {\n                        formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                    }\n                }\n                if (field.type === 'number') {\n                    const parsedNumber = parseFloat(inVal);\n                    if (!Number.isNaN(parsedNumber)) {\n                        formattedValues.push(parsedNumber);\n                    }\n                } else {\n                    formattedValues.push(inVal);\n                }\n                return formattedValues;\n            }, []);\n        }\n    }\n    // Cast incoming values as proper searchable types\n    if (field.type === 'checkbox' && typeof val === 'string') {\n        if (val.toLowerCase() === 'true') {\n            formattedValue = true;\n        }\n        if (val.toLowerCase() === 'false') {\n            formattedValue = false;\n        }\n    }\n    if ([\n        'all',\n        'in',\n        'not_in'\n    ].includes(operator) && typeof formattedValue === 'string') {\n        formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue);\n        if (field.type === 'number') {\n            formattedValue = formattedValue.map((arrayVal)=>parseFloat(arrayVal));\n        }\n    }\n    if (field.type === 'number') {\n        if (typeof formattedValue === 'string' && operator !== 'exists') {\n            formattedValue = Number(val);\n        }\n        if (operator === 'exists') {\n            formattedValue = val === 'true' ? true : val === 'false' ? false : Boolean(val);\n            return buildExistsQuery(formattedValue, path);\n        }\n    }\n    if (field.type === 'date' && typeof val === 'string' && operator !== 'exists') {\n        formattedValue = new Date(val);\n        if (Number.isNaN(Date.parse(formattedValue))) {\n            return undefined;\n        }\n    }\n    if ([\n        'relationship',\n        'upload'\n    ].includes(field.type)) {\n        if (val === 'null') {\n            formattedValue = null;\n        }\n        // Object equality requires the value to be the first key in the object that is being queried.\n        if (operator === 'equals' && formattedValue && typeof formattedValue === 'object' && formattedValue.value && formattedValue.relationTo) {\n            const { value } = formattedValue;\n            const isValid = mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(value);\n            if (isValid) {\n                formattedValue.value = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(value);\n            }\n            let localizedPath = path;\n            if (field.localized && payload.config.localization && locale) {\n                localizedPath = `${path}.${locale}`;\n            }\n            return {\n                rawQuery: {\n                    $or: [\n                        {\n                            [localizedPath]: {\n                                $eq: {\n                                    // disable auto sort\n                                    /* eslint-disable */ value: formattedValue.value,\n                                    relationTo: formattedValue.relationTo\n                                }\n                            }\n                        },\n                        {\n                            [localizedPath]: {\n                                $eq: {\n                                    relationTo: formattedValue.relationTo,\n                                    value: formattedValue.value\n                                }\n                            }\n                        }\n                    ]\n                }\n            };\n        }\n        const relationTo = field.relationTo;\n        if ([\n            'in',\n            'not_in'\n        ].includes(operator) && Array.isArray(formattedValue)) {\n            formattedValue = formattedValue.reduce((formattedValues, inVal)=>{\n                if (!inVal) {\n                    return formattedValues;\n                }\n                if (typeof relationTo === 'string' && payload.collections[relationTo].customIDType) {\n                    if (payload.collections[relationTo].customIDType === 'number') {\n                        const parsedNumber = parseFloat(inVal);\n                        if (!Number.isNaN(parsedNumber)) {\n                            formattedValues.push(parsedNumber);\n                            return formattedValues;\n                        }\n                    }\n                    formattedValues.push(inVal);\n                    return formattedValues;\n                }\n                if (Array.isArray(relationTo) && relationTo.some((relationTo)=>!!payload.collections[relationTo].customIDType)) {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal.toString())) {\n                        formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                    } else {\n                        formattedValues.push(inVal);\n                    }\n                    return formattedValues;\n                }\n                if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal.toString())) {\n                    formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                }\n                return formattedValues;\n            }, []);\n        }\n        if ([\n            'contains',\n            'equals',\n            'like',\n            'not_equals'\n        ].includes(operator) && (!Array.isArray(relationTo) || !path.endsWith('.relationTo'))) {\n            if (typeof relationTo === 'string') {\n                const customIDType = payload.collections[relationTo].customIDType;\n                if (customIDType) {\n                    if (customIDType === 'number') {\n                        formattedValue = parseFloat(val);\n                        if (Number.isNaN(formattedValue)) {\n                            return {\n                                operator: formattedOperator,\n                                val: undefined\n                            };\n                        }\n                    }\n                } else {\n                    if (!mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        return {\n                            operator: formattedOperator,\n                            val: undefined\n                        };\n                    }\n                    formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue);\n                }\n            } else {\n                const hasCustomIDType = relationTo.some((relationTo)=>!!payload.collections[relationTo].customIDType);\n                if (hasCustomIDType) {\n                    if (typeof val === 'string') {\n                        const formattedNumber = Number(val);\n                        formattedValue = [\n                            mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(val) ? new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(val) : val\n                        ];\n                        formattedOperator = operator === 'not_equals' ? 'not_in' : 'in';\n                        if (!Number.isNaN(formattedNumber)) {\n                            formattedValue.push(formattedNumber);\n                        }\n                    }\n                } else {\n                    if (!mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        return {\n                            operator: formattedOperator,\n                            val: undefined\n                        };\n                    }\n                    formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue);\n                }\n            }\n        }\n    }\n    // Set up specific formatting necessary by operators\n    if (operator === 'near') {\n        let lng;\n        let lat;\n        let maxDistance;\n        let minDistance;\n        if (Array.isArray(formattedValue)) {\n            ;\n            [lng, lat, maxDistance, minDistance] = formattedValue;\n        }\n        if (typeof formattedValue === 'string') {\n            ;\n            [lng, lat, maxDistance, minDistance] = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue);\n        }\n        if (lng == null || lat == null || maxDistance == null && minDistance == null) {\n            formattedValue = undefined;\n        } else {\n            formattedValue = {\n                $geometry: {\n                    type: 'Point',\n                    coordinates: [\n                        parseFloat(lng),\n                        parseFloat(lat)\n                    ]\n                }\n            };\n            if (maxDistance) {\n                formattedValue.$maxDistance = parseFloat(maxDistance);\n            }\n            if (minDistance) {\n                formattedValue.$minDistance = parseFloat(minDistance);\n            }\n        }\n    }\n    if (operator === 'within' || operator === 'intersects') {\n        formattedValue = {\n            $geometry: formattedValue\n        };\n    }\n    if (path !== '_id' || path === '_id' && hasCustomID && field.type === 'text') {\n        if (operator === 'contains' && !mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n            formattedValue = {\n                $options: 'i',\n                $regex: formattedValue.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n            };\n        }\n        if (operator === 'exists') {\n            formattedValue = formattedValue === 'true' || formattedValue === true;\n            // _id can't be empty string, will error Cast to ObjectId failed for value \"\"\n            return buildExistsQuery(formattedValue, path, ![\n                'relationship',\n                'upload'\n            ].includes(field.type));\n        }\n    }\n    if ((path === '_id' || path === 'parent') && operator === 'like' && formattedValue.length === 24 && !hasCustomID) {\n        formattedOperator = 'equals';\n    }\n    if (operator === 'exists') {\n        formattedValue = formattedValue === 'true' || formattedValue === true;\n        // Clearable fields\n        if ([\n            'relationship',\n            'select',\n            'upload'\n        ].includes(field.type)) {\n            if (formattedValue) {\n                return {\n                    rawQuery: {\n                        $and: [\n                            {\n                                [path]: {\n                                    $exists: true\n                                }\n                            },\n                            {\n                                [path]: {\n                                    $ne: null\n                                }\n                            }\n                        ]\n                    }\n                };\n            } else {\n                return {\n                    rawQuery: {\n                        $or: [\n                            {\n                                [path]: {\n                                    $exists: false\n                                }\n                            },\n                            {\n                                [path]: {\n                                    $eq: null\n                                }\n                            }\n                        ]\n                    }\n                };\n            }\n        }\n    }\n    return {\n        operator: formattedOperator,\n        val: formattedValue\n    };\n};\n\n//# sourceMappingURL=sanitizeQueryValue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvc2FuaXRpemVRdWVyeVZhbHVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUN3QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QiwwREFBMEQ7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyQ0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVFQUE4QiwrQkFBK0IsMkNBQUs7QUFDM0csc0JBQXNCO0FBQ3RCLDZDQUE2QywyQ0FBSztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxpQ0FBaUMsdUVBQThCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQ0FBSztBQUM3QixpREFBaUQsMkNBQUs7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVFQUE4QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCLDRCQUE0QiwyQ0FBSztBQUNqQztBQUNBLDJDQUEyQywyQ0FBSztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsS0FBSyxHQUFHLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQ0FBSztBQUM3QixpREFBaUQsMkNBQUs7QUFDdEQsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJDQUFLO0FBQ3pCLDZDQUE2QywyQ0FBSztBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHlCQUF5QiwyQ0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDJDQUFLO0FBQzlDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQUssNkJBQTZCLDJDQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix5QkFBeUIsMkNBQUs7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywyQ0FBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx1RUFBOEI7QUFDakY7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsMkNBQUs7QUFDN0M7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL3Nhbml0aXplUXVlcnlWYWx1ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlcyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IGNyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZCB9IGZyb20gJ3BheWxvYWQnO1xuY29uc3QgYnVpbGRFeGlzdHNRdWVyeSA9IChmb3JtYXR0ZWRWYWx1ZSwgcGF0aCwgdHJlYXRFbXB0eVN0cmluZyA9IHRydWUpPT57XG4gICAgaWYgKGZvcm1hdHRlZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXdRdWVyeToge1xuICAgICAgICAgICAgICAgICRhbmQ6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLi4udHJlYXRFbXB0eVN0cmluZyA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5lOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSA6IFtdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXdRdWVyeToge1xuICAgICAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhpc3RzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXE6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLi4udHJlYXRFbXB0eVN0cmluZyA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVxOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSA6IFtdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyByZXR1cm5zIG5lc3RlZEZpZWxkIEZpZWxkIG9iamVjdCBmcm9tIGJsb2Nrcy5uZXN0ZWRGaWVsZCBwYXRoIGJlY2F1c2UgZ2V0TG9jYWxpemVkUGF0aHMgc3BsaXRzIHRoZW0gb25seSBmb3IgcmVsYXRpb25zaGlwc1xuY29uc3QgZ2V0RmllbGRGcm9tU2VnbWVudHMgPSAoeyBmaWVsZCwgc2VnbWVudHMgfSk9PntcbiAgICBpZiAoJ2Jsb2NrcycgaW4gZmllbGQpIHtcbiAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBmaWVsZC5ibG9ja3Mpe1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXRGaWVsZEZyb21TZWdtZW50cyh7XG4gICAgICAgICAgICAgICAgZmllbGQ6IGJsb2NrLFxuICAgICAgICAgICAgICAgIHNlZ21lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ2ZpZWxkcycgaW4gZmllbGQpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kRmllbGQgPSBmaWVsZC5mbGF0dGVuZWRGaWVsZHMuZmluZCgoZWFjaCk9PmVhY2gubmFtZSA9PT0gc2VnbWVudHNbaV0pO1xuICAgICAgICAgICAgaWYgKCFmb3VuZEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm91bmRGaWVsZCAmJiBzZWdtZW50cy5sZW5ndGggLSAxID09PSBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kRmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpZWxkRnJvbVNlZ21lbnRzKHtcbiAgICAgICAgICAgICAgICBmaWVsZDogZm91bmRGaWVsZCxcbiAgICAgICAgICAgICAgICBzZWdtZW50c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHNhbml0aXplUXVlcnlWYWx1ZSA9ICh7IGZpZWxkLCBoYXNDdXN0b21JRCwgbG9jYWxlLCBvcGVyYXRvciwgcGF0aCwgcGF5bG9hZCwgdmFsIH0pPT57XG4gICAgbGV0IGZvcm1hdHRlZFZhbHVlID0gdmFsO1xuICAgIGxldCBmb3JtYXR0ZWRPcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgIGlmIChbXG4gICAgICAgICdhcnJheScsXG4gICAgICAgICdibG9ja3MnLFxuICAgICAgICAnZ3JvdXAnLFxuICAgICAgICAndGFiJ1xuICAgIF0uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgcGF0aC5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBzZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICBjb25zdCBmb3VuZEZpZWxkID0gZ2V0RmllbGRGcm9tU2VnbWVudHMoe1xuICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICBzZWdtZW50c1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvdW5kRmllbGQpIHtcbiAgICAgICAgICAgIGZpZWxkID0gZm91bmRGaWVsZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBEaXNyZWdhcmQgaW52YWxpZCBfaWRzXG4gICAgaWYgKHBhdGggPT09ICdfaWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwuc3BsaXQoJywnKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmICghaGFzQ3VzdG9tSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gVHlwZXMuT2JqZWN0SWQuaXNWYWxpZCh2YWwpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdub3RfaW4nXG4gICAgICAgICAgICAgICAgICAgIF0uaW5jbHVkZXMob3BlcmF0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGNyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZChmb3JtYXR0ZWRWYWx1ZSkubWFwKChpZCk9Pm5ldyBUeXBlcy5PYmplY3RJZChpZCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBuZXcgVHlwZXMuT2JqZWN0SWQodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE51bWJlciA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHBhcnNlZE51bWJlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBmb3JtYXR0ZWRPcGVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsKSB8fCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwuc3BsaXQoJywnKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGNyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZS5yZWR1Y2UoKGZvcm1hdHRlZFZhbHVlcywgaW5WYWwpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNDdXN0b21JRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVHlwZXMuT2JqZWN0SWQuaXNWYWxpZChpblZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKG5ldyBUeXBlcy5PYmplY3RJZChpblZhbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWROdW1iZXIgPSBwYXJzZUZsb2F0KGluVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVzLnB1c2gocGFyc2VkTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKGluVmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlcztcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDYXN0IGluY29taW5nIHZhbHVlcyBhcyBwcm9wZXIgc2VhcmNoYWJsZSB0eXBlc1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnY2hlY2tib3gnICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh2YWwudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbC50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChbXG4gICAgICAgICdhbGwnLFxuICAgICAgICAnaW4nLFxuICAgICAgICAnbm90X2luJ1xuICAgIF0uaW5jbHVkZXMob3BlcmF0b3IpICYmIHR5cGVvZiBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBjcmVhdGVBcnJheUZyb21Db21tYURlbGluZWF0ZWQoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZm9ybWF0dGVkVmFsdWUubWFwKChhcnJheVZhbCk9PnBhcnNlRmxvYXQoYXJyYXlWYWwpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ3N0cmluZycgJiYgb3BlcmF0b3IgIT09ICdleGlzdHMnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IE51bWJlcih2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRvciA9PT0gJ2V4aXN0cycpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdmFsID09PSAndHJ1ZScgPyB0cnVlIDogdmFsID09PSAnZmFsc2UnID8gZmFsc2UgOiBCb29sZWFuKHZhbCk7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRFeGlzdHNRdWVyeShmb3JtYXR0ZWRWYWx1ZSwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdkYXRlJyAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiBvcGVyYXRvciAhPT0gJ2V4aXN0cycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBuZXcgRGF0ZSh2YWwpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKERhdGUucGFyc2UoZm9ybWF0dGVkVmFsdWUpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoW1xuICAgICAgICAncmVsYXRpb25zaGlwJyxcbiAgICAgICAgJ3VwbG9hZCdcbiAgICBdLmluY2x1ZGVzKGZpZWxkLnR5cGUpKSB7XG4gICAgICAgIGlmICh2YWwgPT09ICdudWxsJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9iamVjdCBlcXVhbGl0eSByZXF1aXJlcyB0aGUgdmFsdWUgdG8gYmUgdGhlIGZpcnN0IGtleSBpbiB0aGUgb2JqZWN0IHRoYXQgaXMgYmVpbmcgcXVlcmllZC5cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnZXF1YWxzJyAmJiBmb3JtYXR0ZWRWYWx1ZSAmJiB0eXBlb2YgZm9ybWF0dGVkVmFsdWUgPT09ICdvYmplY3QnICYmIGZvcm1hdHRlZFZhbHVlLnZhbHVlICYmIGZvcm1hdHRlZFZhbHVlLnJlbGF0aW9uVG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IFR5cGVzLk9iamVjdElkLmlzVmFsaWQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZS52YWx1ZSA9IG5ldyBUeXBlcy5PYmplY3RJZCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbG9jYWxpemVkUGF0aCA9IHBhdGg7XG4gICAgICAgICAgICBpZiAoZmllbGQubG9jYWxpemVkICYmIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbiAmJiBsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGl6ZWRQYXRoID0gYCR7cGF0aH0uJHtsb2NhbGV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmF3UXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2xvY2FsaXplZFBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlcToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBhdXRvIHNvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovIHZhbHVlOiBmb3JtYXR0ZWRWYWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IGZvcm1hdHRlZFZhbHVlLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2xvY2FsaXplZFBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlcToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UbzogZm9ybWF0dGVkVmFsdWUucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmb3JtYXR0ZWRWYWx1ZS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWxhdGlvblRvID0gZmllbGQucmVsYXRpb25UbztcbiAgICAgICAgaWYgKFtcbiAgICAgICAgICAgICdpbicsXG4gICAgICAgICAgICAnbm90X2luJ1xuICAgICAgICBdLmluY2x1ZGVzKG9wZXJhdG9yKSAmJiBBcnJheS5pc0FycmF5KGZvcm1hdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZS5yZWR1Y2UoKGZvcm1hdHRlZFZhbHVlcywgaW5WYWwpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFpblZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlbGF0aW9uVG8gPT09ICdzdHJpbmcnICYmIHBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25Ub10uY3VzdG9tSURUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbGxlY3Rpb25zW3JlbGF0aW9uVG9dLmN1c3RvbUlEVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE51bWJlciA9IHBhcnNlRmxvYXQoaW5WYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKHBhcnNlZE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZXMucHVzaChpblZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlbGF0aW9uVG8pICYmIHJlbGF0aW9uVG8uc29tZSgocmVsYXRpb25Ubyk9PiEhcGF5bG9hZC5jb2xsZWN0aW9uc1tyZWxhdGlvblRvXS5jdXN0b21JRFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGluVmFsLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZXMucHVzaChuZXcgVHlwZXMuT2JqZWN0SWQoaW5WYWwpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKGluVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoVHlwZXMuT2JqZWN0SWQuaXNWYWxpZChpblZhbC50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZXMucHVzaChuZXcgVHlwZXMuT2JqZWN0SWQoaW5WYWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlcztcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ2NvbnRhaW5zJyxcbiAgICAgICAgICAgICdlcXVhbHMnLFxuICAgICAgICAgICAgJ2xpa2UnLFxuICAgICAgICAgICAgJ25vdF9lcXVhbHMnXG4gICAgICAgIF0uaW5jbHVkZXMob3BlcmF0b3IpICYmICghQXJyYXkuaXNBcnJheShyZWxhdGlvblRvKSB8fCAhcGF0aC5lbmRzV2l0aCgnLnJlbGF0aW9uVG8nKSkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVsYXRpb25UbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21JRFR5cGUgPSBwYXlsb2FkLmNvbGxlY3Rpb25zW3JlbGF0aW9uVG9dLmN1c3RvbUlEVHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tSURUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21JRFR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVR5cGVzLk9iamVjdElkLmlzVmFsaWQoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBmb3JtYXR0ZWRPcGVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG5ldyBUeXBlcy5PYmplY3RJZChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDdXN0b21JRFR5cGUgPSByZWxhdGlvblRvLnNvbWUoKHJlbGF0aW9uVG8pPT4hIXBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25Ub10uY3VzdG9tSURUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ3VzdG9tSURUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkTnVtYmVyID0gTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKHZhbCkgPyBuZXcgVHlwZXMuT2JqZWN0SWQodmFsKSA6IHZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZE9wZXJhdG9yID0gb3BlcmF0b3IgPT09ICdub3RfZXF1YWxzJyA/ICdub3RfaW4nIDogJ2luJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZvcm1hdHRlZE51bWJlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZS5wdXNoKGZvcm1hdHRlZE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVR5cGVzLk9iamVjdElkLmlzVmFsaWQoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBmb3JtYXR0ZWRPcGVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG5ldyBUeXBlcy5PYmplY3RJZChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNldCB1cCBzcGVjaWZpYyBmb3JtYXR0aW5nIG5lY2Vzc2FyeSBieSBvcGVyYXRvcnNcbiAgICBpZiAob3BlcmF0b3IgPT09ICduZWFyJykge1xuICAgICAgICBsZXQgbG5nO1xuICAgICAgICBsZXQgbGF0O1xuICAgICAgICBsZXQgbWF4RGlzdGFuY2U7XG4gICAgICAgIGxldCBtaW5EaXN0YW5jZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBbbG5nLCBsYXQsIG1heERpc3RhbmNlLCBtaW5EaXN0YW5jZV0gPSBmb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlZFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgW2xuZywgbGF0LCBtYXhEaXN0YW5jZSwgbWluRGlzdGFuY2VdID0gY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG5nID09IG51bGwgfHwgbGF0ID09IG51bGwgfHwgbWF4RGlzdGFuY2UgPT0gbnVsbCAmJiBtaW5EaXN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0ge1xuICAgICAgICAgICAgICAgICRnZW9tZXRyeToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChsYXQpXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUuJG1heERpc3RhbmNlID0gcGFyc2VGbG9hdChtYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWluRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZS4kbWluRGlzdGFuY2UgPSBwYXJzZUZsb2F0KG1pbkRpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3BlcmF0b3IgPT09ICd3aXRoaW4nIHx8IG9wZXJhdG9yID09PSAnaW50ZXJzZWN0cycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB7XG4gICAgICAgICAgICAkZ2VvbWV0cnk6IGZvcm1hdHRlZFZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChwYXRoICE9PSAnX2lkJyB8fCBwYXRoID09PSAnX2lkJyAmJiBoYXNDdXN0b21JRCAmJiBmaWVsZC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnY29udGFpbnMnICYmICFUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGZvcm1hdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcbiAgICAgICAgICAgICAgICAkcmVnZXg6IGZvcm1hdHRlZFZhbHVlLnJlcGxhY2UoL1tcXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnZXhpc3RzJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ3RydWUnIHx8IGZvcm1hdHRlZFZhbHVlID09PSB0cnVlO1xuICAgICAgICAgICAgLy8gX2lkIGNhbid0IGJlIGVtcHR5IHN0cmluZywgd2lsbCBlcnJvciBDYXN0IHRvIE9iamVjdElkIGZhaWxlZCBmb3IgdmFsdWUgXCJcIlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkRXhpc3RzUXVlcnkoZm9ybWF0dGVkVmFsdWUsIHBhdGgsICFbXG4gICAgICAgICAgICAgICAgJ3JlbGF0aW9uc2hpcCcsXG4gICAgICAgICAgICAgICAgJ3VwbG9hZCdcbiAgICAgICAgICAgIF0uaW5jbHVkZXMoZmllbGQudHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgocGF0aCA9PT0gJ19pZCcgfHwgcGF0aCA9PT0gJ3BhcmVudCcpICYmIG9wZXJhdG9yID09PSAnbGlrZScgJiYgZm9ybWF0dGVkVmFsdWUubGVuZ3RoID09PSAyNCAmJiAhaGFzQ3VzdG9tSUQpIHtcbiAgICAgICAgZm9ybWF0dGVkT3BlcmF0b3IgPSAnZXF1YWxzJztcbiAgICB9XG4gICAgaWYgKG9wZXJhdG9yID09PSAnZXhpc3RzJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlID09PSAndHJ1ZScgfHwgZm9ybWF0dGVkVmFsdWUgPT09IHRydWU7XG4gICAgICAgIC8vIENsZWFyYWJsZSBmaWVsZHNcbiAgICAgICAgaWYgKFtcbiAgICAgICAgICAgICdyZWxhdGlvbnNoaXAnLFxuICAgICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAgICAndXBsb2FkJ1xuICAgICAgICBdLmluY2x1ZGVzKGZpZWxkLnR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByYXdRdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhpc3RzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhd1F1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlcTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBvcGVyYXRvcjogZm9ybWF0dGVkT3BlcmF0b3IsXG4gICAgICAgIHZhbDogZm9ybWF0dGVkVmFsdWVcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemVRdWVyeVZhbHVlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryDrafts: () => (/* binding */ queryDrafts)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/combineQueries.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\n\nconst queryDrafts = async function queryDrafts({ collection, joins, limit, locale, page, pagination, req, select, sort: sortArg, where }) {\n    const VersionModel = this.versions[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__.getSession)(this, req)\n    };\n    let hasNearConstraint;\n    let sort;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || collectionConfig.defaultSort,\n            timestamps: true\n        });\n    }\n    const combinedWhere = (0,payload__WEBPACK_IMPORTED_MODULE_6__.combineQueries)({\n        latest: {\n            equals: true\n        }\n    }, where);\n    const versionQuery = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: combinedWhere\n    });\n    const projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__.buildProjectionFromSelect)({\n        adapter: this,\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_7__.buildVersionCollectionFields)(this.payload.config, collectionConfig, true),\n        select\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !versionQuery || Object.keys(versionQuery).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        options,\n        page,\n        pagination,\n        projection,\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(versionQuery).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(VersionModel.countDocuments(versionQuery, {\n                hint: {\n                    _id: 1\n                }\n            }));\n        };\n    }\n    if (limit > 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n    }\n    let result;\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        locale,\n        projection,\n        query: versionQuery,\n        versions: true\n    });\n    // build join aggregation\n    if (aggregate) {\n        result = await VersionModel.aggregatePaginate(VersionModel.aggregate(aggregate), paginationOptions);\n    } else {\n        result = await VersionModel.paginate(versionQuery, paginationOptions);\n    }\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc = {\n                _id: doc.parent,\n                id: doc.parent,\n                ...doc.version\n            };\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=queryDrafts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJ5RHJhZnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRztBQUNuQztBQUNjO0FBQ1U7QUFDOUI7QUFDd0I7QUFDeEUsaURBQWlELHVGQUF1RjtBQUMvSTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEVBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQix1REFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLGtHQUF5QjtBQUNoRDtBQUNBLGdCQUFnQixxRUFBNEI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdGQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRGQUFzQjtBQUN6QyxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyeURyYWZ0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzLCBjb21iaW5lUXVlcmllcywgZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGJ1aWxkU29ydFBhcmFtIH0gZnJvbSAnLi9xdWVyaWVzL2J1aWxkU29ydFBhcmFtLmpzJztcbmltcG9ydCB7IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRKb2luQWdncmVnYXRpb24uanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IHF1ZXJ5RHJhZnRzID0gYXN5bmMgZnVuY3Rpb24gcXVlcnlEcmFmdHMoeyBjb2xsZWN0aW9uLCBqb2lucywgbGltaXQsIGxvY2FsZSwgcGFnZSwgcGFnaW5hdGlvbiwgcmVxLCBzZWxlY3QsIHNvcnQ6IHNvcnRBcmcsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBWZXJzaW9uTW9kZWwgPSB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db25maWcgPSB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgbGV0IGhhc05lYXJDb25zdHJhaW50O1xuICAgIGxldCBzb3J0O1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgaWYgKCFoYXNOZWFyQ29uc3RyYWludCkge1xuICAgICAgICBzb3J0ID0gYnVpbGRTb3J0UGFyYW0oe1xuICAgICAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiBjb2xsZWN0aW9uQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHNvcnQ6IHNvcnRBcmcgfHwgY29sbGVjdGlvbkNvbmZpZy5kZWZhdWx0U29ydCxcbiAgICAgICAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbWJpbmVkV2hlcmUgPSBjb21iaW5lUXVlcmllcyh7XG4gICAgICAgIGxhdGVzdDoge1xuICAgICAgICAgICAgZXF1YWxzOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LCB3aGVyZSk7XG4gICAgY29uc3QgdmVyc2lvblF1ZXJ5ID0gYXdhaXQgVmVyc2lvbk1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmU6IGNvbWJpbmVkV2hlcmVcbiAgICB9KTtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgIGZpZWxkczogYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCBjb2xsZWN0aW9uQ29uZmlnLCB0cnVlKSxcbiAgICAgICAgc2VsZWN0XG4gICAgfSk7XG4gICAgLy8gdXNlRXN0aW1hdGVkQ291bnQgaXMgZmFzdGVyLCBidXQgbm90IGFjY3VyYXRlLCBhcyBpdCBpZ25vcmVzIGFueSBmaWx0ZXJzLiBJdCBpcyB0aHVzIHNldCB0byB0cnVlIGlmIHRoZXJlIGFyZSBubyBmaWx0ZXJzLlxuICAgIGNvbnN0IHVzZUVzdGltYXRlZENvdW50ID0gaGFzTmVhckNvbnN0cmFpbnQgfHwgIXZlcnNpb25RdWVyeSB8fCBPYmplY3Qua2V5cyh2ZXJzaW9uUXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgbGVhbldpdGhJZDogdHJ1ZSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcGFnaW5hdGlvbixcbiAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgc29ydCxcbiAgICAgICAgdXNlRXN0aW1hdGVkQ291bnRcbiAgICB9O1xuICAgIGlmICh0aGlzLmNvbGxhdGlvbikge1xuICAgICAgICBjb25zdCBkZWZhdWx0TG9jYWxlID0gJ2VuJztcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMuY29sbGF0aW9uID0ge1xuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUgJiYgbG9jYWxlICE9PSAnYWxsJyAmJiBsb2NhbGUgIT09ICcqJyA/IGxvY2FsZSA6IGRlZmF1bHRMb2NhbGUsXG4gICAgICAgICAgICAuLi50aGlzLmNvbGxhdGlvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXVzZUVzdGltYXRlZENvdW50ICYmIE9iamVjdC5rZXlzKHZlcnNpb25RdWVyeSkubGVuZ3RoID09PSAwICYmIHRoaXMuZGlzYWJsZUluZGV4SGludHMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gSW1wcm92ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvdW50RG9jdW1lbnRzIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgaWYgdXNlRXN0aW1hdGVkQ291bnQgaXMgc2V0IHRvIGZhbHNlIGJ5IGFkZGluZ1xuICAgICAgICAvLyBhIGhpbnQuIEJ5IGRlZmF1bHQsIGlmIG5vIGhpbnQgaXMgcHJvdmlkZWQsIE1vbmdvREIgZG9lcyBub3QgdXNlIGFuIGluZGV4ZWQgZmllbGQgdG8gY291bnQgdGhlIHJldHVybmVkIGRvY3VtZW50cyxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgcXVlcmllcyB2ZXJ5IHNsb3cuIFRoaXMgb25seSBoYXBwZW5zIHdoZW4gbm8gcXVlcnkgKGZpbHRlcikgaXMgcHJvdmlkZWQuIElmIG9uZSBpcyBwcm92aWRlZCwgaXQgdXNlc1xuICAgICAgICAvLyB0aGUgY29ycmVjdCBpbmRleGVkIGZpZWxkXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnVzZUN1c3RvbUNvdW50Rm4gPSAoKT0+e1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShWZXJzaW9uTW9kZWwuY291bnREb2N1bWVudHModmVyc2lvblF1ZXJ5LCB7XG4gICAgICAgICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICAgICAgLy8gbGltaXQgbXVzdCBhbHNvIGJlIHNldCBoZXJlLCBpdCdzIGlnbm9yZWQgd2hlbiBwYWdpbmF0aW9uIGlzIGZhbHNlXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLm9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICB9XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBhZ2dyZWdhdGUgPSBhd2FpdCBidWlsZEpvaW5BZ2dyZWdhdGlvbih7XG4gICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGNvbGxlY3Rpb25Db25maWcsXG4gICAgICAgIGpvaW5zLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIHF1ZXJ5OiB2ZXJzaW9uUXVlcnksXG4gICAgICAgIHZlcnNpb25zOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gYnVpbGQgam9pbiBhZ2dyZWdhdGlvblxuICAgIGlmIChhZ2dyZWdhdGUpIHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgVmVyc2lvbk1vZGVsLmFnZ3JlZ2F0ZVBhZ2luYXRlKFZlcnNpb25Nb2RlbC5hZ2dyZWdhdGUoYWdncmVnYXRlKSwgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IFZlcnNpb25Nb2RlbC5wYWdpbmF0ZSh2ZXJzaW9uUXVlcnksIHBhZ2luYXRpb25PcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgZG9jcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LmRvY3MpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGRvY3M6IGRvY3MubWFwKChkb2MpPT57XG4gICAgICAgICAgICBkb2MgPSB7XG4gICAgICAgICAgICAgICAgX2lkOiBkb2MucGFyZW50LFxuICAgICAgICAgICAgICAgIGlkOiBkb2MucGFyZW50LFxuICAgICAgICAgICAgICAgIC4uLmRvYy52ZXJzaW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplSW50ZXJuYWxGaWVsZHMoZG9jKTtcbiAgICAgICAgfSlcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlEcmFmdHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   beginTransaction: () => (/* binding */ beginTransaction)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/APIError.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n// Needs await to fulfill the interface\n// eslint-disable-next-line @typescript-eslint/require-await\nconst beginTransaction = async function beginTransaction(options) {\n    if (!this.connection) {\n        throw new payload__WEBPACK_IMPORTED_MODULE_0__.APIError('beginTransaction called while no connection to the database exists');\n    }\n    const client = this.connection.getClient();\n    const id = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    if (!this.sessions[id]) {\n        this.sessions[id] = client.startSession();\n    }\n    if (this.sessions[id].inTransaction()) {\n        this.payload.logger.warn('beginTransaction called while transaction already exists');\n    } else {\n        this.sessions[id].startTransaction(options || this.transactionOptions);\n    }\n    return id;\n};\n\n//# sourceMappingURL=beginTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9iZWdpblRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNEO0FBQ2xDO0FBQ0E7QUFDTztBQUNQO0FBQ0Esa0JBQWtCLDZDQUFRO0FBQzFCO0FBQ0E7QUFDQSxlQUFlLGdEQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdHJhbnNhY3Rpb25zL2JlZ2luVHJhbnNhY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBJRXJyb3IgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbi8vIE5lZWRzIGF3YWl0IHRvIGZ1bGZpbGwgdGhlIGludGVyZmFjZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXF1aXJlLWF3YWl0XG5leHBvcnQgY29uc3QgYmVnaW5UcmFuc2FjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGJlZ2luVHJhbnNhY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jb25uZWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElFcnJvcignYmVnaW5UcmFuc2FjdGlvbiBjYWxsZWQgd2hpbGUgbm8gY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2UgZXhpc3RzJyk7XG4gICAgfVxuICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuY29ubmVjdGlvbi5nZXRDbGllbnQoKTtcbiAgICBjb25zdCBpZCA9IHV1aWQoKTtcbiAgICBpZiAoIXRoaXMuc2Vzc2lvbnNbaWRdKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbnNbaWRdID0gY2xpZW50LnN0YXJ0U2Vzc2lvbigpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zZXNzaW9uc1tpZF0uaW5UcmFuc2FjdGlvbigpKSB7XG4gICAgICAgIHRoaXMucGF5bG9hZC5sb2dnZXIud2FybignYmVnaW5UcmFuc2FjdGlvbiBjYWxsZWQgd2hpbGUgdHJhbnNhY3Rpb24gYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlc3Npb25zW2lkXS5zdGFydFRyYW5zYWN0aW9uKG9wdGlvbnMgfHwgdGhpcy50cmFuc2FjdGlvbk9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZWdpblRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commitTransaction: () => (/* binding */ commitTransaction)\n/* harmony export */ });\nconst commitTransaction = async function commitTransaction(id) {\n    if (id instanceof Promise) {\n        return;\n    }\n    if (!this.sessions[id]?.inTransaction()) {\n        return;\n    }\n    await this.sessions[id].commitTransaction();\n    try {\n        await this.sessions[id].endSession();\n    } catch (error) {\n    // ending sessions is only best effort and won't impact anything if it fails since the transaction was committed\n    }\n    delete this.sessions[id];\n};\n\n//# sourceMappingURL=commitTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9jb21taXRUcmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdHJhbnNhY3Rpb25zL2NvbW1pdFRyYW5zYWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjb21taXRUcmFuc2FjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGNvbW1pdFRyYW5zYWN0aW9uKGlkKSB7XG4gICAgaWYgKGlkIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5zZXNzaW9uc1tpZF0/LmluVHJhbnNhY3Rpb24oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuc2Vzc2lvbnNbaWRdLmNvbW1pdFRyYW5zYWN0aW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uc1tpZF0uZW5kU2Vzc2lvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gZW5kaW5nIHNlc3Npb25zIGlzIG9ubHkgYmVzdCBlZmZvcnQgYW5kIHdvbid0IGltcGFjdCBhbnl0aGluZyBpZiBpdCBmYWlscyBzaW5jZSB0aGUgdHJhbnNhY3Rpb24gd2FzIGNvbW1pdHRlZFxuICAgIH1cbiAgICBkZWxldGUgdGhpcy5zZXNzaW9uc1tpZF07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21taXRUcmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rollbackTransaction: () => (/* binding */ rollbackTransaction)\n/* harmony export */ });\nconst rollbackTransaction = async function rollbackTransaction(incomingID = '') {\n    let transactionID;\n    if (incomingID instanceof Promise) {\n        transactionID = await incomingID;\n    } else {\n        transactionID = incomingID;\n    }\n    // if multiple operations are using the same transaction, the first will flow through and delete the session.\n    // subsequent calls should be ignored.\n    if (!this.sessions[transactionID]) {\n        return;\n    }\n    // when session exists but is not inTransaction something unexpected is happening to the session\n    if (!this.sessions[transactionID].inTransaction()) {\n        this.payload.logger.warn('rollbackTransaction called when no transaction exists');\n        delete this.sessions[transactionID];\n        return;\n    }\n    // the first call for rollback should be aborted and deleted causing any other operations with the same transaction to fail\n    try {\n        await this.sessions[transactionID].abortTransaction();\n        await this.sessions[transactionID].endSession();\n    } catch (error) {\n    // ignore the error as it is likely a race condition from multiple errors\n    }\n    delete this.sessions[transactionID];\n};\n\n//# sourceMappingURL=rollbackTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9yb2xsYmFja1RyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9yb2xsYmFja1RyYW5zYWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCByb2xsYmFja1RyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gcm9sbGJhY2tUcmFuc2FjdGlvbihpbmNvbWluZ0lEID0gJycpIHtcbiAgICBsZXQgdHJhbnNhY3Rpb25JRDtcbiAgICBpZiAoaW5jb21pbmdJRCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JRCA9IGF3YWl0IGluY29taW5nSUQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JRCA9IGluY29taW5nSUQ7XG4gICAgfVxuICAgIC8vIGlmIG11bHRpcGxlIG9wZXJhdGlvbnMgYXJlIHVzaW5nIHRoZSBzYW1lIHRyYW5zYWN0aW9uLCB0aGUgZmlyc3Qgd2lsbCBmbG93IHRocm91Z2ggYW5kIGRlbGV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAvLyBzdWJzZXF1ZW50IGNhbGxzIHNob3VsZCBiZSBpZ25vcmVkLlxuICAgIGlmICghdGhpcy5zZXNzaW9uc1t0cmFuc2FjdGlvbklEXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHdoZW4gc2Vzc2lvbiBleGlzdHMgYnV0IGlzIG5vdCBpblRyYW5zYWN0aW9uIHNvbWV0aGluZyB1bmV4cGVjdGVkIGlzIGhhcHBlbmluZyB0byB0aGUgc2Vzc2lvblxuICAgIGlmICghdGhpcy5zZXNzaW9uc1t0cmFuc2FjdGlvbklEXS5pblRyYW5zYWN0aW9uKCkpIHtcbiAgICAgICAgdGhpcy5wYXlsb2FkLmxvZ2dlci53YXJuKCdyb2xsYmFja1RyYW5zYWN0aW9uIGNhbGxlZCB3aGVuIG5vIHRyYW5zYWN0aW9uIGV4aXN0cycpO1xuICAgICAgICBkZWxldGUgdGhpcy5zZXNzaW9uc1t0cmFuc2FjdGlvbklEXTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0aGUgZmlyc3QgY2FsbCBmb3Igcm9sbGJhY2sgc2hvdWxkIGJlIGFib3J0ZWQgYW5kIGRlbGV0ZWQgY2F1c2luZyBhbnkgb3RoZXIgb3BlcmF0aW9ucyB3aXRoIHRoZSBzYW1lIHRyYW5zYWN0aW9uIHRvIGZhaWxcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdLmFib3J0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uc1t0cmFuc2FjdGlvbklEXS5lbmRTZXNzaW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBpZ25vcmUgdGhlIGVycm9yIGFzIGl0IGlzIGxpa2VseSBhIHJhY2UgY29uZGl0aW9uIGZyb20gbXVsdGlwbGUgZXJyb3JzXG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm9sbGJhY2tUcmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateGlobal: () => (/* binding */ updateGlobal)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst updateGlobal = async function updateGlobal({ slug, data, options: optionsArgs = {}, req, select }) {\n    const Model = this.globals;\n    const fields = this.payload.config.globals.find((global)=>global.slug === slug).fields;\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.config.globals.find((global)=>global.slug === slug).flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    let result;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields\n    });\n    result = await Model.findOneAndUpdate({\n        globalType: slug\n    }, sanitizedData, options);\n    result = JSON.parse(JSON.stringify(result));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=updateGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZUdsb2JhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRjtBQUM5QjtBQUN3QjtBQUNFO0FBQzFFLG1EQUFtRCxxQ0FBcUMsZUFBZTtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0dBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBLDBCQUEwQiw4RkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RkFBc0I7QUFDbkM7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91cGRhdGVHbG9iYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyc7XG5leHBvcnQgY29uc3QgdXBkYXRlR2xvYmFsID0gYXN5bmMgZnVuY3Rpb24gdXBkYXRlR2xvYmFsKHsgc2x1ZywgZGF0YSwgb3B0aW9uczogb3B0aW9uc0FyZ3MgPSB7fSwgcmVxLCBzZWxlY3QgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5nbG9iYWxzO1xuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMucGF5bG9hZC5jb25maWcuZ2xvYmFscy5maW5kKChnbG9iYWwpPT5nbG9iYWwuc2x1ZyA9PT0gc2x1ZykuZmllbGRzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnNBcmdzLFxuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBuZXc6IHRydWUsXG4gICAgICAgIHByb2plY3Rpb246IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgICAgIGZpZWxkczogdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZpbmQoKGdsb2JhbCk9Pmdsb2JhbC5zbHVnID09PSBzbHVnKS5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGZpZWxkc1xuICAgIH0pO1xuICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe1xuICAgICAgICBnbG9iYWxUeXBlOiBzbHVnXG4gICAgfSwgc2FuaXRpemVkRGF0YSwgb3B0aW9ucyk7XG4gICAgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgcmVzdWx0ID0gc2FuaXRpemVJbnRlcm5hbEZpZWxkcyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVHbG9iYWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateGlobalVersion: () => (/* binding */ updateGlobalVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nasync function updateGlobalVersion({ id, global: globalSlug, locale, options: optionsArgs = {}, req, select, versionData, where }) {\n    const VersionModel = this.versions[globalSlug];\n    const whereToUse = where || {\n        id: {\n            equals: id\n        }\n    };\n    const currentGlobal = this.payload.config.globals.find((global)=>global.slug === globalSlug);\n    const fields = (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionGlobalFields)(this.payload.config, currentGlobal);\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionGlobalFields)(this.payload.config, currentGlobal, true),\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: whereToUse\n    });\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: versionData,\n        fields\n    });\n    const doc = await VersionModel.findOneAndUpdate(query, sanitizedData, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n}\n\n//# sourceMappingURL=updateGlobalVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZUdsb2JhbFZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFDa0M7QUFDOUI7QUFDMEI7QUFDMUUscUNBQXFDLHlEQUF5RCxtQ0FBbUM7QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBLG9CQUFvQixpRUFBd0I7QUFDNUM7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLDhGQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXBkYXRlR2xvYmFsVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplUmVsYXRpb25zaGlwSURzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUdsb2JhbFZlcnNpb24oeyBpZCwgZ2xvYmFsOiBnbG9iYWxTbHVnLCBsb2NhbGUsIG9wdGlvbnM6IG9wdGlvbnNBcmdzID0ge30sIHJlcSwgc2VsZWN0LCB2ZXJzaW9uRGF0YSwgd2hlcmUgfSkge1xuICAgIGNvbnN0IFZlcnNpb25Nb2RlbCA9IHRoaXMudmVyc2lvbnNbZ2xvYmFsU2x1Z107XG4gICAgY29uc3Qgd2hlcmVUb1VzZSA9IHdoZXJlIHx8IHtcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIGVxdWFsczogaWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY3VycmVudEdsb2JhbCA9IHRoaXMucGF5bG9hZC5jb25maWcuZ2xvYmFscy5maW5kKChnbG9iYWwpPT5nbG9iYWwuc2x1ZyA9PT0gZ2xvYmFsU2x1Zyk7XG4gICAgY29uc3QgZmllbGRzID0gYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGN1cnJlbnRHbG9iYWwpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnNBcmdzLFxuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBuZXc6IHRydWUsXG4gICAgICAgIHByb2plY3Rpb246IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgICAgIGZpZWxkczogYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGN1cnJlbnRHbG9iYWwsIHRydWUpLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgVmVyc2lvbk1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmU6IHdoZXJlVG9Vc2VcbiAgICB9KTtcbiAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGE6IHZlcnNpb25EYXRhLFxuICAgICAgICBmaWVsZHNcbiAgICB9KTtcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBWZXJzaW9uTW9kZWwuZmluZE9uZUFuZFVwZGF0ZShxdWVyeSwgc2FuaXRpemVkRGF0YSwgb3B0aW9ucyk7XG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbiA9IGRvYy5fdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIGlmICh2ZXJpZmljYXRpb25Ub2tlbikge1xuICAgICAgICByZXN1bHQuX3ZlcmlmaWNhdGlvblRva2VuID0gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZUdsb2JhbFZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateOne: () => (/* binding */ updateOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_handleError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/handleError.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\n\nconst updateOne = async function updateOne({ id, collection, data, locale, options: optionsArgs = {}, req, select, where: whereArg }) {\n    const where = id ? {\n        id: {\n            equals: id\n        }\n    } : whereArg;\n    const Model = this.collections[collection];\n    const fields = this.payload.collections[collection].config.fields;\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.collections[collection].config.flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    let result;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields\n    });\n    try {\n        result = await Model.findOneAndUpdate(query, sanitizedData, options);\n    } catch (error) {\n        (0,_utilities_handleError_js__WEBPACK_IMPORTED_MODULE_2__.handleError)({\n            collection,\n            error,\n            req\n        });\n    }\n    result = JSON.parse(JSON.stringify(result));\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=updateOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZU9uZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUY7QUFDOUI7QUFDRTtBQUNzQjtBQUNFO0FBQzFFLDZDQUE2Qyx1REFBdUQsZ0NBQWdDO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLDhGQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTixRQUFRLHNFQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUFzQjtBQUNuQztBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZU9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJy4vdXRpbGl0aWVzL2hhbmRsZUVycm9yLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmltcG9ydCB7IHNhbml0aXplUmVsYXRpb25zaGlwSURzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMnO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZU9uZSA9IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9uZSh7IGlkLCBjb2xsZWN0aW9uLCBkYXRhLCBsb2NhbGUsIG9wdGlvbnM6IG9wdGlvbnNBcmdzID0ge30sIHJlcSwgc2VsZWN0LCB3aGVyZTogd2hlcmVBcmcgfSkge1xuICAgIGNvbnN0IHdoZXJlID0gaWQgPyB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgICBlcXVhbHM6IGlkXG4gICAgICAgIH1cbiAgICB9IDogd2hlcmVBcmc7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWcuZmllbGRzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnNBcmdzLFxuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBuZXc6IHRydWUsXG4gICAgICAgIHByb2plY3Rpb246IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgICAgIGZpZWxkczogdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZy5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGZpZWxkc1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmZpbmRPbmVBbmRVcGRhdGUocXVlcnksIHNhbml0aXplZERhdGEsIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHJlcVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIHJlc3VsdCA9IHNhbml0aXplSW50ZXJuYWxGaWVsZHMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlT25lLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateVersion: () => (/* binding */ updateVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst updateVersion = async function updateVersion({ id, collection, locale, options: optionsArgs = {}, req, select, versionData, where }) {\n    const VersionModel = this.versions[collection];\n    const whereToUse = where || {\n        id: {\n            equals: id\n        }\n    };\n    const fields = (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collection].config);\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collection].config, true),\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: whereToUse\n    });\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: versionData,\n        fields\n    });\n    const doc = await VersionModel.findOneAndUpdate(query, sanitizedData, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=updateVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZVZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDOEI7QUFDOUI7QUFDMEI7QUFDMUUscURBQXFELGlEQUFpRCxtQ0FBbUM7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFFQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQSxvQkFBb0IscUVBQTRCO0FBQ2hEO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDBCQUEwQiw4RkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZVZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyc7XG5leHBvcnQgY29uc3QgdXBkYXRlVmVyc2lvbiA9IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVZlcnNpb24oeyBpZCwgY29sbGVjdGlvbiwgbG9jYWxlLCBvcHRpb25zOiBvcHRpb25zQXJncyA9IHt9LCByZXEsIHNlbGVjdCwgdmVyc2lvbkRhdGEsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBWZXJzaW9uTW9kZWwgPSB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IHdoZXJlVG9Vc2UgPSB3aGVyZSB8fCB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgICBlcXVhbHM6IGlkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGZpZWxkcyA9IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZyk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9uc0FyZ3MsXG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWcsIHRydWUpLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgVmVyc2lvbk1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmU6IHdoZXJlVG9Vc2VcbiAgICB9KTtcbiAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGE6IHZlcnNpb25EYXRhLFxuICAgICAgICBmaWVsZHNcbiAgICB9KTtcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBWZXJzaW9uTW9kZWwuZmluZE9uZUFuZFVwZGF0ZShxdWVyeSwgc2FuaXRpemVkRGF0YSwgb3B0aW9ucyk7XG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbiA9IGRvYy5fdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIGlmICh2ZXJpZmljYXRpb25Ub2tlbikge1xuICAgICAgICByZXN1bHQuX3ZlcmlmaWNhdGlvblRva2VuID0gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVWZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   upsert: () => (/* binding */ upsert)\n/* harmony export */ });\nconst upsert = async function upsert({ collection, data, locale, req, select, where }) {\n    return this.updateOne({\n        collection,\n        data,\n        locale,\n        options: {\n            upsert: true\n        },\n        req,\n        select,\n        where\n    });\n};\n\n//# sourceMappingURL=upsert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3Vwc2VydC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sdUNBQXVDLDhDQUE4QztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3Vwc2VydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdXBzZXJ0ID0gYXN5bmMgZnVuY3Rpb24gdXBzZXJ0KHsgY29sbGVjdGlvbiwgZGF0YSwgbG9jYWxlLCByZXEsIHNlbGVjdCwgd2hlcmUgfSkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZU9uZSh7XG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgdXBzZXJ0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHJlcSxcbiAgICAgICAgc2VsZWN0LFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBzZXJ0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildJoinAggregation: () => (/* binding */ buildJoinAggregation)\n/* harmony export */ });\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n\nconst buildJoinAggregation = async ({ adapter, collection, collectionConfig, joins, limit, locale, projection, query, versions })=>{\n    if (Object.keys(collectionConfig.joins).length === 0 || joins === false) {\n        return;\n    }\n    const joinConfig = adapter.payload.collections[collection].config.joins;\n    const aggregate = [\n        {\n            $sort: {\n                createdAt: -1\n            }\n        }\n    ];\n    if (query) {\n        aggregate.push({\n            $match: query\n        });\n    }\n    if (limit) {\n        aggregate.push({\n            $limit: limit\n        });\n    }\n    for (const slug of Object.keys(joinConfig)){\n        for (const join of joinConfig[slug]){\n            const joinModel = adapter.collections[join.field.collection];\n            if (projection && !projection[join.joinPath]) {\n                continue;\n            }\n            if (joins?.[join.joinPath] === false) {\n                continue;\n            }\n            const { limit: limitJoin = join.field.defaultLimit ?? 10, sort: sortJoin = join.field.defaultSort || collectionConfig.defaultSort, where: whereJoin } = joins?.[join.joinPath] || {};\n            const sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n                config: adapter.payload.config,\n                fields: adapter.payload.collections[slug].config.flattenedFields,\n                locale,\n                sort: sortJoin,\n                timestamps: true\n            });\n            const sortProperty = Object.keys(sort)[0];\n            const sortDirection = sort[sortProperty] === 'asc' ? 1 : -1;\n            const $match = await joinModel.buildQuery({\n                locale,\n                payload: adapter.payload,\n                where: whereJoin\n            });\n            const pipeline = [\n                {\n                    $match\n                },\n                {\n                    $sort: {\n                        [sortProperty]: sortDirection\n                    }\n                }\n            ];\n            if (limitJoin > 0) {\n                pipeline.push({\n                    $limit: limitJoin + 1\n                });\n            }\n            let polymorphicSuffix = '';\n            if (Array.isArray(join.targetField.relationTo)) {\n                polymorphicSuffix = '.value';\n            }\n            if (adapter.payload.config.localization && locale === 'all') {\n                adapter.payload.config.localization.localeCodes.forEach((code)=>{\n                    const as = `${versions ? `version.${join.joinPath}` : join.joinPath}${code}`;\n                    aggregate.push({\n                        $lookup: {\n                            as: `${as}.docs`,\n                            foreignField: `${join.field.on}${code}${polymorphicSuffix}`,\n                            from: adapter.collections[slug].collection.name,\n                            localField: versions ? 'parent' : '_id',\n                            pipeline\n                        }\n                    }, {\n                        $addFields: {\n                            [`${as}.docs`]: {\n                                $map: {\n                                    as: 'doc',\n                                    in: '$$doc._id',\n                                    input: `$${as}.docs`\n                                }\n                            },\n                            [`${as}.hasNextPage`]: limitJoin ? {\n                                $gt: [\n                                    {\n                                        $size: `$${as}.docs`\n                                    },\n                                    limitJoin\n                                ]\n                            } : false\n                        }\n                    });\n                    if (limitJoin > 0) {\n                        aggregate.push({\n                            $addFields: {\n                                [`${as}.docs`]: {\n                                    $slice: [\n                                        `$${as}.docs`,\n                                        limitJoin\n                                    ]\n                                }\n                            }\n                        });\n                    }\n                });\n            } else {\n                const localeSuffix = join.field.localized && adapter.payload.config.localization && locale ? `.${locale}` : '';\n                const as = `${versions ? `version.${join.joinPath}` : join.joinPath}${localeSuffix}`;\n                aggregate.push({\n                    $lookup: {\n                        as: `${as}.docs`,\n                        foreignField: `${join.field.on}${localeSuffix}${polymorphicSuffix}`,\n                        from: adapter.collections[slug].collection.name,\n                        localField: versions ? 'parent' : '_id',\n                        pipeline\n                    }\n                }, {\n                    $addFields: {\n                        [`${as}.docs`]: {\n                            $map: {\n                                as: 'doc',\n                                in: '$$doc._id',\n                                input: `$${as}.docs`\n                            }\n                        },\n                        [`${as}.hasNextPage`]: {\n                            $gt: [\n                                {\n                                    $size: `$${as}.docs`\n                                },\n                                limitJoin || Number.MAX_VALUE\n                            ]\n                        }\n                    }\n                });\n                if (limitJoin > 0) {\n                    aggregate.push({\n                        $addFields: {\n                            [`${as}.docs`]: {\n                                $slice: [\n                                    `$${as}.docs`,\n                                    limitJoin\n                                ]\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    }\n    if (projection) {\n        aggregate.push({\n            $project: projection\n        });\n    }\n    return aggregate;\n};\n\n//# sourceMappingURL=buildJoinAggregation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4RDtBQUN2RCxzQ0FBc0MsMEZBQTBGO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOElBQThJO0FBQ2xLLHlCQUF5QiwwRUFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNCQUFzQixjQUFjLGtCQUFrQixFQUFFLEtBQUs7QUFDL0Y7QUFDQTtBQUNBLG1DQUFtQyxHQUFHO0FBQ3RDLDZDQUE2QyxjQUFjLEVBQUUsS0FBSyxFQUFFLGtCQUFrQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdDQUFnQyxHQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxHQUFHO0FBQ2xEO0FBQ0EsNkJBQTZCO0FBQzdCLGdDQUFnQyxHQUFHO0FBQ25DO0FBQ0E7QUFDQSxtREFBbUQsR0FBRztBQUN0RCxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsR0FBRztBQUN2QztBQUNBLDRDQUE0QyxHQUFHO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZCxpSEFBaUgsT0FBTztBQUN4SCw4QkFBOEIsc0JBQXNCLGNBQWMsa0JBQWtCLEVBQUUsYUFBYTtBQUNuRztBQUNBO0FBQ0EsK0JBQStCLEdBQUc7QUFDbEMseUNBQXlDLGNBQWMsRUFBRSxhQUFhLEVBQUUsa0JBQWtCO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNEJBQTRCLEdBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLEdBQUc7QUFDOUM7QUFDQSx5QkFBeUI7QUFDekIsNEJBQTRCLEdBQUc7QUFDL0I7QUFDQTtBQUNBLCtDQUErQyxHQUFHO0FBQ2xELGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsR0FBRztBQUNuQztBQUNBLHdDQUF3QyxHQUFHO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91dGlsaXRpZXMvYnVpbGRKb2luQWdncmVnYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRTb3J0UGFyYW0gfSBmcm9tICcuLi9xdWVyaWVzL2J1aWxkU29ydFBhcmFtLmpzJztcbmV4cG9ydCBjb25zdCBidWlsZEpvaW5BZ2dyZWdhdGlvbiA9IGFzeW5jICh7IGFkYXB0ZXIsIGNvbGxlY3Rpb24sIGNvbGxlY3Rpb25Db25maWcsIGpvaW5zLCBsaW1pdCwgbG9jYWxlLCBwcm9qZWN0aW9uLCBxdWVyeSwgdmVyc2lvbnMgfSk9PntcbiAgICBpZiAoT2JqZWN0LmtleXMoY29sbGVjdGlvbkNvbmZpZy5qb2lucykubGVuZ3RoID09PSAwIHx8IGpvaW5zID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGpvaW5Db25maWcgPSBhZGFwdGVyLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnLmpvaW5zO1xuICAgIGNvbnN0IGFnZ3JlZ2F0ZSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgJHNvcnQ6IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC0xXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdO1xuICAgIGlmIChxdWVyeSkge1xuICAgICAgICBhZ2dyZWdhdGUucHVzaCh7XG4gICAgICAgICAgICAkbWF0Y2g6IHF1ZXJ5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobGltaXQpIHtcbiAgICAgICAgYWdncmVnYXRlLnB1c2goe1xuICAgICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzbHVnIG9mIE9iamVjdC5rZXlzKGpvaW5Db25maWcpKXtcbiAgICAgICAgZm9yIChjb25zdCBqb2luIG9mIGpvaW5Db25maWdbc2x1Z10pe1xuICAgICAgICAgICAgY29uc3Qgam9pbk1vZGVsID0gYWRhcHRlci5jb2xsZWN0aW9uc1tqb2luLmZpZWxkLmNvbGxlY3Rpb25dO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgIXByb2plY3Rpb25bam9pbi5qb2luUGF0aF0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqb2lucz8uW2pvaW4uam9pblBhdGhdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBsaW1pdDogbGltaXRKb2luID0gam9pbi5maWVsZC5kZWZhdWx0TGltaXQgPz8gMTAsIHNvcnQ6IHNvcnRKb2luID0gam9pbi5maWVsZC5kZWZhdWx0U29ydCB8fCBjb2xsZWN0aW9uQ29uZmlnLmRlZmF1bHRTb3J0LCB3aGVyZTogd2hlcmVKb2luIH0gPSBqb2lucz8uW2pvaW4uam9pblBhdGhdIHx8IHt9O1xuICAgICAgICAgICAgY29uc3Qgc29ydCA9IGJ1aWxkU29ydFBhcmFtKHtcbiAgICAgICAgICAgICAgICBjb25maWc6IGFkYXB0ZXIucGF5bG9hZC5jb25maWcsXG4gICAgICAgICAgICAgICAgZmllbGRzOiBhZGFwdGVyLnBheWxvYWQuY29sbGVjdGlvbnNbc2x1Z10uY29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgc29ydDogc29ydEpvaW4sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wczogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzb3J0UHJvcGVydHkgPSBPYmplY3Qua2V5cyhzb3J0KVswXTtcbiAgICAgICAgICAgIGNvbnN0IHNvcnREaXJlY3Rpb24gPSBzb3J0W3NvcnRQcm9wZXJ0eV0gPT09ICdhc2MnID8gMSA6IC0xO1xuICAgICAgICAgICAgY29uc3QgJG1hdGNoID0gYXdhaXQgam9pbk1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBhZGFwdGVyLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgd2hlcmU6IHdoZXJlSm9pblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwaXBlbGluZSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICRtYXRjaFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAkc29ydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3NvcnRQcm9wZXJ0eV06IHNvcnREaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAobGltaXRKb2luID4gMCkge1xuICAgICAgICAgICAgICAgIHBpcGVsaW5lLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAkbGltaXQ6IGxpbWl0Sm9pbiArIDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwb2x5bW9ycGhpY1N1ZmZpeCA9ICcnO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoam9pbi50YXJnZXRGaWVsZC5yZWxhdGlvblRvKSkge1xuICAgICAgICAgICAgICAgIHBvbHltb3JwaGljU3VmZml4ID0gJy52YWx1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRhcHRlci5wYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24gJiYgbG9jYWxlID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgIGFkYXB0ZXIucGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uLmxvY2FsZUNvZGVzLmZvckVhY2goKGNvZGUpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzID0gYCR7dmVyc2lvbnMgPyBgdmVyc2lvbi4ke2pvaW4uam9pblBhdGh9YCA6IGpvaW4uam9pblBhdGh9JHtjb2RlfWA7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb29rdXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhczogYCR7YXN9LmRvY3NgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25GaWVsZDogYCR7am9pbi5maWVsZC5vbn0ke2NvZGV9JHtwb2x5bW9ycGhpY1N1ZmZpeH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGFkYXB0ZXIuY29sbGVjdGlvbnNbc2x1Z10uY29sbGVjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsRmllbGQ6IHZlcnNpb25zID8gJ3BhcmVudCcgOiAnX2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBlbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYWRkRmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake2FzfS5kb2NzYF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXM6ICdkb2MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW46ICckJGRvYy5faWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGAkJHthc30uZG9jc2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake2FzfS5oYXNOZXh0UGFnZWBdOiBsaW1pdEpvaW4gPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRndDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaXplOiBgJCR7YXN9LmRvY3NgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRKb2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdEpvaW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFkZEZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7YXN9LmRvY3NgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNsaWNlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCQke2FzfS5kb2NzYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdEpvaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsZVN1ZmZpeCA9IGpvaW4uZmllbGQubG9jYWxpemVkICYmIGFkYXB0ZXIucGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uICYmIGxvY2FsZSA/IGAuJHtsb2NhbGV9YCA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFzID0gYCR7dmVyc2lvbnMgPyBgdmVyc2lvbi4ke2pvaW4uam9pblBhdGh9YCA6IGpvaW4uam9pblBhdGh9JHtsb2NhbGVTdWZmaXh9YDtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICRsb29rdXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzOiBgJHthc30uZG9jc2AsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JlaWduRmllbGQ6IGAke2pvaW4uZmllbGQub259JHtsb2NhbGVTdWZmaXh9JHtwb2x5bW9ycGhpY1N1ZmZpeH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogYWRhcHRlci5jb2xsZWN0aW9uc1tzbHVnXS5jb2xsZWN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZpZWxkOiB2ZXJzaW9ucyA/ICdwYXJlbnQnIDogJ19pZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaXBlbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAkYWRkRmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbYCR7YXN9LmRvY3NgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXM6ICdkb2MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjogJyQkZG9jLl9pZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBgJCR7YXN9LmRvY3NgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtgJHthc30uaGFzTmV4dFBhZ2VgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRndDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2l6ZTogYCQke2FzfS5kb2NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdEpvaW4gfHwgTnVtYmVyLk1BWF9WQUxVRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdEpvaW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhZGRGaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7YXN9LmRvY3NgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2xpY2U6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAkJHthc30uZG9jc2AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdEpvaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICRwcm9qZWN0OiBwcm9qZWN0aW9uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWdncmVnYXRlO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRKb2luQWdncmVnYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildProjectionFromSelect: () => (/* binding */ buildProjectionFromSelect)\n/* harmony export */ });\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/deepCopyObject.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/getSelectMode.js\");\n\nconst addFieldToProjection = ({ adapter, databaseSchemaPath, field, projection, withinLocalizedField })=>{\n    const { config } = adapter.payload;\n    if (withinLocalizedField && config.localization) {\n        for (const locale of config.localization.localeCodes){\n            const localeDatabaseSchemaPath = databaseSchemaPath.replace('<locale>', locale);\n            projection[`${localeDatabaseSchemaPath}${field.name}`] = true;\n        }\n    } else {\n        projection[`${databaseSchemaPath}${field.name}`] = true;\n    }\n};\nconst traverseFields = ({ adapter, databaseSchemaPath = '', fields, projection, select, selectAllOnCurrentLevel = false, selectMode, withinLocalizedField = false })=>{\n    for (const field of fields){\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field)) {\n            if (selectMode === 'include') {\n                if (select[field.name] === true || selectAllOnCurrentLevel) {\n                    addFieldToProjection({\n                        adapter,\n                        databaseSchemaPath,\n                        field,\n                        projection,\n                        withinLocalizedField\n                    });\n                    continue;\n                }\n                if (!select[field.name]) {\n                    continue;\n                }\n            }\n            if (selectMode === 'exclude') {\n                if (typeof select[field.name] === 'undefined') {\n                    addFieldToProjection({\n                        adapter,\n                        databaseSchemaPath,\n                        field,\n                        projection,\n                        withinLocalizedField\n                    });\n                    continue;\n                }\n                if (select[field.name] === false) {\n                    continue;\n                }\n            }\n        }\n        let fieldDatabaseSchemaPath = databaseSchemaPath;\n        let fieldWithinLocalizedField = withinLocalizedField;\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field)) {\n            fieldDatabaseSchemaPath = `${databaseSchemaPath}${field.name}.`;\n            if (field.localized) {\n                fieldDatabaseSchemaPath = `${fieldDatabaseSchemaPath}<locale>.`;\n                fieldWithinLocalizedField = true;\n            }\n        }\n        switch(field.type){\n            case 'array':\n            case 'group':\n            case 'tab':\n                {\n                    const fieldSelect = select[field.name];\n                    if (field.type === 'array' && selectMode === 'include') {\n                        fieldSelect['id'] = true;\n                    }\n                    traverseFields({\n                        adapter,\n                        databaseSchemaPath: fieldDatabaseSchemaPath,\n                        fields: field.flattenedFields,\n                        projection,\n                        select: fieldSelect,\n                        selectMode,\n                        withinLocalizedField: fieldWithinLocalizedField\n                    });\n                    break;\n                }\n            case 'blocks':\n                {\n                    const blocksSelect = select[field.name];\n                    for (const block of field.blocks){\n                        if (selectMode === 'include' && blocksSelect[block.slug] === true || selectMode === 'exclude' && typeof blocksSelect[block.slug] === 'undefined') {\n                            traverseFields({\n                                adapter,\n                                databaseSchemaPath: fieldDatabaseSchemaPath,\n                                fields: block.flattenedFields,\n                                projection,\n                                select: {},\n                                selectAllOnCurrentLevel: true,\n                                selectMode: 'include',\n                                withinLocalizedField: fieldWithinLocalizedField\n                            });\n                            continue;\n                        }\n                        let blockSelectMode = selectMode;\n                        if (selectMode === 'exclude' && blocksSelect[block.slug] === false) {\n                            blockSelectMode = 'include';\n                        }\n                        if (typeof blocksSelect[block.slug] !== 'object') {\n                            blocksSelect[block.slug] = {};\n                        }\n                        if (blockSelectMode === 'include') {\n                            blocksSelect[block.slug]['id'] = true;\n                            blocksSelect[block.slug]['blockType'] = true;\n                        }\n                        traverseFields({\n                            adapter,\n                            databaseSchemaPath: fieldDatabaseSchemaPath,\n                            fields: block.flattenedFields,\n                            projection,\n                            select: blocksSelect[block.slug],\n                            selectMode: blockSelectMode,\n                            withinLocalizedField: fieldWithinLocalizedField\n                        });\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n    }\n};\nconst buildProjectionFromSelect = ({ adapter, fields, select })=>{\n    if (!select) {\n        return;\n    }\n    const projection = {\n        _id: true\n    };\n    traverseFields({\n        adapter,\n        fields,\n        projection,\n        // Clone to safely mutate it later\n        select: (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.deepCopyObjectSimple)(select),\n        selectMode: (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.getSelectMode)(select)\n    });\n    return projection;\n};\n\n//# sourceMappingURL=buildProjectionFromSelect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUY7QUFDdkYsZ0NBQWdDLHNFQUFzRTtBQUN0RyxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QixFQUFFLFdBQVc7QUFDaEU7QUFDQSxNQUFNO0FBQ04sc0JBQXNCLG1CQUFtQixFQUFFLFdBQVc7QUFDdEQ7QUFDQTtBQUNBLDBCQUEwQix5SUFBeUk7QUFDbks7QUFDQSxZQUFZLGdFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZ0I7QUFDNUIseUNBQXlDLG1CQUFtQixFQUFFLFdBQVc7QUFDekU7QUFDQSw2Q0FBNkMsd0JBQXdCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyx5QkFBeUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvRUFBb0I7QUFDcEMsb0JBQW9CLDZEQUFhO0FBQ2pDLEtBQUs7QUFDTDtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZXBDb3B5T2JqZWN0U2ltcGxlLCBmaWVsZEFmZmVjdHNEYXRhLCBnZXRTZWxlY3RNb2RlIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuY29uc3QgYWRkRmllbGRUb1Byb2plY3Rpb24gPSAoeyBhZGFwdGVyLCBkYXRhYmFzZVNjaGVtYVBhdGgsIGZpZWxkLCBwcm9qZWN0aW9uLCB3aXRoaW5Mb2NhbGl6ZWRGaWVsZCB9KT0+e1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSBhZGFwdGVyLnBheWxvYWQ7XG4gICAgaWYgKHdpdGhpbkxvY2FsaXplZEZpZWxkICYmIGNvbmZpZy5sb2NhbGl6YXRpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBsb2NhbGUgb2YgY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVDb2Rlcyl7XG4gICAgICAgICAgICBjb25zdCBsb2NhbGVEYXRhYmFzZVNjaGVtYVBhdGggPSBkYXRhYmFzZVNjaGVtYVBhdGgucmVwbGFjZSgnPGxvY2FsZT4nLCBsb2NhbGUpO1xuICAgICAgICAgICAgcHJvamVjdGlvbltgJHtsb2NhbGVEYXRhYmFzZVNjaGVtYVBhdGh9JHtmaWVsZC5uYW1lfWBdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2plY3Rpb25bYCR7ZGF0YWJhc2VTY2hlbWFQYXRofSR7ZmllbGQubmFtZX1gXSA9IHRydWU7XG4gICAgfVxufTtcbmNvbnN0IHRyYXZlcnNlRmllbGRzID0gKHsgYWRhcHRlciwgZGF0YWJhc2VTY2hlbWFQYXRoID0gJycsIGZpZWxkcywgcHJvamVjdGlvbiwgc2VsZWN0LCBzZWxlY3RBbGxPbkN1cnJlbnRMZXZlbCA9IGZhbHNlLCBzZWxlY3RNb2RlLCB3aXRoaW5Mb2NhbGl6ZWRGaWVsZCA9IGZhbHNlIH0pPT57XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpe1xuICAgICAgICBpZiAoZmllbGRBZmZlY3RzRGF0YShmaWVsZCkpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RNb2RlID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0W2ZpZWxkLm5hbWVdID09PSB0cnVlIHx8IHNlbGVjdEFsbE9uQ3VycmVudExldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEZpZWxkVG9Qcm9qZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZVNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB3aXRoaW5Mb2NhbGl6ZWRGaWVsZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0W2ZpZWxkLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3RNb2RlID09PSAnZXhjbHVkZScpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdFtmaWVsZC5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRmllbGRUb1Byb2plY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhpbkxvY2FsaXplZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdFtmaWVsZC5uYW1lXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBmaWVsZERhdGFiYXNlU2NoZW1hUGF0aCA9IGRhdGFiYXNlU2NoZW1hUGF0aDtcbiAgICAgICAgbGV0IGZpZWxkV2l0aGluTG9jYWxpemVkRmllbGQgPSB3aXRoaW5Mb2NhbGl6ZWRGaWVsZDtcbiAgICAgICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgICAgICAgICBmaWVsZERhdGFiYXNlU2NoZW1hUGF0aCA9IGAke2RhdGFiYXNlU2NoZW1hUGF0aH0ke2ZpZWxkLm5hbWV9LmA7XG4gICAgICAgICAgICBpZiAoZmllbGQubG9jYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgZmllbGREYXRhYmFzZVNjaGVtYVBhdGggPSBgJHtmaWVsZERhdGFiYXNlU2NoZW1hUGF0aH08bG9jYWxlPi5gO1xuICAgICAgICAgICAgICAgIGZpZWxkV2l0aGluTG9jYWxpemVkRmllbGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaChmaWVsZC50eXBlKXtcbiAgICAgICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgIGNhc2UgJ3RhYic6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNlbGVjdCA9IHNlbGVjdFtmaWVsZC5uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdhcnJheScgJiYgc2VsZWN0TW9kZSA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFNlbGVjdFsnaWQnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU2NoZW1hUGF0aDogZmllbGREYXRhYmFzZVNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IGZpZWxkU2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhpbkxvY2FsaXplZEZpZWxkOiBmaWVsZFdpdGhpbkxvY2FsaXplZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdibG9ja3MnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tzU2VsZWN0ID0gc2VsZWN0W2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGZpZWxkLmJsb2Nrcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0TW9kZSA9PT0gJ2luY2x1ZGUnICYmIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSA9PT0gdHJ1ZSB8fCBzZWxlY3RNb2RlID09PSAnZXhjbHVkZScgJiYgdHlwZW9mIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU2NoZW1hUGF0aDogZmllbGREYXRhYmFzZVNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGxPbkN1cnJlbnRMZXZlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TW9kZTogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoaW5Mb2NhbGl6ZWRGaWVsZDogZmllbGRXaXRoaW5Mb2NhbGl6ZWRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2NrU2VsZWN0TW9kZSA9IHNlbGVjdE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0TW9kZSA9PT0gJ2V4Y2x1ZGUnICYmIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja1NlbGVjdE1vZGUgPSAnaW5jbHVkZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NTZWxlY3RbYmxvY2suc2x1Z10gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja1NlbGVjdE1vZGUgPT09ICdpbmNsdWRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXVsnaWQnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddWydibG9ja1R5cGUnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZVNjaGVtYVBhdGg6IGZpZWxkRGF0YWJhc2VTY2hlbWFQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBibG9ja3NTZWxlY3RbYmxvY2suc2x1Z10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TW9kZTogYmxvY2tTZWxlY3RNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhpbkxvY2FsaXplZEZpZWxkOiBmaWVsZFdpdGhpbkxvY2FsaXplZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0ID0gKHsgYWRhcHRlciwgZmllbGRzLCBzZWxlY3QgfSk9PntcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3Rpb24gPSB7XG4gICAgICAgIF9pZDogdHJ1ZVxuICAgIH07XG4gICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICBhZGFwdGVyLFxuICAgICAgICBmaWVsZHMsXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIC8vIENsb25lIHRvIHNhZmVseSBtdXRhdGUgaXQgbGF0ZXJcbiAgICAgICAgc2VsZWN0OiBkZWVwQ29weU9iamVjdFNpbXBsZShzZWxlY3QpLFxuICAgICAgICBzZWxlY3RNb2RlOiBnZXRTZWxlY3RNb2RlKHNlbGVjdClcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvamVjdGlvbjtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDBName: () => (/* binding */ getDBName)\n/* harmony export */ });\n/**\n * Used to name database enums and collections\n * Returns the collection or enum name for a given entity\n */ const getDBName = ({ config: { name, slug }, config, target = 'dbName', versions = false })=>{\n    let result;\n    let custom = config[target];\n    if (!custom && target === 'enumName') {\n        custom = config['dbName'];\n    }\n    if (custom) {\n        result = typeof custom === 'function' ? custom({}) : custom;\n    } else {\n        result = name ?? slug;\n    }\n    if (versions) {\n        result = `_${result}_versions`;\n    }\n    return result;\n};\n\n//# sourceMappingURL=getDBName.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9nZXREQk5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLElBQVcscUJBQXFCLFVBQVUsWUFBWSwrQ0FBK0M7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXRpbGl0aWVzL2dldERCTmFtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFVzZWQgdG8gbmFtZSBkYXRhYmFzZSBlbnVtcyBhbmQgY29sbGVjdGlvbnNcbiAqIFJldHVybnMgdGhlIGNvbGxlY3Rpb24gb3IgZW51bSBuYW1lIGZvciBhIGdpdmVuIGVudGl0eVxuICovIGV4cG9ydCBjb25zdCBnZXREQk5hbWUgPSAoeyBjb25maWc6IHsgbmFtZSwgc2x1ZyB9LCBjb25maWcsIHRhcmdldCA9ICdkYk5hbWUnLCB2ZXJzaW9ucyA9IGZhbHNlIH0pPT57XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgY3VzdG9tID0gY29uZmlnW3RhcmdldF07XG4gICAgaWYgKCFjdXN0b20gJiYgdGFyZ2V0ID09PSAnZW51bU5hbWUnKSB7XG4gICAgICAgIGN1c3RvbSA9IGNvbmZpZ1snZGJOYW1lJ107XG4gICAgfVxuICAgIGlmIChjdXN0b20pIHtcbiAgICAgICAgcmVzdWx0ID0gdHlwZW9mIGN1c3RvbSA9PT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbSh7fSkgOiBjdXN0b207XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmFtZSA/PyBzbHVnO1xuICAgIH1cbiAgICBpZiAodmVyc2lvbnMpIHtcbiAgICAgICAgcmVzdWx0ID0gYF8ke3Jlc3VsdH1fdmVyc2lvbnNgO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0REJOYW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSession: () => (/* binding */ getSession)\n/* harmony export */ });\n/**\n * returns the session belonging to the transaction of the req.session if exists\n * @returns ClientSession\n */ async function getSession(db, req) {\n    if (!req) {\n        return;\n    }\n    let transactionID = req.transactionID;\n    if (transactionID instanceof Promise) {\n        transactionID = await req.transactionID;\n    }\n    if (transactionID) {\n        return db.sessions[transactionID];\n    }\n}\n\n//# sourceMappingURL=getSession.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHJldHVybnMgdGhlIHNlc3Npb24gYmVsb25naW5nIHRvIHRoZSB0cmFuc2FjdGlvbiBvZiB0aGUgcmVxLnNlc3Npb24gaWYgZXhpc3RzXG4gKiBAcmV0dXJucyBDbGllbnRTZXNzaW9uXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb24oZGIsIHJlcSkge1xuICAgIGlmICghcmVxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHRyYW5zYWN0aW9uSUQgPSByZXEudHJhbnNhY3Rpb25JRDtcbiAgICBpZiAodHJhbnNhY3Rpb25JRCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JRCA9IGF3YWl0IHJlcS50cmFuc2FjdGlvbklEO1xuICAgIH1cbiAgICBpZiAodHJhbnNhY3Rpb25JRCkge1xuICAgICAgICByZXR1cm4gZGIuc2Vzc2lvbnNbdHJhbnNhY3Rpb25JRF07XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTZXNzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleError: () => (/* binding */ handleError)\n/* harmony export */ });\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http-status */ \"(rsc)/../node_modules/.pnpm/http-status@1.6.2/node_modules/http-status/lib/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/ValidationError.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/APIError.js\");\n\n\nconst handleError = ({ collection, error, global, req })=>{\n    if (!error || typeof error !== 'object') {\n        throw error;\n    }\n    const message = req?.t ? req.t('error:valueMustBeUnique') : 'Value must be unique';\n    // Handle uniqueness error from MongoDB\n    if ('code' in error && error.code === 11000 && 'keyValue' in error && error.keyValue) {\n        throw new payload__WEBPACK_IMPORTED_MODULE_1__.ValidationError({\n            collection,\n            errors: [\n                {\n                    message,\n                    path: Object.keys(error.keyValue)[0]\n                }\n            ],\n            global\n        }, req?.t);\n    }\n    throw new payload__WEBPACK_IMPORTED_MODULE_2__.APIError(message, http_status__WEBPACK_IMPORTED_MODULE_0__.BAD_REQUEST);\n};\n\n//# sourceMappingURL=handleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9oYW5kbGVFcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBQ2U7QUFDN0MsdUJBQXVCLGdDQUFnQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0RBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGNBQWMsNkNBQVEsVUFBVSxvREFBc0I7QUFDdEQ7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW5rdXMvR2l0aHViL21vbm90d28vcGF5bG9hZC1wbHVnaW4tbWV0YS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXRpbGl0aWVzL2hhbmRsZUVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBodHRwU3RhdHVzIGZyb20gJ2h0dHAtc3RhdHVzJztcbmltcG9ydCB7IEFQSUVycm9yLCBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdwYXlsb2FkJztcbmV4cG9ydCBjb25zdCBoYW5kbGVFcnJvciA9ICh7IGNvbGxlY3Rpb24sIGVycm9yLCBnbG9iYWwsIHJlcSB9KT0+e1xuICAgIGlmICghZXJyb3IgfHwgdHlwZW9mIGVycm9yICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IHJlcT8udCA/IHJlcS50KCdlcnJvcjp2YWx1ZU11c3RCZVVuaXF1ZScpIDogJ1ZhbHVlIG11c3QgYmUgdW5pcXVlJztcbiAgICAvLyBIYW5kbGUgdW5pcXVlbmVzcyBlcnJvciBmcm9tIE1vbmdvREJcbiAgICBpZiAoJ2NvZGUnIGluIGVycm9yICYmIGVycm9yLmNvZGUgPT09IDExMDAwICYmICdrZXlWYWx1ZScgaW4gZXJyb3IgJiYgZXJyb3Iua2V5VmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBPYmplY3Qua2V5cyhlcnJvci5rZXlWYWx1ZSlbMF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZ2xvYmFsXG4gICAgICAgIH0sIHJlcT8udCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBBUElFcnJvcihtZXNzYWdlLCBodHRwU3RhdHVzLkJBRF9SRVFVRVNUKTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhbmRsZUVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeInternalFields: () => (/* binding */ sanitizeInternalFields)\n/* harmony export */ });\nconst internalFields = [\n    '__v'\n];\nconst sanitizeInternalFields = (incomingDoc)=>Object.entries(incomingDoc).reduce((newDoc, [key, val])=>{\n        if (key === '_id') {\n            return {\n                ...newDoc,\n                id: val\n            };\n        }\n        if (internalFields.indexOf(key) > -1) {\n            return newDoc;\n        }\n        return {\n            ...newDoc,\n            [key]: val\n        };\n    }, {});\n\n//# sourceMappingURL=sanitizeInternalFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJOztBQUVUIiwic291cmNlcyI6WyIvVXNlcnMvbGlua3VzL0dpdGh1Yi9tb25vdHdvL3BheWxvYWQtcGx1Z2luLW1ldGEvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludGVybmFsRmllbGRzID0gW1xuICAgICdfX3YnXG5dO1xuZXhwb3J0IGNvbnN0IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgPSAoaW5jb21pbmdEb2MpPT5PYmplY3QuZW50cmllcyhpbmNvbWluZ0RvYykucmVkdWNlKChuZXdEb2MsIFtrZXksIHZhbF0pPT57XG4gICAgICAgIGlmIChrZXkgPT09ICdfaWQnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm5ld0RvYyxcbiAgICAgICAgICAgICAgICBpZDogdmFsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcm5hbEZpZWxkcy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld0RvYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ubmV3RG9jLFxuICAgICAgICAgICAgW2tleV06IHZhbFxuICAgICAgICB9O1xuICAgIH0sIHt9KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeRelationshipIDs: () => (/* binding */ sanitizeRelationshipIDs)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/traverseFields.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\n\n\nfunction isValidRelationObject(value) {\n    return typeof value === 'object' && value !== null && 'relationTo' in value && 'value' in value;\n}\nconst convertValue = ({ relatedCollection, value })=>{\n    const customIDField = relatedCollection.fields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id');\n    if (customIDField) {\n        return value;\n    }\n    try {\n        return new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(value);\n    } catch  {\n        return value;\n    }\n};\nconst sanitizeRelationship = ({ config, field, locale, ref, value })=>{\n    let relatedCollection;\n    let result = value;\n    const hasManyRelations = typeof field.relationTo !== 'string';\n    if (!hasManyRelations) {\n        relatedCollection = config.collections?.find(({ slug })=>slug === field.relationTo);\n    }\n    if (Array.isArray(value)) {\n        result = value.map((val)=>{\n            // Handle has many\n            if (relatedCollection && val && (typeof val === 'string' || typeof val === 'number')) {\n                return convertValue({\n                    relatedCollection,\n                    value: val\n                });\n            }\n            // Handle has many - polymorphic\n            if (isValidRelationObject(val)) {\n                const relatedCollectionForSingleValue = config.collections?.find(({ slug })=>slug === val.relationTo);\n                if (relatedCollectionForSingleValue) {\n                    return {\n                        relationTo: val.relationTo,\n                        value: convertValue({\n                            relatedCollection: relatedCollectionForSingleValue,\n                            value: val.value\n                        })\n                    };\n                }\n            }\n            return val;\n        });\n    }\n    // Handle has one - polymorphic\n    if (isValidRelationObject(value)) {\n        relatedCollection = config.collections?.find(({ slug })=>slug === value.relationTo);\n        if (relatedCollection) {\n            result = {\n                relationTo: value.relationTo,\n                value: convertValue({\n                    relatedCollection,\n                    value: value.value\n                })\n            };\n        }\n    }\n    // Handle has one\n    if (relatedCollection && value && (typeof value === 'string' || typeof value === 'number')) {\n        result = convertValue({\n            relatedCollection,\n            value\n        });\n    }\n    if (locale) {\n        ref[locale] = result;\n    } else {\n        ref[field.name] = result;\n    }\n};\nconst sanitizeRelationshipIDs = ({ config, data, fields })=>{\n    const sanitize = ({ field, ref })=>{\n        if (!ref || typeof ref !== 'object') {\n            return;\n        }\n        if (field.type === 'relationship' || field.type === 'upload') {\n            if (!ref[field.name]) {\n                return;\n            }\n            // handle localized relationships\n            if (config.localization && field.localized) {\n                const locales = config.localization.locales;\n                const fieldRef = ref[field.name];\n                if (typeof fieldRef !== 'object') {\n                    return;\n                }\n                for (const { code } of locales){\n                    const value = ref[field.name][code];\n                    if (value) {\n                        sanitizeRelationship({\n                            config,\n                            field,\n                            locale: code,\n                            ref: fieldRef,\n                            value\n                        });\n                    }\n                }\n            } else {\n                // handle non-localized relationships\n                sanitizeRelationship({\n                    config,\n                    field,\n                    locale: undefined,\n                    ref,\n                    value: ref[field.name]\n                });\n            }\n        }\n    };\n    (0,payload__WEBPACK_IMPORTED_MODULE_2__.traverseFields)({\n        callback: sanitize,\n        fields,\n        fillEmpty: false,\n        ref: data\n    });\n    return data;\n};\n\n//# sourceMappingURL=sanitizeRelationshipIDs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ1E7QUFDUztBQUNsRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xELGlFQUFpRSxnRUFBZ0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkNBQUs7QUFDeEIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQ0FBbUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixNQUFNO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ08sbUNBQW1DLHNCQUFzQjtBQUNoRSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE9BQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpbmt1cy9HaXRodWIvbW9ub3R3by9wYXlsb2FkLXBsdWdpbi1tZXRhL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHlwZXMgfSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyB0cmF2ZXJzZUZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZmllbGRBZmZlY3RzRGF0YSB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmZ1bmN0aW9uIGlzVmFsaWRSZWxhdGlvbk9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICdyZWxhdGlvblRvJyBpbiB2YWx1ZSAmJiAndmFsdWUnIGluIHZhbHVlO1xufVxuY29uc3QgY29udmVydFZhbHVlID0gKHsgcmVsYXRlZENvbGxlY3Rpb24sIHZhbHVlIH0pPT57XG4gICAgY29uc3QgY3VzdG9tSURGaWVsZCA9IHJlbGF0ZWRDb2xsZWN0aW9uLmZpZWxkcy5maW5kKChmaWVsZCk9PmZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLm5hbWUgPT09ICdpZCcpO1xuICAgIGlmIChjdXN0b21JREZpZWxkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlcy5PYmplY3RJZCh2YWx1ZSk7XG4gICAgfSBjYXRjaCAge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbmNvbnN0IHNhbml0aXplUmVsYXRpb25zaGlwID0gKHsgY29uZmlnLCBmaWVsZCwgbG9jYWxlLCByZWYsIHZhbHVlIH0pPT57XG4gICAgbGV0IHJlbGF0ZWRDb2xsZWN0aW9uO1xuICAgIGxldCByZXN1bHQgPSB2YWx1ZTtcbiAgICBjb25zdCBoYXNNYW55UmVsYXRpb25zID0gdHlwZW9mIGZpZWxkLnJlbGF0aW9uVG8gIT09ICdzdHJpbmcnO1xuICAgIGlmICghaGFzTWFueVJlbGF0aW9ucykge1xuICAgICAgICByZWxhdGVkQ29sbGVjdGlvbiA9IGNvbmZpZy5jb2xsZWN0aW9ucz8uZmluZCgoeyBzbHVnIH0pPT5zbHVnID09PSBmaWVsZC5yZWxhdGlvblRvKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlLm1hcCgodmFsKT0+e1xuICAgICAgICAgICAgLy8gSGFuZGxlIGhhcyBtYW55XG4gICAgICAgICAgICBpZiAocmVsYXRlZENvbGxlY3Rpb24gJiYgdmFsICYmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udmVydFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZENvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBoYXMgbWFueSAtIHBvbHltb3JwaGljXG4gICAgICAgICAgICBpZiAoaXNWYWxpZFJlbGF0aW9uT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGVkQ29sbGVjdGlvbkZvclNpbmdsZVZhbHVlID0gY29uZmlnLmNvbGxlY3Rpb25zPy5maW5kKCh7IHNsdWcgfSk9PnNsdWcgPT09IHZhbC5yZWxhdGlvblRvKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRlZENvbGxlY3Rpb25Gb3JTaW5nbGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UbzogdmFsLnJlbGF0aW9uVG8sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29udmVydFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkQ29sbGVjdGlvbjogcmVsYXRlZENvbGxlY3Rpb25Gb3JTaW5nbGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgaGFzIG9uZSAtIHBvbHltb3JwaGljXG4gICAgaWYgKGlzVmFsaWRSZWxhdGlvbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmVsYXRlZENvbGxlY3Rpb24gPSBjb25maWcuY29sbGVjdGlvbnM/LmZpbmQoKHsgc2x1ZyB9KT0+c2x1ZyA9PT0gdmFsdWUucmVsYXRpb25Ubyk7XG4gICAgICAgIGlmIChyZWxhdGVkQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IHZhbHVlLnJlbGF0aW9uVG8sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNvbnZlcnRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRDb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGUgaGFzIG9uZVxuICAgIGlmIChyZWxhdGVkQ29sbGVjdGlvbiAmJiB2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSkge1xuICAgICAgICByZXN1bHQgPSBjb252ZXJ0VmFsdWUoe1xuICAgICAgICAgICAgcmVsYXRlZENvbGxlY3Rpb24sXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGxvY2FsZSkge1xuICAgICAgICByZWZbbG9jYWxlXSA9IHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZWZbZmllbGQubmFtZV0gPSByZXN1bHQ7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyA9ICh7IGNvbmZpZywgZGF0YSwgZmllbGRzIH0pPT57XG4gICAgY29uc3Qgc2FuaXRpemUgPSAoeyBmaWVsZCwgcmVmIH0pPT57XG4gICAgICAgIGlmICghcmVmIHx8IHR5cGVvZiByZWYgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdyZWxhdGlvbnNoaXAnIHx8IGZpZWxkLnR5cGUgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgICBpZiAoIXJlZltmaWVsZC5uYW1lXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBsb2NhbGl6ZWQgcmVsYXRpb25zaGlwc1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5sb2NhbGl6YXRpb24gJiYgZmllbGQubG9jYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlcyA9IGNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlcztcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFJlZiA9IHJlZltmaWVsZC5uYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkUmVmICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBjb2RlIH0gb2YgbG9jYWxlcyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVmW2ZpZWxkLm5hbWVdW2NvZGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplUmVsYXRpb25zaGlwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlOiBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogZmllbGRSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgbm9uLWxvY2FsaXplZCByZWxhdGlvbnNoaXBzXG4gICAgICAgICAgICAgICAgc2FuaXRpemVSZWxhdGlvbnNoaXAoe1xuICAgICAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmVmLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVmW2ZpZWxkLm5hbWVdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgY2FsbGJhY2s6IHNhbml0aXplLFxuICAgICAgICBmaWVsZHMsXG4gICAgICAgIGZpbGxFbXB0eTogZmFsc2UsXG4gICAgICAgIHJlZjogZGF0YVxuICAgIH0pO1xuICAgIHJldHVybiBkYXRhO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\n");

/***/ })

};
;